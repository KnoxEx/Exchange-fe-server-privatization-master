{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/utils/common-method.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/utils/common-method.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.is-nan\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport _toConsumableArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.string.pad-end\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\n// 汇率计算\nimport { getCookie } from \"./cookie\";\nexport var logImg = function logImg(data) {\n  if (!/localhost|dev|staging/g.test(window.location.host)) {\n    var img = document.createElement('img');\n    img.src = \"https://chaindown-oss.oss-cn-hongkong.aliyuncs.com/static/cd.png?info=\".concat(JSON.stringify(data));\n  }\n};\nexport var getCountryList = function getCountryList(phoneCodeGlobal) {\n  var list = [];\n  var countryMap = {};\n  var countryRealMap = {};\n\n  if (phoneCodeGlobal.A) {\n    Object.keys(phoneCodeGlobal).forEach(function (item) {\n      phoneCodeGlobal[item].forEach(function (vitem) {\n        var valueArr = vitem.split('+');\n        var value = \"\".concat(valueArr[0], \"+\").concat(valueArr[1]);\n        var codeArr = vitem.split(' +');\n        var code = \"+\".concat(codeArr[1].split('+')[0]);\n        var obj = {\n          value: value,\n          code: \"+\".concat(valueArr[2]),\n          keyCode: code\n        };\n        list.push(obj);\n        countryMap[code] = obj;\n        countryRealMap[\"+\".concat(valueArr[2])] = obj;\n      });\n    });\n  }\n\n  return function () {\n    return {\n      list: list,\n      countryMap: countryMap,\n      countryRealMap: countryRealMap\n    };\n  }();\n};\nexport var diff = function diff(date) {\n  var dateBegin = new Date(date.replace(/-/g, '/'));\n  var dateEnd = new Date();\n  var dateDiff = dateEnd.getTime() - dateBegin.getTime();\n  var dayDiff = -Math.floor(dateDiff / (24 * 3600 * 1000));\n  return dayDiff;\n};\nexport var fixRate = function fixRate(price, exrate, market) {\n  var lang = getCookie('lan') || 'en_US'; // if (lang === 'el_GR') { lang = 'zh_CN' }\n\n  if (!exrate) {\n    return '--';\n  }\n\n  var larate = exrate[lang] || exrate.en_US;\n\n  if (!larate) {\n    return '--';\n  }\n\n  var pric = larate[market] * price;\n\n  if (\"\".concat(parseFloat(pric)) !== 'NaN') {\n    var rate = typeof larate.symbolPrecision !== 'undefined' ? larate.symbolPrecision : larate.coin_precision;\n    return larate.lang_logo + pric.toFixed(rate);\n  }\n\n  return '--';\n}; // 时间格式化\n\nexport var formatTime = function formatTime(dateTime) {\n  var date = new Date(dateTime);\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1;\n  var day = date.getDate();\n  var hours = date.getHours();\n  var minutes = date.getMinutes();\n  var seconds = date.getSeconds();\n\n  function s(t) {\n    return t < 10 ? \"0\".concat(t) : t;\n  }\n\n  return \"\".concat(year, \"-\").concat(s(month), \"-\").concat(s(day), \" \").concat(s(hours), \":\").concat(s(minutes), \":\").concat(s(seconds));\n}; // 精度计算E+处理方法\n\nvar fixDEAdd = function fixDEAdd(num, precision) {\n  var autoFix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (\"\".concat(num) === '0') {\n    if (!window.parseFloat(precision) || !autoFix) return 0;\n    return '0.'.padEnd(precision + 2, '0');\n  }\n\n  if (!num) return '--';\n  var number = parseFloat(num);\n  var strN = num.toString();\n  var flag = number < 0;\n  var result = strN;\n\n  if (strN.toLowerCase().indexOf('e') > -1) {\n    var n = strN.match(/(\\d+?)(?:\\.(\\d*))?e([+-])(\\d+)/);\n    var nl = n[1]; // 小数点左边\n\n    var nr = n[2]; // 小数点右边\n\n    var type = n[3]; //  + / -\n\n    var floatN = n[4]; // 科学计数法的位数\n\n    var params = '';\n    var pr = nr ? nr.substr(floatN) : '';\n    if (pr) pr = \".\".concat(pr);\n\n    if (type !== '-') {\n      for (var i = 0; i < floatN; i += 1) {\n        var p = nr[i] || '0';\n        params += p;\n      }\n\n      result = nl + params + pr;\n    } else {\n      var strl = '0';\n\n      for (var _i = 0; _i < floatN; _i += 1) {\n        var _p = nl[nl.length - _i - 1] || '0';\n\n        params = _p + params;\n      }\n\n      if (nl.length > floatN) strl = nl.substr(0, nl.length - floatN);\n      result = \"\".concat(strl, \".\").concat(params).concat(nr);\n    }\n  }\n\n  if (precision && autoFix) {\n    var pal = \"\".concat(result.split('.')[0], \".\");\n    var par = result.split('.')[1] || '';\n\n    for (var _i2 = 0; _i2 < precision; _i2 += 1) {\n      pal += par[_i2] || '0';\n    }\n\n    result = pal;\n  }\n\n  if (result.length > 14) {\n    var arry = result.split('.');\n\n    if (arry[0].length > 14) {\n      result = \"\".concat(arry[0].slice(0, 14), \"+\");\n    } else {\n      result = result.slice(0, 13);\n\n      if (result.indexOf('.') === 12) {\n        result = result.slice(0, 12);\n      }\n    }\n  }\n\n  return \"\".concat(flag ? '-' : '').concat(result);\n}; // 精度计算\n\n\nexport var fixD = function fixD(num, precision) {\n  // num初始化\n  if (\"\".concat(num) === '0') {\n    if (!window.parseFloat(precision)) {\n      return 0;\n    }\n\n    return '0.'.padEnd(precision + 2, '0');\n  }\n\n  if (!num) {\n    return '--';\n  } // 暂用 ----\n  // if (num.length > 14) {\n  //   let rNum = num.slice(0, 14);\n  //   if (num[13] === '.') {\n  //     rNum = rNum.slice(0, 13);\n  //   }\n  //   return `${rNum}+`;\n  // }\n  // ----------\n\n\n  var flag = false;\n\n  if (parseFloat(num) < 0) {\n    flag = true;\n  }\n\n  var newnum = \"\".concat(Math.abs(parseFloat(num)));\n\n  if (newnum === 'NaN') {\n    return '--';\n  }\n\n  var fixNum = newnum; // 科学计数法计算\n\n  if (newnum.toLowerCase().indexOf('e') > -1) {\n    if (newnum.toLowerCase().indexOf('+') > -1) return fixDEAdd(newnum, precision);\n    var a = newnum.toLowerCase().split('e');\n    var b = a[0];\n    var c = Math.abs(parseFloat(a[1]));\n    var d = '';\n    var h = b.length;\n    var i;\n\n    if (a[0].split('.')[1]) {\n      b = a[0].split('.')[0] + a[0].split('.')[1];\n      h = a[0].split('.')[0].length;\n    }\n\n    for (i = 0; i < c - h; i += 1) {\n      d += '0';\n    }\n\n    fixNum = \"0.\".concat(d).concat(b);\n  } // 精度格式化\n  // precision初始化\n\n\n  if (\"\".concat(precision) !== '0' && !precision) {\n    return (flag ? '-' : '') + fixNum;\n  }\n\n  if (\"\".concat(parseFloat(num)) === 'NaN') {\n    return (flag ? '-' : '') + fixNum;\n  }\n\n  var fNum = fixNum.split('.');\n\n  if (precision === 0) {\n    fixNum = parseInt(fixNum, 10);\n  } else if (precision > 0 && fNum[1]) {\n    if (fNum[1].length > precision) {\n      if (fNum[1].indexOf('999999999') > -1) {\n        var s = parseFloat(fixNum).toFixed(precision + 1);\n        fixNum = s.slice(0, s.length - 1);\n      } else {\n        fixNum = \"\".concat(fNum[0], \".\").concat(fNum[1].slice(0, precision));\n      }\n    } else {\n      fixNum = parseFloat(fixNum).toFixed(precision);\n    }\n  } else {\n    fixNum = parseFloat(fixNum).toFixed(precision);\n  }\n\n  if (fixNum.length >= 14 && fixNum.indexOf('.') > -1) {\n    var arry = fixNum.split('.');\n\n    if (arry[0].length > 14) {\n      fixNum = \"\".concat(arry[0].slice(0, 14), \"+\");\n    } else {\n      fixNum = fixNum.slice(0, 13);\n\n      if (fixNum.indexOf('.') === 12) {\n        fixNum = fixNum.slice(0, 12);\n      }\n    }\n  }\n\n  return (flag ? '-' : '') + fixNum;\n}; // 删除小数点最后面的0\n\nexport var lastD = function lastD(num) {\n  if (!num) return num;\n  var newNum = \"\".concat(num);\n  var str = newNum.split('.')[1];\n  if (!str) return newNum;\n\n  function substring(stri) {\n    var arr = stri.split('');\n\n    for (var i = arr.length - 1; i >= 0; i -= 1) {\n      if (!arr[i]) return newNum.split('.')[0];\n\n      if (arr[i] === '0') {\n        arr.splice(i);\n      } else {\n        break;\n      }\n    }\n\n    if (!arr.length) return newNum.split('.')[0];\n    return \"\".concat(newNum.split('.')[0], \".\").concat(arr.join(''));\n  }\n\n  return substring(str);\n}; // 获取url里的参数\n\nexport var fixUrl = function fixUrl(name) {\n  var text = window.location.search.substring(1).split('&');\n  var v = null;\n\n  for (var i = text.length - 1; i >= 0; i -= 1) {\n    var key = text[i].split('=')[0];\n    var value = text[i].split('=')[1];\n\n    if (key === name) {\n      v = value;\n      break;\n    }\n  }\n\n  return v;\n}; // 输入框\n\nexport var fixInput = function fixInput(val, fixs) {\n  var fix = fixs;\n\n  if (!fix === 0) {\n    fix = fix || 10;\n  }\n\n  var v = \"\".concat(fixDEAdd(val, fixs, false)); // 操作1\n  // 用户行为 直接上来打个.\n  // 解决方案 置换成0.\n\n  if (v.charAt(0) === '.') {\n    v = '0.';\n  } // 操作2\n  // 用户行为 打多个点.\n  // 解决方案 保留第二个点以前的数值\n\n\n  var strArr = _toConsumableArray(v).reduce(function (res, c) {\n    if (res[c]) {\n      res[c] += 1;\n    } else {\n      res[c] = 1;\n    }\n\n    return res;\n  }, {});\n\n  if (strArr['.'] === 2) {\n    var arr = v.split('.');\n    v = \"\".concat(arr[0], \".\").concat(arr[1]);\n  } // 操作3\n  // 用户行为 小数点后输入超过该币种精度限制\n  // 解决方案 保留该精度之前的数值\n\n\n  if (v.indexOf('.') !== -1) {\n    var integer = v.split('.')[0]; // 整数\n\n    var decimal = v.split('.')[1]; // 小数\n\n    if (decimal.length > fix) {\n      decimal = decimal.substring(0, fix);\n      v = \"\".concat(integer, \".\").concat(decimal);\n    }\n  } // 操作4\n  // 用户行为 转成汉语拼音后可输入汉字字母等字符\n  // 解决方案 干掉写入的文字\n\n\n  var strKey = Object.keys(strArr);\n  strKey.forEach(function (c) {\n    var str = '01234567890.';\n\n    if (fix === 0) {\n      str = '01234567890';\n    }\n\n    if (str.indexOf(c) === -1) {\n      v = v.split(c)[0] + (v.split(c)[1] || '');\n    }\n  }); // 操作5\n  // 用户行为 输入总长度超过14位 包括.\n  // 解决方案 截取前14位\n\n  if (v.length > 13) {\n    v = v.substring(0, 13);\n  }\n\n  return v;\n}; // 计算倒计时 仅支持到天位\n\nexport var getTime = function getTime(spkTime) {\n  var dateSpan = Math.abs(spkTime);\n\n  if (!dateSpan) {\n    return '';\n  } // 计算天\n\n\n  var iDays = Math.floor(dateSpan / (24 * 3600 * 1000)); // 计算小时\n\n  dateSpan -= iDays * (24 * 3600 * 1000);\n  var iHour = \"\".concat(Math.floor(dateSpan / (3600 * 1000)));\n  iHour = iHour.length === 1 ? \"0\".concat(iHour) : iHour; // 计算分钟\n\n  dateSpan -= iHour * (3600 * 1000);\n  var iMin = \"\".concat(Math.floor(dateSpan / (60 * 1000)));\n  iMin = iMin.length === 1 ? \"0\".concat(iMin) : iMin; // 计算秒钟\n\n  dateSpan -= iMin * (60 * 1000);\n  var iSec = \"\".concat(Math.floor(dateSpan / 1000));\n  iSec = iSec.length === 1 ? \"0\".concat(iSec) : iSec;\n  return {\n    day: iDays,\n    hour: iHour,\n    min: iMin,\n    sec: iSec\n  };\n}; // 计算时间 2012:12:12 12:12:12\n\nexport function timeFn(dataObj, data) {\n  var fmt = data;\n  var o = {\n    'M+': dataObj.getMonth() + 1,\n    // 月份\n    'd+': dataObj.getDate(),\n    // 日\n    'h+': dataObj.getHours(),\n    // 小时\n    'm+': dataObj.getMinutes(),\n    // 分\n    's+': dataObj.getSeconds(),\n    // 秒\n    'q+': Math.floor((dataObj.getMonth() + 3) / 3),\n    // 季度\n    S: dataObj.getMilliseconds() // 毫秒\n\n  };\n\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, \"\".concat(dataObj.getFullYear()).substr(4 - RegExp.$1.length));\n  }\n\n  Object.keys(o).forEach(function (k) {\n    if (new RegExp(\"(\".concat(k, \")\")).test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : \"00\".concat(o[k]).substr(\"\".concat(o[k]).length));\n    }\n  });\n  return fmt;\n}\nexport var getComplexType = function getComplexType(obj) {\n  var type = Object.prototype.toString.call(obj);\n  return type.match(/\\s(.+)]/ig)[0].trim().replace(']', '');\n};\nexport var thousands = function thousands(num) {\n  var str = num.toString();\n  var reg = str.indexOf('.') > -1 ? /(\\d)(?=(\\d{3})+\\.)/g : /(\\d)(?=(?:\\d{3})+$)/g;\n  return str.replace(reg, '$1,');\n};\nexport function getLocationLang() {\n  var langList = ['el_GR', 'en_US', 'ja_JP', 'ko_KR', 'vi_VN', 'zh_CN'];\n  var hrefLang = window.location.href.match(/lang=(.+?)(&|$)/);\n  var url = '';\n\n  if (hrefLang && hrefLang[1] && langList.indexOf(hrefLang[1]) > -1) {\n    var _hrefLang = _slicedToArray(hrefLang, 2);\n\n    url = _hrefLang[1];\n  }\n\n  return url;\n}\nexport function getCoinShowName(name) {\n  var coinList = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (name && coinList && coinList[name.toUpperCase()]) {\n    return coinList[name.toUpperCase()].showName || name;\n  }\n\n  return name;\n}\nexport function fixFloat(num, precision) {\n  var fix = Number(precision);\n  var n = \"\".concat(num);\n  var arr = n.split('.');\n\n  if (Number.isNaN(Number(num))) {\n    return '--';\n  }\n\n  if (!fix || arr.length === 1) {\n    return arr[0];\n  }\n\n  return \"\".concat(arr[0], \".\").concat(arr[1].substring(0, fix));\n} // 千位数字每三位加逗号\n\nexport var thousandsComma = function thousandsComma(num) {\n  var Num = (num || 0).toString();\n  var symbol = '';\n\n  if (new RegExp(/^\\+|^-/).test(Num)) {\n    symbol = Num.substr(0, 1);\n    Num = Num.substr(1);\n  }\n\n  var number = 0;\n  var floatNum = '';\n  var intNum = ''; // 判断是否有小数位，有则截取小数点后的数字\n\n  if (Num.indexOf('.') > 0) {\n    number = Num.indexOf('.'); // 获取小数点出现的位置\n\n    floatNum = Num.substr(number); // 截取arr.substr(form, length)\n\n    intNum = Num.substring(0, number); // 截取arr.substring(start, end)\n  } else {\n    intNum = Num;\n  }\n\n  var result = [];\n  var counter = 0;\n  intNum = intNum.split(''); // 利用3的倍数，向数组插入','\n\n  for (var i = intNum.length - 1; i >= 0; i -= 1) {\n    counter += 1;\n    result.unshift(intNum[i]);\n\n    if (!(counter % 3) && i !== 0) {\n      result.unshift(',');\n    }\n  }\n\n  return symbol + result.join('') + floatNum || '';\n}; // 计算小数点后面的数量\n\nexport var getDigit = function getDigit(num) {\n  var arr = String(num).split('.');\n\n  if (arr.length < 2) {\n    return 0;\n  }\n\n  return arr[1].length;\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/utils/common-method.js"],"names":["getCookie","logImg","data","test","window","location","host","img","document","createElement","src","JSON","stringify","getCountryList","phoneCodeGlobal","list","countryMap","countryRealMap","A","Object","keys","forEach","item","vitem","valueArr","split","value","codeArr","code","obj","keyCode","push","diff","date","dateBegin","Date","replace","dateEnd","dateDiff","getTime","dayDiff","Math","floor","fixRate","price","exrate","market","lang","larate","en_US","pric","parseFloat","rate","symbolPrecision","coin_precision","lang_logo","toFixed","formatTime","dateTime","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","s","t","fixDEAdd","num","precision","autoFix","padEnd","number","strN","toString","flag","result","toLowerCase","indexOf","n","match","nl","nr","type","floatN","params","pr","substr","i","p","strl","length","pal","par","arry","slice","fixD","newnum","abs","fixNum","a","b","c","d","h","fNum","parseInt","lastD","newNum","str","substring","stri","arr","splice","join","fixUrl","name","text","search","v","key","fixInput","val","fixs","fix","charAt","strArr","reduce","res","integer","decimal","strKey","spkTime","dateSpan","iDays","iHour","iMin","iSec","hour","min","sec","timeFn","dataObj","fmt","o","S","getMilliseconds","RegExp","$1","k","getComplexType","prototype","call","trim","thousands","reg","getLocationLang","langList","hrefLang","href","url","getCoinShowName","coinList","toUpperCase","showName","fixFloat","Number","isNaN","thousandsComma","Num","symbol","floatNum","intNum","counter","unshift","getDigit","String"],"mappings":"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","sourcesContent":["// 汇率计算\r\nimport { getCookie } from './cookie';\r\n\r\nexport const logImg = (data) => {\r\n  if (!/localhost|dev|staging/g.test(window.location.host)) {\r\n    const img = document.createElement('img');\r\n    img.src = `https://chaindown-oss.oss-cn-hongkong.aliyuncs.com/static/cd.png?info=${JSON.stringify(data)}`;\r\n  }\r\n};\r\n\r\nexport const getCountryList = (phoneCodeGlobal) => {\r\n  const list = [];\r\n  const countryMap = {};\r\n  const countryRealMap = {};\r\n  if (phoneCodeGlobal.A) {\r\n    Object.keys(phoneCodeGlobal).forEach((item) => {\r\n      phoneCodeGlobal[item].forEach((vitem) => {\r\n        const valueArr = vitem.split('+');\r\n        const value = `${valueArr[0]}+${valueArr[1]}`;\r\n        const codeArr = vitem.split(' +');\r\n        const code = `+${codeArr[1].split('+')[0]}`;\r\n        const obj = { value, code: `+${valueArr[2]}`, keyCode: code };\r\n        list.push(obj);\r\n        countryMap[code] = obj;\r\n        countryRealMap[`+${valueArr[2]}`] = obj;\r\n      });\r\n    });\r\n  }\r\n  return (() => ({\r\n    list,\r\n    countryMap,\r\n    countryRealMap,\r\n  }))();\r\n};\r\n\r\nexport const diff = (date) => {\r\n  const dateBegin = new Date(date.replace(/-/g, '/'));\r\n  const dateEnd = new Date();\r\n  const dateDiff = dateEnd.getTime() - dateBegin.getTime();\r\n  const dayDiff = -Math.floor(dateDiff / (24 * 3600 * 1000));\r\n  return dayDiff;\r\n};\r\n\r\nexport const fixRate = (price, exrate, market) => {\r\n  const lang = getCookie('lan') || 'en_US';\r\n  // if (lang === 'el_GR') { lang = 'zh_CN' }\r\n  if (!exrate) {\r\n    return '--';\r\n  }\r\n  const larate = exrate[lang] || exrate.en_US;\r\n  if (!larate) {\r\n    return '--';\r\n  }\r\n  const pric = larate[market] * price;\r\n  if (`${parseFloat(pric)}` !== 'NaN') {\r\n    const rate = typeof larate.symbolPrecision !== 'undefined' ? larate.symbolPrecision : larate.coin_precision;\r\n    return larate.lang_logo + pric.toFixed(rate);\r\n  }\r\n  return '--';\r\n};\r\n// 时间格式化\r\nexport const formatTime = (dateTime) => {\r\n  const date = new Date(dateTime);\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  const hours = date.getHours();\r\n  const minutes = date.getMinutes();\r\n  const seconds = date.getSeconds();\r\n\r\n  function s(t) {\r\n    return t < 10 ? `0${t}` : t;\r\n  }\r\n\r\n  return `${year}-${s(month)}-${s(day)} ${s(hours)}:${s(minutes)}:${s(seconds)}`;\r\n};\r\n\r\n// 精度计算E+处理方法\r\nconst fixDEAdd = (num, precision, autoFix = true) => {\r\n  if (`${num}` === '0') {\r\n    if (!window.parseFloat(precision) || !autoFix) return 0;\r\n    return '0.'.padEnd(precision + 2, '0');\r\n  }\r\n  if (!num) return '--';\r\n\r\n  const number = parseFloat(num);\r\n  const strN = num.toString();\r\n  const flag = number < 0;\r\n  let result = strN;\r\n\r\n  if (strN.toLowerCase().indexOf('e') > -1) {\r\n    const n = strN.match(/(\\d+?)(?:\\.(\\d*))?e([+-])(\\d+)/);\r\n    const nl = n[1]; // 小数点左边\r\n    const nr = n[2]; // 小数点右边\r\n    const type = n[3]; //  + / -\r\n    const floatN = n[4]; // 科学计数法的位数\r\n\r\n    let params = '';\r\n    let pr = nr ? nr.substr(floatN) : '';\r\n\r\n    if (pr) pr = `.${pr}`;\r\n    if (type !== '-') {\r\n      for (let i = 0; i < floatN; i += 1) {\r\n        const p = nr[i] || '0';\r\n        params += p;\r\n      }\r\n      result = nl + params + pr;\r\n    } else {\r\n      let strl = '0';\r\n      for (let i = 0; i < floatN; i += 1) {\r\n        const p = nl[nl.length - i - 1] || '0';\r\n        params = p + params;\r\n      }\r\n      if (nl.length > floatN) strl = nl.substr(0, nl.length - floatN);\r\n      result = `${strl}.${params}${nr}`;\r\n    }\r\n  }\r\n\r\n  if (precision && autoFix) {\r\n    let pal = `${result.split('.')[0]}.`;\r\n    const par = result.split('.')[1] || '';\r\n\r\n    for (let i = 0; i < precision; i += 1) {\r\n      pal += par[i] || '0';\r\n    }\r\n    result = pal;\r\n  }\r\n\r\n  if (result.length > 14) {\r\n    const arry = result.split('.');\r\n    if (arry[0].length > 14) {\r\n      result = `${arry[0].slice(0, 14)}+`;\r\n    } else {\r\n      result = result.slice(0, 13);\r\n      if (result.indexOf('.') === 12) {\r\n        result = result.slice(0, 12);\r\n      }\r\n    }\r\n  }\r\n\r\n  return `${flag ? '-' : ''}${result}`;\r\n};\r\n// 精度计算\r\nexport const fixD = (num, precision) => {\r\n  // num初始化\r\n  if (`${num}` === '0') {\r\n    if (!window.parseFloat(precision)) {\r\n      return 0;\r\n    }\r\n    return '0.'.padEnd(precision + 2, '0');\r\n  }\r\n  if (!num) {\r\n    return '--';\r\n  }\r\n  // 暂用 ----\r\n  // if (num.length > 14) {\r\n  //   let rNum = num.slice(0, 14);\r\n  //   if (num[13] === '.') {\r\n  //     rNum = rNum.slice(0, 13);\r\n  //   }\r\n  //   return `${rNum}+`;\r\n  // }\r\n  // ----------\r\n  let flag = false;\r\n  if (parseFloat(num) < 0) {\r\n    flag = true;\r\n  }\r\n\r\n  const newnum = `${Math.abs(parseFloat(num))}`;\r\n  if (newnum === 'NaN') {\r\n    return '--';\r\n  }\r\n  let fixNum = newnum;\r\n  // 科学计数法计算\r\n  if (newnum.toLowerCase().indexOf('e') > -1) {\r\n    if (newnum.toLowerCase().indexOf('+') > -1) return fixDEAdd(newnum, precision);\r\n    const a = newnum.toLowerCase().split('e');\r\n    let b = a[0];\r\n    const c = Math.abs(parseFloat(a[1]));\r\n    let d = '';\r\n    let h = b.length;\r\n    let i;\r\n    if (a[0].split('.')[1]) {\r\n      b = a[0].split('.')[0] + a[0].split('.')[1];\r\n      h = a[0].split('.')[0].length;\r\n    }\r\n    for (i = 0; i < c - h; i += 1) {\r\n      d += '0';\r\n    }\r\n    fixNum = `0.${d}${b}`;\r\n  }\r\n  // 精度格式化\r\n  // precision初始化\r\n  if (`${precision}` !== '0' && !precision) {\r\n    return (flag ? '-' : '') + fixNum;\r\n  }\r\n  if (`${parseFloat(num)}` === 'NaN') {\r\n    return (flag ? '-' : '') + fixNum;\r\n  }\r\n  const fNum = fixNum.split('.');\r\n  if (precision === 0) {\r\n    fixNum = parseInt(fixNum, 10);\r\n  } else if (precision > 0 && fNum[1]) {\r\n    if (fNum[1].length > precision) {\r\n      if (fNum[1].indexOf('999999999') > -1) {\r\n        const s = parseFloat(fixNum).toFixed(precision + 1);\r\n        fixNum = s.slice(0, s.length - 1);\r\n      } else {\r\n        fixNum = `${fNum[0]}.${fNum[1].slice(0, precision)}`;\r\n      }\r\n    } else {\r\n      fixNum = parseFloat(fixNum).toFixed(precision);\r\n    }\r\n  } else {\r\n    fixNum = parseFloat(fixNum).toFixed(precision);\r\n  }\r\n  if (fixNum.length >= 14 && fixNum.indexOf('.') > -1) {\r\n    const arry = fixNum.split('.');\r\n    if (arry[0].length > 14) {\r\n      fixNum = `${arry[0].slice(0, 14)}+`;\r\n    } else {\r\n      fixNum = fixNum.slice(0, 13);\r\n      if (fixNum.indexOf('.') === 12) {\r\n        fixNum = fixNum.slice(0, 12);\r\n      }\r\n    }\r\n  }\r\n  return (flag ? '-' : '') + fixNum;\r\n};\r\n\r\n// 删除小数点最后面的0\r\nexport const lastD = (num) => {\r\n  if (!num) return num;\r\n  const newNum = `${num}`;\r\n  const str = newNum.split('.')[1];\r\n  if (!str) return newNum;\r\n\r\n  function substring(stri) {\r\n    const arr = stri.split('');\r\n    for (let i = arr.length - 1; i >= 0; i -= 1) {\r\n      if (!arr[i]) return newNum.split('.')[0];\r\n      if (arr[i] === '0') {\r\n        arr.splice(i);\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    if (!arr.length) return newNum.split('.')[0];\r\n    return `${newNum.split('.')[0]}.${arr.join('')}`;\r\n  }\r\n\r\n  return substring(str);\r\n};\r\n// 获取url里的参数\r\nexport const fixUrl = (name) => {\r\n  const text = window.location.search.substring(1).split('&');\r\n  let v = null;\r\n  for (let i = text.length - 1; i >= 0; i -= 1) {\r\n    const key = text[i].split('=')[0];\r\n    const value = text[i].split('=')[1];\r\n    if (key === name) {\r\n      v = value;\r\n      break;\r\n    }\r\n  }\r\n  return v;\r\n};\r\n// 输入框\r\nexport const fixInput = (val, fixs) => {\r\n  let fix = fixs;\r\n  if (!fix === 0) {\r\n    fix = fix || 10;\r\n  }\r\n\r\n  let v = `${fixDEAdd(val, fixs, false)}`;\r\n  // 操作1\r\n  // 用户行为 直接上来打个.\r\n  // 解决方案 置换成0.\r\n  if (v.charAt(0) === '.') {\r\n    v = '0.';\r\n  }\r\n  // 操作2\r\n  // 用户行为 打多个点.\r\n  // 解决方案 保留第二个点以前的数值\r\n  const strArr = [...v].reduce((res, c) => {\r\n    if (res[c]) {\r\n      res[c] += 1;\r\n    } else {\r\n      res[c] = 1;\r\n    }\r\n    return res;\r\n  }, {});\r\n  if (strArr['.'] === 2) {\r\n    const arr = v.split('.');\r\n    v = `${arr[0]}.${arr[1]}`;\r\n  }\r\n  // 操作3\r\n  // 用户行为 小数点后输入超过该币种精度限制\r\n  // 解决方案 保留该精度之前的数值\r\n  if (v.indexOf('.') !== -1) {\r\n    const integer = v.split('.')[0]; // 整数\r\n    let decimal = v.split('.')[1]; // 小数\r\n    if (decimal.length > fix) {\r\n      decimal = decimal.substring(0, fix);\r\n      v = `${integer}.${decimal}`;\r\n    }\r\n  }\r\n  // 操作4\r\n  // 用户行为 转成汉语拼音后可输入汉字字母等字符\r\n  // 解决方案 干掉写入的文字\r\n  const strKey = Object.keys(strArr);\r\n  strKey.forEach((c) => {\r\n    let str = '01234567890.';\r\n    if (fix === 0) { str = '01234567890'; }\r\n    if (str.indexOf(c) === -1) {\r\n      v = v.split(c)[0] + (v.split(c)[1] || '');\r\n    }\r\n  });\r\n  // 操作5\r\n  // 用户行为 输入总长度超过14位 包括.\r\n  // 解决方案 截取前14位\r\n  if (v.length > 13) {\r\n    v = v.substring(0, 13);\r\n  }\r\n  return v;\r\n};\r\n// 计算倒计时 仅支持到天位\r\nexport const getTime = (spkTime) => {\r\n  let dateSpan = Math.abs(spkTime);\r\n  if (!dateSpan) { return ''; }\r\n  // 计算天\r\n  const iDays = Math.floor(dateSpan / (24 * 3600 * 1000));\r\n  // 计算小时\r\n  dateSpan -= (iDays * (24 * 3600 * 1000));\r\n  let iHour = `${Math.floor(dateSpan / (3600 * 1000))}`;\r\n  iHour = iHour.length === 1 ? `0${iHour}` : iHour;\r\n  // 计算分钟\r\n  dateSpan -= (iHour * (3600 * 1000));\r\n  let iMin = `${Math.floor(dateSpan / (60 * 1000))}`;\r\n  iMin = iMin.length === 1 ? `0${iMin}` : iMin;\r\n  // 计算秒钟\r\n  dateSpan -= (iMin * (60 * 1000));\r\n  let iSec = `${Math.floor(dateSpan / 1000)}`;\r\n  iSec = iSec.length === 1 ? `0${iSec}` : iSec;\r\n  return {\r\n    day: iDays,\r\n    hour: iHour,\r\n    min: iMin,\r\n    sec: iSec,\r\n  };\r\n};\r\n// 计算时间 2012:12:12 12:12:12\r\nexport function timeFn(dataObj, data) {\r\n  let fmt = data;\r\n  const o = {\r\n    'M+': dataObj.getMonth() + 1, // 月份\r\n    'd+': dataObj.getDate(), // 日\r\n    'h+': dataObj.getHours(), // 小时\r\n    'm+': dataObj.getMinutes(), // 分\r\n    's+': dataObj.getSeconds(), // 秒\r\n    'q+': Math.floor((dataObj.getMonth() + 3) / 3), // 季度\r\n    S: dataObj.getMilliseconds(), // 毫秒\r\n  };\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (`${dataObj.getFullYear()}`).substr(4 - RegExp.$1.length));\r\n  }\r\n  Object.keys(o).forEach((k) => {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k])\r\n        : ((`00${o[k]}`).substr((`${o[k]}`).length)));\r\n    }\r\n  });\r\n  return fmt;\r\n}\r\nexport const getComplexType = (obj) => {\r\n  const type = Object.prototype.toString.call(obj);\r\n  return type.match(/\\s(.+)]/ig)[0].trim().replace(']', '');\r\n};\r\n\r\nexport const thousands = (num) => {\r\n  const str = num.toString();\r\n  const reg = str.indexOf('.') > -1 ? /(\\d)(?=(\\d{3})+\\.)/g : /(\\d)(?=(?:\\d{3})+$)/g;\r\n  return str.replace(reg, '$1,');\r\n};\r\n\r\nexport function getLocationLang() {\r\n  const langList = ['el_GR', 'en_US', 'ja_JP', 'ko_KR', 'vi_VN', 'zh_CN'];\r\n  const hrefLang = window.location.href.match(/lang=(.+?)(&|$)/);\r\n  let url = '';\r\n\r\n  if (hrefLang && hrefLang[1] && langList.indexOf(hrefLang[1]) > -1) {\r\n    [, url] = hrefLang;\r\n  }\r\n\r\n  return url;\r\n}\r\n\r\nexport function getCoinShowName(name, coinList = {}) {\r\n  if (name && coinList && coinList[name.toUpperCase()]) {\r\n    return coinList[name.toUpperCase()].showName || name;\r\n  }\r\n  return name;\r\n}\r\nexport function fixFloat(num, precision) {\r\n  const fix = Number(precision);\r\n  const n = `${num}`;\r\n  const arr = n.split('.');\r\n  if (Number.isNaN(Number(num))) {\r\n    return '--';\r\n  }\r\n  if (!fix || arr.length === 1) {\r\n    return arr[0];\r\n  }\r\n  return `${arr[0]}.${arr[1].substring(0, fix)}`;\r\n}\r\n// 千位数字每三位加逗号\r\nexport const thousandsComma = (num) => {\r\n  let Num = (num || 0).toString();\r\n  let symbol = '';\r\n  if (new RegExp(/^\\+|^-/).test(Num)) {\r\n    symbol = Num.substr(0, 1);\r\n    Num = Num.substr(1);\r\n  }\r\n  let number = 0;\r\n  let floatNum = '';\r\n  let intNum = '';\r\n  // 判断是否有小数位，有则截取小数点后的数字\r\n  if (Num.indexOf('.') > 0) {\r\n    number = Num.indexOf('.'); // 获取小数点出现的位置\r\n    floatNum = Num.substr(number); // 截取arr.substr(form, length)\r\n    intNum = Num.substring(0, number); // 截取arr.substring(start, end)\r\n  } else {\r\n    intNum = Num;\r\n  }\r\n  const result = [];\r\n  let counter = 0;\r\n  intNum = intNum.split('');\r\n  // 利用3的倍数，向数组插入','\r\n  for (let i = intNum.length - 1; i >= 0; i -= 1) {\r\n    counter += 1;\r\n    result.unshift(intNum[i]);\r\n    if (!(counter % 3) && i !== 0) { result.unshift(','); }\r\n  }\r\n  return symbol + result.join('') + floatNum || '';\r\n};\r\n// 计算小数点后面的数量\r\nexport const getDigit = (num) => {\r\n  const arr = String(num).split('.');\r\n  if (arr.length < 2) {\r\n    return 0;\r\n  }\r\n  return arr[1].length;\r\n};\r\n"]}]}