{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/otcDetailOrder/title/title.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/otcDetailOrder/title/title.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { getTime } from '@/utils';\nexport default {\n  name: 'otcDetailOrder-title',\n  data: function data() {\n    return {\n      djsTime: 0,\n      timer: '',\n      vTimer: null\n    };\n  },\n  props: {\n    // 1-5 为正常流程  6是服务端状态  7为异常订单 8按3处理(客服介入强制使订单完成)\n    // 待支付1 已支付2 交易成功3 取消 4 申诉 5 打币中6 异常订单7 申诉处理结束8\n    commonData: {\n      default: function _default() {\n        return {};\n      },\n      type: Object\n    },\n    // 当前订单 是买数字货币BUY 还是卖数字货币SELL\n    isReady: {\n      default: false,\n      type: Boolean\n    }\n  },\n  watch: {\n    status: function status(v) {\n      if (v === '1' && this.commonData.limitTime && this.isReady) {\n        this.djsTime = this.commonData.limitTime;\n        this.setTime();\n      } else if (v !== '1' && v !== '0') {\n        if (this.vTimer) {\n          clearInterval(this.vTimer);\n        }\n      }\n    }\n  },\n  computed: {\n    payText: function payText() {\n      var _this = this;\n\n      var str = '';\n\n      if (this.commonData.payKey && this.commonData.payment && this.$store.state.baseData.otcPublicInfo && this.$store.state.baseData.otcPublicInfo.payments) {\n        this.$store.state.baseData.otcPublicInfo.payments.forEach(function (item) {\n          if (item.key === _this.commonData.payKey) {\n            str = item.title;\n          }\n        });\n        this.commonData.payment.forEach(function (item) {\n          if (item.payment === _this.commonData.payKey) {\n            str += \" (\".concat(item.account, \") \");\n          }\n        });\n      }\n\n      return str;\n    },\n    status: function status() {\n      if (this.commonData.status) {\n        return this.commonData.status.toString();\n      }\n\n      return '0';\n    },\n    domArr: function domArr() {\n      // 已拍下\n      var arr = [// 已拍下\n      {\n        text: this.$t('otcDetailOrder.barText'),\n        class: 'a-12-bg b-1-cl'\n      }];\n\n      if (this.isReady) {\n        var _this$commonData = this.commonData,\n            status = _this$commonData.status,\n            side = _this$commonData.side; // 已拍下 -- 待付款 -- 待收币\n\n        if (status.toString() === '1' && side === 'BUY') {\n          arr.push( // 待付款\n          {\n            text: this.$t('otcDetailOrder.bar1Buy1'),\n            class: 'a-2-bg b-1-cl'\n          }, // 待收币\n          {\n            text: this.$t('otcDetailOrder.bar1Buy2'),\n            class: 'a-2-bg b-1-cl'\n          }); // 已拍下 -- 待收款 -- 待放币\n        } else if (status.toString() === '1' && side === 'SELL') {\n          arr.push( // 待收款\n          {\n            text: this.$t('otcDetailOrder.bar1Sell1'),\n            class: 'a-2-bg b-1-cl'\n          }, // 待放币\n          {\n            text: this.$t('otcDetailOrder.bar1Sell2'),\n            class: 'a-2-bg b-1-cl'\n          }); // 已拍下 -- 已付款 -- 待收币\n        } else if (status.toString() === '2' && side === 'BUY') {\n          arr.push( // 已付款\n          {\n            text: this.$t('otcDetailOrder.bar2Buy1'),\n            class: 'a-12-bg b-1-cl'\n          }, // 待收币\n          {\n            text: this.$t('otcDetailOrder.bar2Buy2'),\n            class: 'a-2-bg b-1-cl'\n          }); // 已拍下 -- 已收款 -- 待放币\n        } else if (status.toString() === '2' && side === 'SELL') {\n          arr.push( // 已收款\n          {\n            text: this.$t('otcDetailOrder.bar2Sell1'),\n            class: 'a-12-bg b-1-cl'\n          }, // 待放币\n          {\n            text: this.$t('otcDetailOrder.bar2Sell2'),\n            class: 'a-2-bg b-1-cl'\n          }); // 已拍下 -- 已付款 -- 已完成\n        } else if (status.toString() === '3' && side === 'BUY') {\n          arr.push( // 已付款\n          {\n            text: this.$t('otcDetailOrder.bar3Buy1'),\n            class: 'a-12-bg b-1-cl'\n          }, // 已完成\n          {\n            text: this.$t('otcDetailOrder.bar3Buy2'),\n            class: 'a-12-bg b-1-cl'\n          }); // 已拍下 -- 已收款 -- 已完成\n        } else if (status.toString() === '3' && side === 'SELL') {\n          arr.push( // 已收款\n          {\n            text: this.$t('otcDetailOrder.bar3Sell1'),\n            class: 'a-12-bg b-1-cl'\n          }, // 已完成\n          {\n            text: this.$t('otcDetailOrder.bar3Sell2'),\n            class: 'a-12-bg b-1-cl'\n          }); // 已拍下 -- 已关闭\n        } else if (status.toString() === '4' || status.toString() === '9') {\n          arr.push( // 已关闭\n          {\n            text: this.$t('otcDetailOrder.bar4Sell'),\n            class: 'a-12-bg b-1-cl'\n          }); // 已拍下 -- 申诉中\n        } else if (status.toString() === '5') {\n          arr.push({\n            text: this.$t('otcDetailOrder.bar5Sell'),\n            class: 'a-12-bg b-1-cl'\n          }); // 已拍下 -- 异常订单\n        } else if (status.toString() === '7') {\n          arr.push({\n            text: this.$t('otcDetailOrder.bar7Sell'),\n            class: 'a-12-bg b-1-cl'\n          }); // 已拍下 -- 已付款 -- 已完成\n        } else if (status.toString() === '8' && side === 'BUY') {\n          arr.push( // 已付款\n          {\n            text: this.$t('otcDetailOrder.bar8Buy1'),\n            class: 'a-12-bg b-1-cl'\n          }, // 已完成\n          {\n            text: this.$t('otcDetailOrder.bar8Buy2'),\n            class: 'a-12-bg b-1-cl'\n          }); // 已拍下 -- 已收款 -- 已完成\n        } else if (status.toString() === '8' && side === 'SELL') {\n          arr.push( // 已收款\n          {\n            text: this.$t('otcDetailOrder.bar8Sell1'),\n            class: 'a-12-bg b-1-cl'\n          }, // 已完成\n          {\n            text: this.$t('otcDetailOrder.bar8Sell2'),\n            class: 'a-12-bg b-1-cl'\n          });\n        }\n      }\n\n      return arr;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.vTimer);\n  },\n  methods: {\n    goAss: function goAss() {\n      this.$router.push('/assets/otcAccount');\n    },\n    setTime: function setTime() {\n      var _this2 = this;\n\n      this.timer = this.initTime(this.djsTime);\n      this.vTimer = setInterval(function () {\n        _this2.djsTime -= 1000;\n\n        if (_this2.djsTime <= 0) {\n          clearInterval(_this2.vTimer);\n\n          _this2.$emit('getData');\n\n          return;\n        }\n\n        _this2.timer = _this2.initTime(_this2.djsTime);\n      }, 1000);\n    },\n    initTime: function initTime(spkTime) {\n      var _getTime = getTime(spkTime),\n          day = _getTime.day,\n          hour = _getTime.hour,\n          min = _getTime.min,\n          sec = _getTime.sec;\n\n      var str = '';\n\n      if (Number(day)) {\n        str += \"\".concat(day).concat(this.$t('otcDetailOrder.day'));\n      }\n\n      if (Number(hour)) {\n        str += \"\".concat(hour).concat(this.$t('otcDetailOrder.hour'));\n      }\n\n      if (Number(min)) {\n        str += \"\".concat(min).concat(this.$t('otcDetailOrder.min'));\n      }\n\n      str += \"\".concat(sec).concat(this.$t('otcDetailOrder.sec'));\n      return str;\n    }\n  }\n};",null]}