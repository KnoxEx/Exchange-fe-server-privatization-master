{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/pages/pages.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/pages/pages.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport { colorMap, browser } from '@/utils';\nimport _worker from '@/utils/webWorker';\nexport default {\n  name: 'app',\n  data: function data() {\n    return {\n      timer: null,\n      hideheade: true,\n      hideFooter: true,\n      userActivite: false,\n      userTime: 0,\n      userTimer: null,\n      setTimer: null,\n      moving: false,\n      wsClosed: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    window.onresize = function () {\n      _this.$bus.$emit('WINFOW_ON_RESIIZE', document.body.clientWidth);\n    };\n  },\n  watch: {\n    phoneCode: function phoneCode() {\n      this.filterPhoneCode(this.limitCountryList);\n    },\n    limitCountryList: {\n      handler: function handler(val) {\n        this.filterPhoneCode(val);\n      },\n      immediate: true\n    },\n    mustLogin: function mustLogin(newMeta) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        if (_this2.loginFlag === '1' && newMeta) {\n          _this2.$router.push('/login');\n        }\n      }, 500);\n    },\n    url: function url(_url) {\n      if (_url) {\n        this.goM();\n      }\n    },\n    loginFlag: function loginFlag(val) {\n      var _this3 = this;\n\n      if (val === '2') {\n        clearInterval(this.timer);\n        this.$store.dispatch('getMessage_count');\n        this.timer = setInterval(function () {\n          _this3.$store.dispatch('getMessage_count');\n        }, 15000);\n      } else {\n        clearInterval(this.timer);\n      }\n    },\n    routeMeta: function routeMeta(val) {\n      // 国际版有些页面不显示导航\n      if (this.templateLayoutType === '2' && val.hideHeade) {\n        this.hideheade = true;\n      } else if (val.hideHeade === 'visitLimit') {\n        // 限制区域访问\n        this.hideheade = true;\n      } else {\n        this.hideheade = false;\n      } // 国际版有些页面不显示footer\n\n\n      if (this.templateLayoutType === '2' && val.hideFooter !== 'false') {\n        this.hideFooter = true;\n      } else if (val.hideFooter === 'MandatoryHide') {\n        // 限制区域访问\n        this.hideFooter = true;\n      } else {\n        this.hideFooter = false;\n      }\n    },\n    templateLayoutType: function templateLayoutType(val) {\n      if (val === '2' && this.routeMeta.hideFooter !== 'false') {\n        this.hideFooter = true;\n      } else {\n        this.hideFooter = false;\n      }\n    },\n    $route: function $route(to) {\n      if (to.name !== 'serviceLimit') {\n        this.getVisitStatus();\n      }\n    }\n  },\n  computed: {\n    phoneCode: function phoneCode() {\n      return this.$t('phoneCode');\n    },\n    limitCountryList: function limitCountryList() {\n      return this.$store.state.baseData.limitCountryList;\n    },\n    worker: function worker() {\n      return _worker();\n    },\n    templateLayoutType: function templateLayoutType() {\n      return this.$store.state.baseData.templateLayoutType;\n    },\n    routeMeta: function routeMeta() {\n      return this.$route.meta;\n    },\n    navigationType: function navigationType() {\n      if (this.templateLayoutType === '2' && this.$route.meta.navigation !== '1') {\n        return '2';\n      }\n\n      return '1';\n    },\n    routeTheme: function routeTheme() {\n      return this.$route.meta.theme;\n    },\n    // 底色 主题背景色\n    pageTheme: function pageTheme() {\n      var layoutClass = 'Chainer';\n\n      if (this.templateLayoutType === '2' && this.navigationType === '2') {\n        layoutClass = 'Int';\n      }\n\n      if (this.routeTheme && this.routeTheme === 'homeOther') {\n        return \"c-2-bg \".concat(layoutClass);\n      }\n\n      return \"a-7-bg \".concat(layoutClass);\n    },\n    // 头部别景色\n    headClass: function headClass() {\n      if (this.routeTheme && this.routeTheme === 'homeOther') {\n        return 'h-2-bg';\n      }\n\n      return 'h-1-bg';\n    },\n    // 底部 上边距\n    footerClass: function footerClass() {\n      var arr = [];\n\n      if (this.routeTheme && this.routeTheme === 'homeOther') {\n        arr.push('y-3-bg y-4-bd');\n      } else {\n        arr.push('y-1-bg y-2-bd');\n      }\n\n      if (this.$route.meta.footNotMrgin) {\n        arr.push('no-margin');\n      }\n\n      return arr;\n    },\n    mustLogin: function mustLogin() {\n      return this.$route.meta.mustLogin;\n    },\n    publicInfo: function publicInfo() {\n      var info = this.$store.state.baseData.publicInfo || {};\n      return info;\n    },\n    url: function url() {\n      return this.publicInfo.url || {};\n    },\n    loginFlag: function loginFlag() {\n      var _this$$store$state$ba = this.$store.state.baseData,\n          isLogin = _this$$store$state$ba.isLogin,\n          userInfoIsReady = _this$$store$state$ba.userInfoIsReady;\n\n      if (!isLogin && userInfoIsReady) {\n        return '1';\n      }\n\n      return '2';\n    }\n  },\n  methods: {\n    // 区域IP访问限制 0 不限 1 限制\n    getVisitStatus: function getVisitStatus() {\n      var _this4 = this;\n\n      this.axios({\n        // url: '/common/checkVisitStatus',\n        url: 'limit_ip_login'\n      }).then(function (data) {\n        if (data.code === '109109') {\n          window.sessionStorage.setItem('LimitCountryNames', data.msg);\n\n          _this4.$router.push('serviceLimit');\n        }\n      });\n    },\n    filterPhoneCode: function filterPhoneCode(val) {\n      var _this5 = this;\n\n      if (this.phoneCode.A.length) {\n        if (val.length) {\n          Object.keys(this.phoneCode).forEach(function (item) {\n            _this5.phoneCode[item] = _this5.phoneCode[item].filter(function (vitem) {\n              var valueArr = vitem.split('+');\n              return val.indexOf(valueArr[2]) === -1;\n            });\n          });\n        }\n\n        this.$store.dispatch('setPhoneCodeGlobal', this.phoneCode);\n      }\n    },\n    reload: function reload() {\n      if (this.wsClosed) {\n        window.location.reload();\n      }\n    },\n    setTiming: function setTiming() {\n      var _this6 = this;\n\n      this.userActivite = true;\n      this.userTime = 0;\n      clearTimeout(this.userTimer);\n      this.userTimer = null;\n      clearTimeout(this.setTimer);\n      this.setTimer = null;\n      this.moving = true;\n      this.setTimer = setTimeout(function () {\n        _this6.moving = false;\n        _this6.userActivite = false;\n\n        if (!_this6.moving) {\n          _this6.timing();\n        }\n      }, 1000);\n    },\n    timing: function timing() {\n      var _this7 = this;\n\n      clearTimeout(this.userTimer);\n      this.userTimer = null;\n      this.userTimer = setTimeout(function () {\n        _this7.userTime += 1;\n\n        if (_this7.userTime > 7200) {\n          _this7.userActivite = true;\n          window.localtion.reload();\n\n          _this7.worker.postMessage({\n            type: 'CLOSE_WEBSOCKET'\n          });\n\n          _this7.wsClosed = true;\n        }\n\n        if (!_this7.userActivite) {\n          _this7.timing();\n        }\n      }, 1000);\n    },\n    goM: function goM() {\n      if (this.url.mexUrl) {\n        if (browser.isPhone || browser.isAndroid) {\n          window.location.href = this.url.mexUrl;\n        }\n      }\n    },\n    setStyle: function setStyle() {\n      if (colorMap) {\n        var str = \"\\n          input::-webkit-input-placeholder {\\n            color: \".concat(colorMap['b-2-cl'], \";\\n          }\\n          input::-moz-placeholder {\\n            color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n          input::-moz-placeholder {\\n            color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n          input::-ms-input-placeholder {\\n            color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n          #common-AliyunCaptcha .nc_scale {\\n            background: \").concat(colorMap['a-5-bg'], \";\\n          }\\n          #common-AliyunCaptcha .clickCaptcha {\\n            background: \").concat(colorMap['a-5-bg'], \";\\n          }\\n          #common-AliyunCaptcha .nc-container .nc_scale .clickCaptcha div {\\n            background: \").concat(colorMap['a-5-bg'], \";\\n          }\\n          #common-AliyunCaptcha .nc_scale .btn_slide {\\n            background: \").concat(colorMap['a-4-bg'], \";\\n            color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n          #common-AliyunCaptcha .scale_text.scale_text.slidetounlock span[data-nc-lang=\\\"_startTEXT\\\"] {\\n            -webkit-text-fill-color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n          #common-AliyunCaptcha .nc_scale .nc_bg {\\n            background: \").concat(colorMap['a-5-bg'], \";\\n          }\\n          #common-AliyunCaptcha .nc_scale .scale_text2 {\\n            color: \").concat(colorMap['b-2-cl'], \";\\n            background: \").concat(colorMap['a-5-bg'], \";\\n          }\\n          #common-AliyunCaptcha .nc_scale .btn_ok {\\n            background: \").concat(colorMap['a-4-bg'], \";\\n            color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n          #common-AliyunCaptcha .imgCaptcha {\\n            background: \").concat(colorMap['a-5-bg'], \"!important;\\n          }\\n          #common-AliyunCaptcha .imgCaptcha_text {\\n            background: \").concat(colorMap['a-5-bg'], \"!important;\\n            border-bottom-color: \").concat(colorMap['b-1-bd'], \"!important;\\n          }\\n          #common-AliyunCaptcha .imgCaptcha_text input {\\n            background: \").concat(colorMap['a-5-bg'], \"!important;\\n            color: \").concat(colorMap['b-2-cl'], \"!important;\\n          }\\n          #common-AliyunCaptcha .nc_scale_submit {\\n            background: \").concat(colorMap['a-12-bg'], \";\\n          }\\n          #common-AliyunCaptcha .icon_close {\\n            color: \").concat(colorMap['b-6-cl'], \";\\n          }\\n          input:-webkit-autofill , textarea:-webkit-autofill, select:-webkit-autofill {\\n            -webkit-box-shadow: 0px 0px 0px 1000px \").concat(colorMap['a-7-bg'], \" inset;\\n            -webkit-text-fill-color: \").concat(colorMap['b-2-cl'], \";\\n          }\\n        \");\n        var nod = document.createElement('style');\n        nod.type = 'text/css';\n\n        if (nod.styleSheet) {\n          // ie下\n          nod.styleSheet.cssText = str;\n        } else {\n          nod.innerHTML = str; // 或者写成 nod.appendChild(document.createTextNode(str))\n        }\n\n        document.getElementsByTagName('head')[0].appendChild(nod);\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/pages/pages.js"],"names":["colorMap","browser","worker","name","data","timer","hideheade","hideFooter","userActivite","userTime","userTimer","setTimer","moving","wsClosed","mounted","window","onresize","$bus","$emit","document","body","clientWidth","watch","phoneCode","filterPhoneCode","limitCountryList","handler","val","immediate","mustLogin","newMeta","setTimeout","loginFlag","$router","push","url","goM","clearInterval","$store","dispatch","setInterval","routeMeta","templateLayoutType","hideHeade","$route","to","getVisitStatus","computed","$t","state","baseData","meta","navigationType","navigation","routeTheme","theme","pageTheme","layoutClass","headClass","footerClass","arr","footNotMrgin","publicInfo","info","isLogin","userInfoIsReady","methods","axios","then","code","sessionStorage","setItem","msg","A","length","Object","keys","forEach","item","filter","vitem","valueArr","split","indexOf","reload","location","setTiming","clearTimeout","timing","localtion","postMessage","type","mexUrl","isPhone","isAndroid","href","setStyle","str","nod","createElement","styleSheet","cssText","innerHTML","getElementsByTagName","appendChild"],"mappings":"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","sourcesContent":["import { colorMap, browser } from '@/utils';\r\nimport worker from '@/utils/webWorker';\r\n\r\nexport default {\r\n  name: 'app',\r\n  data() {\r\n    return {\r\n      timer: null,\r\n      hideheade: true,\r\n      hideFooter: true,\r\n      userActivite: false,\r\n      userTime: 0,\r\n      userTimer: null,\r\n      setTimer: null,\r\n      moving: false,\r\n      wsClosed: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    window.onresize = () => {\r\n      this.$bus.$emit('WINFOW_ON_RESIIZE', document.body.clientWidth);\r\n    };\r\n  },\r\n  watch: {\r\n    phoneCode() {\r\n      this.filterPhoneCode(this.limitCountryList);\r\n    },\r\n    limitCountryList: {\r\n      handler(val) {\r\n        this.filterPhoneCode(val);\r\n      },\r\n      immediate: true,\r\n    },\r\n    mustLogin(newMeta) {\r\n      setTimeout(() => {\r\n        if (this.loginFlag === '1' && newMeta) {\r\n          this.$router.push('/login');\r\n        }\r\n      }, 500);\r\n    },\r\n    url(url) {\r\n      if (url) {\r\n        this.goM();\r\n      }\r\n    },\r\n    loginFlag(val) {\r\n      if (val === '2') {\r\n        clearInterval(this.timer);\r\n        this.$store.dispatch('getMessage_count');\r\n        this.timer = setInterval(() => {\r\n          this.$store.dispatch('getMessage_count');\r\n        }, 15000);\r\n      } else {\r\n        clearInterval(this.timer);\r\n      }\r\n    },\r\n    routeMeta(val) {\r\n      // 国际版有些页面不显示导航\r\n      if (this.templateLayoutType === '2' && val.hideHeade) {\r\n        this.hideheade = true;\r\n      } else if (val.hideHeade === 'visitLimit') {\r\n        // 限制区域访问\r\n        this.hideheade = true;\r\n      } else {\r\n        this.hideheade = false;\r\n      }\r\n      // 国际版有些页面不显示footer\r\n      if (this.templateLayoutType === '2' && val.hideFooter !== 'false') {\r\n        this.hideFooter = true;\r\n      } else if (val.hideFooter === 'MandatoryHide') {\r\n        // 限制区域访问\r\n        this.hideFooter = true;\r\n      } else {\r\n        this.hideFooter = false;\r\n      }\r\n    },\r\n    templateLayoutType(val) {\r\n      if (val === '2' && this.routeMeta.hideFooter !== 'false') {\r\n        this.hideFooter = true;\r\n      } else {\r\n        this.hideFooter = false;\r\n      }\r\n    },\r\n    $route(to) {\r\n      if (to.name !== 'serviceLimit') {\r\n        this.getVisitStatus();\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    phoneCode() {\r\n      return this.$t('phoneCode');\r\n    },\r\n    limitCountryList() {\r\n      return this.$store.state.baseData.limitCountryList;\r\n    },\r\n    worker() {\r\n      return worker();\r\n    },\r\n    templateLayoutType() {\r\n      return this.$store.state.baseData.templateLayoutType;\r\n    },\r\n    routeMeta() {\r\n      return this.$route.meta;\r\n    },\r\n    navigationType() {\r\n      if (\r\n        this.templateLayoutType === '2'\r\n        && this.$route.meta.navigation !== '1'\r\n      ) {\r\n        return '2';\r\n      }\r\n      return '1';\r\n    },\r\n    routeTheme() {\r\n      return this.$route.meta.theme;\r\n    },\r\n    // 底色 主题背景色\r\n    pageTheme() {\r\n      let layoutClass = 'Chainer';\r\n      if (this.templateLayoutType === '2' && this.navigationType === '2') {\r\n        layoutClass = 'Int';\r\n      }\r\n      if (this.routeTheme && this.routeTheme === 'homeOther') {\r\n        return `c-2-bg ${layoutClass}`;\r\n      }\r\n      return `a-7-bg ${layoutClass}`;\r\n    },\r\n    // 头部别景色\r\n    headClass() {\r\n      if (this.routeTheme && this.routeTheme === 'homeOther') {\r\n        return 'h-2-bg';\r\n      }\r\n      return 'h-1-bg';\r\n    },\r\n    // 底部 上边距\r\n    footerClass() {\r\n      const arr = [];\r\n      if (this.routeTheme && this.routeTheme === 'homeOther') {\r\n        arr.push('y-3-bg y-4-bd');\r\n      } else {\r\n        arr.push('y-1-bg y-2-bd');\r\n      }\r\n      if (this.$route.meta.footNotMrgin) {\r\n        arr.push('no-margin');\r\n      }\r\n      return arr;\r\n    },\r\n    mustLogin() {\r\n      return this.$route.meta.mustLogin;\r\n    },\r\n    publicInfo() {\r\n      const info = this.$store.state.baseData.publicInfo || {};\r\n      return info;\r\n    },\r\n    url() {\r\n      return this.publicInfo.url || {};\r\n    },\r\n    loginFlag() {\r\n      const { isLogin, userInfoIsReady } = this.$store.state.baseData;\r\n      if (!isLogin && userInfoIsReady) {\r\n        return '1';\r\n      }\r\n      return '2';\r\n    },\r\n  },\r\n  methods: {\r\n    // 区域IP访问限制 0 不限 1 限制\r\n    getVisitStatus() {\r\n      this.axios({\r\n        // url: '/common/checkVisitStatus',\r\n        url: 'limit_ip_login',\r\n      }).then((data) => {\r\n        if (data.code === '109109') {\r\n          window.sessionStorage.setItem('LimitCountryNames', data.msg);\r\n          this.$router.push('serviceLimit');\r\n        }\r\n      });\r\n    },\r\n    filterPhoneCode(val) {\r\n      if (this.phoneCode.A.length) {\r\n        if (val.length) {\r\n          Object.keys(this.phoneCode).forEach((item) => {\r\n            this.phoneCode[item] = this.phoneCode[item].filter((vitem) => {\r\n              const valueArr = vitem.split('+');\r\n              return val.indexOf(valueArr[2]) === -1;\r\n            });\r\n          });\r\n        }\r\n\r\n        this.$store.dispatch('setPhoneCodeGlobal', this.phoneCode);\r\n      }\r\n    },\r\n    reload() {\r\n      if (this.wsClosed) {\r\n        window.location.reload();\r\n      }\r\n    },\r\n    setTiming() {\r\n      this.userActivite = true;\r\n      this.userTime = 0;\r\n      clearTimeout(this.userTimer);\r\n      this.userTimer = null;\r\n      clearTimeout(this.setTimer);\r\n      this.setTimer = null;\r\n      this.moving = true;\r\n      this.setTimer = setTimeout(() => {\r\n        this.moving = false;\r\n        this.userActivite = false;\r\n        if (!this.moving) {\r\n          this.timing();\r\n        }\r\n      }, 1000);\r\n    },\r\n    timing() {\r\n      clearTimeout(this.userTimer);\r\n      this.userTimer = null;\r\n      this.userTimer = setTimeout(() => {\r\n        this.userTime += 1;\r\n        if (this.userTime > 7200) {\r\n          this.userActivite = true;\r\n          window.localtion.reload();\r\n          this.worker.postMessage({\r\n            type: 'CLOSE_WEBSOCKET',\r\n          });\r\n          this.wsClosed = true;\r\n        }\r\n        if (!this.userActivite) {\r\n          this.timing();\r\n        }\r\n      }, 1000);\r\n    },\r\n    goM() {\r\n      if (this.url.mexUrl) {\r\n        if (browser.isPhone || browser.isAndroid) {\r\n          window.location.href = this.url.mexUrl;\r\n        }\r\n      }\r\n    },\r\n    setStyle() {\r\n      if (colorMap) {\r\n        const str = `\r\n          input::-webkit-input-placeholder {\r\n            color: ${colorMap['b-2-cl']};\r\n          }\r\n          input::-moz-placeholder {\r\n            color: ${colorMap['b-2-cl']};\r\n          }\r\n          input::-moz-placeholder {\r\n            color: ${colorMap['b-2-cl']};\r\n          }\r\n          input::-ms-input-placeholder {\r\n            color: ${colorMap['b-2-cl']};\r\n          }\r\n          #common-AliyunCaptcha .nc_scale {\r\n            background: ${colorMap['a-5-bg']};\r\n          }\r\n          #common-AliyunCaptcha .clickCaptcha {\r\n            background: ${colorMap['a-5-bg']};\r\n          }\r\n          #common-AliyunCaptcha .nc-container .nc_scale .clickCaptcha div {\r\n            background: ${colorMap['a-5-bg']};\r\n          }\r\n          #common-AliyunCaptcha .nc_scale .btn_slide {\r\n            background: ${colorMap['a-4-bg']};\r\n            color: ${colorMap['b-2-cl']};\r\n          }\r\n          #common-AliyunCaptcha .scale_text.scale_text.slidetounlock span[data-nc-lang=\"_startTEXT\"] {\r\n            -webkit-text-fill-color: ${colorMap['b-2-cl']};\r\n          }\r\n          #common-AliyunCaptcha .nc_scale .nc_bg {\r\n            background: ${colorMap['a-5-bg']};\r\n          }\r\n          #common-AliyunCaptcha .nc_scale .scale_text2 {\r\n            color: ${colorMap['b-2-cl']};\r\n            background: ${colorMap['a-5-bg']};\r\n          }\r\n          #common-AliyunCaptcha .nc_scale .btn_ok {\r\n            background: ${colorMap['a-4-bg']};\r\n            color: ${colorMap['b-2-cl']};\r\n          }\r\n          #common-AliyunCaptcha .imgCaptcha {\r\n            background: ${colorMap['a-5-bg']}!important;\r\n          }\r\n          #common-AliyunCaptcha .imgCaptcha_text {\r\n            background: ${colorMap['a-5-bg']}!important;\r\n            border-bottom-color: ${colorMap['b-1-bd']}!important;\r\n          }\r\n          #common-AliyunCaptcha .imgCaptcha_text input {\r\n            background: ${colorMap['a-5-bg']}!important;\r\n            color: ${colorMap['b-2-cl']}!important;\r\n          }\r\n          #common-AliyunCaptcha .nc_scale_submit {\r\n            background: ${colorMap['a-12-bg']};\r\n          }\r\n          #common-AliyunCaptcha .icon_close {\r\n            color: ${colorMap['b-6-cl']};\r\n          }\r\n          input:-webkit-autofill , textarea:-webkit-autofill, select:-webkit-autofill {\r\n            -webkit-box-shadow: 0px 0px 0px 1000px ${colorMap['a-7-bg']} inset;\r\n            -webkit-text-fill-color: ${colorMap['b-2-cl']};\r\n          }\r\n        `;\r\n        const nod = document.createElement('style');\r\n        nod.type = 'text/css';\r\n        if (nod.styleSheet) {\r\n          // ie下\r\n          nod.styleSheet.cssText = str;\r\n        } else {\r\n          nod.innerHTML = str; // 或者写成 nod.appendChild(document.createTextNode(str))\r\n        }\r\n        document.getElementsByTagName('head')[0].appendChild(nod);\r\n      }\r\n    },\r\n  },\r\n};\r\n"]}]}