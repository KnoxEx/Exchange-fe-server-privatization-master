{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/manageFinances/orderList/orderList.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/manageFinances/orderList/orderList.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { fixD, formatTime, getCoinShowName, colorMap, imgMap } from '@/utils';\nvar bannerImgUrl = imgMap.jjrNeaderBg;\nexport default {\n  name: 'orderList',\n  data: function data() {\n    return {\n      bannerImg: bannerImgUrl,\n      bannerTitle: this.$t('manageFinances.manage_finances'),\n      // '理财宝',\n      tabelLoading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      symbol: '',\n      // 当前币种\n      tabelList: [],\n      // table数据列表\n      financeListData: [],\n      subTableDataId: '',\n      subTableDataOpen: 0,\n      subTableData: [],\n      subContentId: null,\n      symbolList: [],\n      // 币种选择列表\n      otherType: '',\n      // type\n      otherTypeList: [],\n      // type选择列表\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      }\n    };\n  },\n  computed: {\n    coinList: function coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    // 表格title\n    columns: function columns() {\n      var list = [{\n        title: this.$t('manageFinances.buyTime'),\n        width: '8%'\n      }, // 购买时间\n      {\n        title: this.$t('manageFinances.name'),\n        width: '15%'\n      }, // 项目名称\n      {\n        title: this.$t('manageFinances.orderNumber'),\n        width: '15%'\n      }, // 订单号\n      {\n        title: this.$t('manageFinances.coin'),\n        width: '10%'\n      }, // 币种\n      {\n        title: this.$t('manageFinances.number'),\n        width: '15%'\n      }, // 数量\n      {\n        title: this.$t('manageFinances.tablerate'),\n        width: '10%'\n      }, // 利率\n      {\n        title: this.$t('manageFinances.status'),\n        width: '10%'\n      }, // 状态\n      {\n        title: this.$t('manageFinances.operating'),\n        width: '10%'\n      } // 操作\n      ];\n      return list;\n    },\n    subColumns: function subColumns() {\n      return [this.$t('manageFinances.transferTime'), // 转出时间\n      this.$t('manageFinances.returnCoin'), // 返还币种\n      this.$t('manageFinances.returnNumber'), // 返还数量\n      this.$t('manageFinances.type') // 类型\n      ];\n    },\n    // 用于axios的symbol\n    axiosSymbol: function axiosSymbol() {\n      if (this.symbol === 'all') {\n        return null;\n      }\n\n      return this.symbol;\n    },\n    // 用于axios的symbol\n    axiostype: function axiostype() {\n      if (this.otherType === 'all') {\n        return null;\n      }\n\n      return this.otherType;\n    }\n  },\n  watch: {\n    market: function market(v) {\n      if (v) {\n        this.setData();\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.market) {\n        this.setData();\n      }\n    },\n    // 获取个人理财记录\n    getDataList: function getDataList() {\n      var _this = this;\n\n      this.axios({\n        url: this.$store.state.url.common.financingList,\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          coinSymbol: this.axiosSymbol,\n          status: this.axiostype\n        },\n        hostType: 'financing'\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.order_list.forEach(function (item, index) {\n            var coinList = _this.market.coinList;\n            var fix = coinList[item.symbol] && coinList[item.symbol].showPrecision || 0;\n            list.push({\n              id: index,\n              data: [formatTime(item.ctime), // 时间\n              item.name, // 项目名称\n              item.order_id, // 订单号\n              getCoinShowName(item.symbol, _this.coinList), // 币种\n              fixD(item.number, fix), // 数量\n              item.rate, // 利率\n              item.status_txt, // 状态\n              _this.handleButton(item.order_id)]\n            });\n          });\n          _this.tabelLoading = false;\n          _this.tabelList = list;\n          _this.paginationObj.total = data.data.count;\n        }\n      });\n    },\n    symbolChange: function symbolChange(item) {\n      // this.subTableDataOpen = 0\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true; // this.subTableDataOpen = 0\n\n      this.getDataList();\n    },\n    otherTypeChange: function otherTypeChange(item) {\n      // this.subTableDataOpen = 0\n      this.otherType = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getDataList();\n    },\n    setData: function setData() {\n      var _this2 = this;\n\n      var list = [{\n        code: 'all',\n        value: this.$t('assets.flowingWater.allCoin')\n      }];\n      Object.keys(this.market.coinList).forEach(function (item) {\n        if (_this2.market.coinList[item].isFiat) {\n          return;\n        }\n\n        list.push({\n          code: item,\n          value: getCoinShowName(item, _this2.coinList)\n        });\n      });\n      this.symbolList = list; // console.log(this.symbolList);\n\n      this.symbol = 'all';\n      var otherlist = [{\n        code: 'all',\n        value: this.$t('manageFinances.allType')\n      }, {\n        code: '1',\n        value: this.$t('manageFinances.subscribed')\n      }, {\n        code: '2',\n        value: this.$t('manageFinances.interested')\n      }, {\n        code: '3',\n        value: this.$t('manageFinances.completed')\n      }];\n      this.otherTypeList = otherlist;\n      this.otherType = this.otherTypeList[0].code;\n      this.getDataList();\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getDataList();\n    },\n    // 详情列表\n    tableClick: function tableClick(type, id) {\n      var _this3 = this;\n\n      this.subTableDataId = id.id;\n      this.subTableData = [];\n      this.axios({\n        url: this.$store.state.url.common.financingListDet,\n        headers: {},\n        params: {\n          order_id: type\n        },\n        method: 'post',\n        hostType: 'financing'\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          data.data.return_list.forEach(function (item) {\n            var coinList = _this3.market.coinList;\n            var fix = coinList[item.symbol] && coinList[item.symbol].showPrecision || 0;\n            var detailtype = null;\n\n            if (item.type === 0) {\n              detailtype = _this3.$t('manageFinances.interest');\n            } else {\n              detailtype = _this3.$t('manageFinances.principal');\n            } // console.log(type)\n\n\n            _this3.subTableData.push([formatTime(item.return_time), // 地址\n            item.symbol, fixD(item.number, fix), detailtype]);\n          });\n        }\n      });\n    },\n    handleButton: function handleButton(item) {\n      var arr = [];\n      arr.push({\n        type: 'subTable',\n        text: this.$t('trade.view'),\n        // 详情\n        eventType: item // orderId: item,\n\n      });\n      return arr;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/manageFinances/orderList/orderList.js"],"names":["fixD","formatTime","getCoinShowName","colorMap","imgMap","bannerImgUrl","jjrNeaderBg","name","data","bannerImg","bannerTitle","$t","tabelLoading","symbol","tabelList","financeListData","subTableDataId","subTableDataOpen","subTableData","subContentId","symbolList","otherType","otherTypeList","paginationObj","total","display","currentPage","computed","coinList","$store","state","baseData","market","columns","list","title","width","subColumns","axiosSymbol","axiostype","watch","v","setData","methods","init","getDataList","axios","url","common","financingList","params","pageSize","page","coinSymbol","status","hostType","then","code","toString","order_list","forEach","item","index","fix","showPrecision","push","id","ctime","order_id","number","rate","status_txt","handleButton","count","symbolChange","otherTypeChange","value","Object","keys","isFiat","otherlist","pagechange","tableClick","type","financingListDet","headers","method","return_list","detailtype","return_time","arr","text","eventType"],"mappings":"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","sourcesContent":["import {\n  fixD, formatTime, getCoinShowName, colorMap, imgMap,\n} from '@/utils';\n\n\nconst bannerImgUrl = imgMap.jjrNeaderBg;\nexport default {\n  name: 'orderList',\n  data() {\n    return {\n      bannerImg: bannerImgUrl,\n      bannerTitle: this.$t('manageFinances.manage_finances'), // '理财宝',\n      tabelLoading: true,\n      imgMap,\n      colorMap,\n      symbol: '', // 当前币种\n      tabelList: [], // table数据列表\n      financeListData: [],\n      subTableDataId: '',\n      subTableDataOpen: 0,\n      subTableData: [],\n      subContentId: null,\n      symbolList: [], // 币种选择列表\n      otherType: '', // type\n      otherTypeList: [], // type选择列表\n      paginationObj: {\n        total: 0, // 数据总条数\n        display: 10, // 每页显示条数\n        currentPage: 1, // 当前页码\n      },\n    };\n  },\n  computed: {\n    coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    // market 接口\n    market() { return this.$store.state.baseData.market; },\n    // 表格title\n    columns() {\n      const list = [\n        { title: this.$t('manageFinances.buyTime'), width: '8%' }, // 购买时间\n        { title: this.$t('manageFinances.name'), width: '15%' }, // 项目名称\n        { title: this.$t('manageFinances.orderNumber'), width: '15%' }, // 订单号\n        { title: this.$t('manageFinances.coin'), width: '10%' }, // 币种\n        { title: this.$t('manageFinances.number'), width: '15%' }, // 数量\n        { title: this.$t('manageFinances.tablerate'), width: '10%' }, // 利率\n        { title: this.$t('manageFinances.status'), width: '10%' }, // 状态\n        { title: this.$t('manageFinances.operating'), width: '10%' }, // 操作\n      ];\n      return list;\n    },\n    subColumns() {\n      return [\n        this.$t('manageFinances.transferTime'), // 转出时间\n        this.$t('manageFinances.returnCoin'), // 返还币种\n        this.$t('manageFinances.returnNumber'), // 返还数量\n        this.$t('manageFinances.type'), // 类型\n      ];\n    },\n    // 用于axios的symbol\n    axiosSymbol() {\n      if (this.symbol === 'all') {\n        return null;\n      }\n      return this.symbol;\n    },\n    // 用于axios的symbol\n    axiostype() {\n      if (this.otherType === 'all') {\n        return null;\n      }\n      return this.otherType;\n    },\n  },\n  watch: {\n    market(v) { if (v) { this.setData(); } },\n  },\n  methods: {\n    init() {\n      if (this.market) { this.setData(); }\n    },\n    // 获取个人理财记录\n    getDataList() {\n      this.axios({\n        url: this.$store.state.url.common.financingList,\n        params: {\n          pageSize: this.paginationObj.display, // 每页条数\n          page: this.paginationObj.currentPage, // 页码\n          coinSymbol: this.axiosSymbol,\n          status: this.axiostype,\n        },\n        hostType: 'financing',\n      }).then((data) => {\n        if (data.code.toString() === '0') {\n          const list = [];\n          data.data.order_list.forEach((item, index) => {\n            const { coinList } = this.market;\n            const fix = (coinList[item.symbol] && coinList[item.symbol].showPrecision) || 0;\n            list.push({\n              id: index,\n              data: [\n                formatTime(item.ctime), // 时间\n                item.name, // 项目名称\n                item.order_id, // 订单号\n                getCoinShowName(item.symbol, this.coinList), // 币种\n                fixD(item.number, fix), // 数量\n                item.rate, // 利率\n                item.status_txt, // 状态\n                this.handleButton(item.order_id),\n              ],\n            });\n          });\n          this.tabelLoading = false;\n          this.tabelList = list;\n          this.paginationObj.total = data.data.count;\n        }\n      });\n    },\n    symbolChange(item) {\n      // this.subTableDataOpen = 0\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n      this.paginationObj.total = 0; // 总条数\n      this.tabelList = [];\n      this.tabelLoading = true;\n      // this.subTableDataOpen = 0\n      this.getDataList();\n    },\n    otherTypeChange(item) {\n      // this.subTableDataOpen = 0\n      this.otherType = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n      this.paginationObj.total = 0; // 总条数\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getDataList();\n    },\n    setData() {\n      const list = [{ code: 'all', value: this.$t('assets.flowingWater.allCoin') }];\n      Object.keys(this.market.coinList).forEach((item) => {\n        if (this.market.coinList[item].isFiat) {\n          return;\n        }\n        list.push({ code: item, value: getCoinShowName(item, this.coinList) });\n      });\n      this.symbolList = list;\n      // console.log(this.symbolList);\n      this.symbol = 'all';\n      const otherlist = [\n        { code: 'all', value: this.$t('manageFinances.allType') },\n        { code: '1', value: this.$t('manageFinances.subscribed') },\n        { code: '2', value: this.$t('manageFinances.interested') },\n        { code: '3', value: this.$t('manageFinances.completed') },\n      ];\n      this.otherTypeList = otherlist;\n      this.otherType = this.otherTypeList[0].code;\n      this.getDataList();\n    },\n    pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getDataList();\n    },\n    // 详情列表\n    tableClick(type, id) {\n      this.subTableDataId = id.id;\n      this.subTableData = [];\n      this.axios({\n        url: this.$store.state.url.common.financingListDet,\n        headers: {},\n        params: {\n          order_id: type,\n        },\n        method: 'post',\n        hostType: 'financing',\n      }).then((data) => {\n        if (data.code.toString() === '0') {\n          data.data.return_list.forEach((item) => {\n            const { coinList } = this.market;\n            const fix = (coinList[item.symbol] && coinList[item.symbol].showPrecision) || 0;\n            let detailtype = null;\n            if (item.type === 0) {\n              detailtype = this.$t('manageFinances.interest');\n            } else {\n              detailtype = this.$t('manageFinances.principal');\n            }\n            // console.log(type)\n            this.subTableData.push([\n              formatTime(item.return_time), // 地址\n              item.symbol,\n              fixD(item.number, fix),\n              detailtype,\n            ]);\n          });\n        }\n      });\n    },\n    handleButton(item) {\n      const arr = [];\n      arr.push({\n        type: 'subTable',\n        text: this.$t('trade.view'), // 详情\n        eventType: item,\n        // orderId: item,\n      });\n      return arr;\n    },\n  },\n};\n"]}]}