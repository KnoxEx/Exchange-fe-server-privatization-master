{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/components/modules/spotTrade/trade/orderList.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/components/modules/spotTrade/trade/orderList.vue","mtime":1642484222344},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.trade-market-index-container.trade-market .market-symbol .tbody {\n  height: 710px;\n}\n.trade-market-index-container.trade-market .market-symbol .grid_tbody {\n    height: 723px;\n}\n  .order_type {\n    margin-top: 29px;\n    background-color: #fff;\n    border-radius: 10px;\n    display flex;\n    align-items center;\n    padding 6px 26px;\n    border-bottom-width: 1px;\n    border-bottom-style: solid;\n  }\n  .order-conent {\n    margin-top: 29px;\n  }\n  .common-table {\n    background: none !important;\n  }\n  .tip_title {\n    line-height 16px;\n    margin-bottom 15px;\n  }\n  .tip_text {\n    font-size 12px;\n    line-height 18px;\n  }\n  .order_type_btn {\n    box-sizing border-box;\n    border-width: 1px;\n    border-style: solid;\n    padding 4px 20px;\n    cursor pointer;\n    font-size 12px;\n    line-height 14px;\n  }\n  .order_type_btn:nth-child(1) {\n    // border-right none;\n  }\n  .order_list-top .notData {\n    top 107px;\n  }\n  .trade-order-list {\n    .table-head {\n      background-color: rgba(228, 228, 228, .25) !important;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n      border-bottom: 0;\n      span {\n        font-weight: 600;\n        color: RGB(167, 180, 203);\n      }\n    }\n    .table-body {\n        background-color: #fff !important;\n    }\n    .table-body td .grid_btn {\n      margin-left 0;\n    }\n  }\n  .pro-trade .order-list-box .gridOrder {\n    min-height 218px;\n  }\n  .Int-trade .order-list-box .order-conent.order-content_height {\n    height 313px;\n    .table-body {\n      min-height 280px;\n    }\n  }\n  .pro-trade .order-list-box .order-conent.pro-trade-order {\n    height 250px;\n  }\n",{"version":3,"sources":["orderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderList.vue","sourceRoot":"app/view/src/components/modules/spotTrade/trade","sourcesContent":["<!-- 币币交易 实时成交 -->\n<template>\n    <div class=\"order-list-box trade-order-list\">\n\n      <tabs :list=\"tabTypeItem\" v-model=\"orderType\" @click=\"switchType\"/>\n\n      <div class=\"order_type\" v-if=\"orderType === 3\">\n        <div class=\"order_type_btn\"\n        :class=\"filterGridStatus === 1 ? 'u-8-bd u-8-cl' : ''\"\n         @click=\"() => {this.filterGridStatus = 1;this.pagination.page = 1;\n      this.tableLoading = true;this.getData();}\">\n          <!-- 正在执行 -->\n          {{$t('gridTrade.orderType1')}}\n        </div>\n        <div class=\"order_type_btn\"\n        :class=\"filterGridStatus === 0 ? 'u-8-bd u-8-cl' : ''\"\n         @click=\"() => {this.filterGridStatus = 0;this.pagination.page = 1;\n      this.tableLoading = true;this.getData();}\">\n          <!-- 已完成 -->\n          {{$t('gridTrade.orderType2')}}\n        </div>\n      </div>\n      <div class=\"order-conent\"\n       :class=\"orderType === 3\n       && $store.state.baseData.templateLayoutType === '2'\n       ? 'order-content_height'\n       : orderType === 3\n       && $store.state.baseData.templateLayoutType != '2'\n       ? 'pro-trade-order' : ''\">\n        <vue-scroll>\n          <c-table\n            :columns = 'columns'\n            :imgMap=\"imgMap\"\n            :colorMap=\"colorMap\"\n            :dataList = 'dataList'\n            :subContent = 'subTableData'\n            :subContentId = 'subTableDataId'\n            :subColumns = 'subColumns'\n            :loading = 'tableLoading'\n            :subLoading = 'subLoading'\n            :cellHeight = 'cellHeight'\n            @elementClick = \"elementClick\"\n            :bodyClasses=\"orderType === 3 ? 'gridOrder': ''\"\n           />\n           <c-pagination v-if=\"(pagination.count/pagination.pageSize) > 1\"\n                    :total=\"pagination.count\"\n                    :current-page='pagination.page'\n                    :display='pagination.pageSize'\n                    @pagechange=\"pagechange\">\n            </c-pagination>\n        </vue-scroll>\n      </div>\n      <!-- <div class=\"notData\" v-if=\"!dataList.length && !tableLoading\">\n        <svg class=\"icon icon-50\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-g_2\"></use>\n        </svg>\n        <p>\n          {{$t('common.notData')}}\n        </p>\n      </div> -->\n      <grid-dialog\n       :dataId=\"gridItemId\"\n       :type=\"filterGridStatus\"\n       :fixValue=\"fixValue\"\n        :gridShowFlag=\"gridDoliog\" @gridDialogClose=\"gridClose\"></grid-dialog>\n        <!-- 未认证 提示框 -->\n      <c-alert :showFlag=\"gridCancelDoliog\"\n          :buttonText=\"$t('application.confirm')\"\n          :imgMap=\"imgMap\"\n          @close=\"() => this.gridCancelDoliog = false\"\n          :btnEventFlag=\"true\"\n          @confirm=\"gridCancelEvent\">\n          <div class=\"tip_title b-1-cl\">\n            <!-- 交易须知 -->\n            {{$t('gridTrade.tip')}}\n          </div>\n          <!-- 终止网格后，会撤消所有未成交订单，确定要终止此网格交易？ -->\n          <p class=\"tip_text\">{{$t('gridTrade.tipContent')}}</p>\n      </c-alert>\n    </div>\n</template>\n<script>\nimport mixin from 'BlockChain-ui-privatization/PC/common-mixin/modules/trade/orderList/orderList';\nimport {\n  getCoinShowName, formatTime, fixD, myStorage,\n} from 'BlockChain-ui-privatization/utils';\nimport GridDialog from '@/components/modules/trade/gridDialog/GridDialog.vue';\nimport 'BlockChain-ui-privatization/PC/common-mixin/modules/trade/orderList/tradeOrderList.styl';\nimport tabs from '../tab.vue'\n\n\nexport default {\n  mixins: [mixin],\n  components: {\n    GridDialog,\n    tabs,\n  },\n  mounted() {\n    this.init();\n  },\n  // 组价离开前执行\n  beforeDestroy() {\n    clearInterval(this.getDataInter);\n  },\n  data() {\n    return {\n      gridType: 0, // 网格类型 0: 网格详情； 1: 正在执行(20)； 2: 已完成\n      gridDoliog: false, // 网格弹窗\n      gridItemId: null, // list单个的数据\n      gridCancelDoliog: false,\n      filterGridStatus: 1, // 策略状态 0:启动中  1:正在执行   2:停止中   3:已关闭\n      timer: 15000,\n    };\n  },\n  watch: {\n    filterGridStatus(v) {\n      if (!v) {\n        clearInterval(this.getDataInter);\n        this.getDataInter = null;\n      } else {\n        this.intervalGet();\n      }\n    },\n  },\n  computed: {\n    //  是否开启了 网格\n    gridTradeFlag() {\n      const { publicInfo } = this.$store.state.baseData;\n      let str = 1;\n      if (publicInfo && publicInfo.switch && publicInfo.switch.grid_trade_switch) {\n        str = Number(publicInfo.switch.grid_trade_switch);\n      }\n      return str;\n    },\n    // 该币对是否开启网格\n    showGridFlag() {\n      let flag = false;\n      if (this.symbolAll && this.symbolCurrent) {\n        const symbol = this.symbolAll[this.symbolCurrent];\n\n        if (symbol && symbol.is_grid_open) {\n          flag = true;\n        }\n      }\n      return flag;\n    },\n    // tab 项\n    tabTypeItem() {\n      const arr = [\n        {label: this.$t('trade.activeOrder'), value: 1}, // 当前委托\n        {label: this.$t('trade.historyOrder'), value: 2}, // 历史委托\n      ];\n      if (this.gridTradeFlag && this.showGridFlag) {\n        arr.push({label: this.$t('gridTrade.title'), value: 3});\n      }\n      return arr;\n    },\n    // 表头\n    columns() {\n      if (this.orderType === 2) {\n        return [\n          {\n            title: this.$t('trade.time'), // '时间',\n            width: '100px',\n          },\n          {\n            title: this.$t('trade.class'), // '类别'\n            width: '200px',\n          },\n          {\n            title: this.$t('trade.transaction'), // '交易对'\n          },\n          {\n            title: `${this.$t('trade.price')}\n            (${getCoinShowName(this.symbolUnit.units, this.coinList)})`, // 价格\n          },\n          {\n            title: `${this.$t('trade.number')}\n            (${getCoinShowName(this.symbolUnit.symbol, this.coinList)})`, // 数量\n          },\n          {\n            title: this.$t('trade.average'), // '成交均价'\n          },\n          {\n            title: this.$t('trade.status'), // '状态'\n          },\n          {\n            title: this.$t('trade.opera'), // '操作'\n            width: '100px',\n          },\n        ];\n      }\n      if (this.orderType === 3) {\n        return [\n          {\n            title: this.$t('trade.time'), // '时间',\n            width: '100px',\n          },\n          {\n            title: this.$t('trade.transaction'), // '交易对'\n            width: '100px',\n          },\n          {\n            title: this.$t('gridTrade.clounms1'), // '总投入',\n            width: '200px',\n          },\n          {\n            title: this.$t('gridTrade.clounms2'), // 已产生利润\n            width: '200px',\n          },\n          {\n            title: this.$t('gridTrade.clounms3'), // 持仓盈亏\n            width: '200px',\n          },\n          {\n            title: this.$t('gridTrade.clounms4'), // '年化收益率'\n            width: '200px',\n          },\n          {\n            title: this.$t('gridTrade.clounms5'), // '运行时长'\n            width: '200px',\n          },\n          {\n            title: this.$t('trade.opera'), // '操作'\n            width: '150px',\n          },\n        ];\n      }\n      return [\n        {\n          title: this.$t('trade.time'), // '时间',\n          width: '100px',\n        },\n        {\n          title: this.$t('trade.class'), // '类别'\n          width: '150px',\n        },\n        {\n          title: `${this.$t('trade.price')}\n          (${getCoinShowName(this.symbolUnit.units, this.coinList)})`, // 价格\n        },\n        {\n          title: `${this.$t('trade.number')}\n          (${getCoinShowName(this.symbolUnit.symbol, this.coinList)})`, // 数量\n        },\n        {\n          title: `${this.$t('trade.dealMoney')}\n          (${getCoinShowName(this.symbolUnit.units, this.coinList)})`, // 交易额\n        },\n        {\n          title: this.$t('trade.average'), // '成交均价'\n        },\n        {\n          title: `${this.$t('trade.deal')}/${this.$t('trade.noDeal')}`, // 已成交/未成交\n        },\n        {\n          title: this.$t('trade.opera'), // '操作'\n          width: '100px',\n          classes: 'opera',\n        },\n      ];\n    },\n    dataList() {\n      if (this.orderData && this.orderData.orderType === this.orderType) {\n        if (this.orderType === 1) {\n          return this.formData(this.orderData.orderList, this.cancelOrderId);\n        }\n        if (this.orderType === 3) {\n          return this.formGridData(this.orderData.strategyVoList);\n        }\n        return this.formHistoryData(this.orderData.orderList);\n      }\n      return [];\n    },\n  },\n  methods: {\n    init() {\n      // 获取 当前选中的货币对\n      this.symbolCurrent = myStorage.get('sSymbolName');\n      if (this.moduleType === 'lever') {\n        this.symbolCurrent = myStorage.get('leverSymbolName');\n      }\n      if (this.isLogin) {\n        this.getData();\n        // 轮训请求数据\n        this.intervalGet();\n      }\n      this.$bus.$on('SYMBOL_CURRENT', (val) => {\n        this.symbolCurrent = val;\n        if (this.isLogin) {\n          this.pagination.page = 1;\n          this.subTableDataId = null;\n          this.tableLoading = true;\n          this.getData();\n        }\n        if (this.orderType === 3 && (!this.showGridFlag || !this.gridTradeFlag)) {\n          this.orderType = 1;\n        }\n      });\n      // 监听下单成功\n      this.$bus.$on('ORDER_CREATE', () => {\n        this.pagination.page = 1;\n        this.getData();\n      });\n    },\n    gridClose() {\n      this.gridDoliog = false;\n    },\n    // 请求订单数据\n    getData(auto) {\n      if (this.symbolCurrent && this.isLogin) {\n        let url = this.$store.state.url.cointran.orderNew;\n\n        if (this.orderType === 2) {\n          url = this.$store.state.url.ordercenter.historyNew;\n        } else if (this.orderType === 3) { // 如果是网格直接请求网格接口\n          url = 'quant/getStrategyList';\n        }\n\n        if (this.moduleType === 'lever') {\n          url = this.$store.state.url.lever.new;\n          if (this.orderType === 2) {\n            url = this.$store.state.url.lever.all;\n          }\n        }\n        const symbolArr = this.symbolCurrent.split('/');\n        const symbol = symbolArr[0].toLowerCase() + symbolArr[1].toLowerCase();\n        const data = {\n          url,\n          orderType: this.orderType,\n          params: {\n            symbol,\n            pageSize: this.pagination.pageSize,\n          },\n        };\n        if (this.orderType === 3) {\n          data.hostType = 'quant';\n          data.params.symbol = this.symbolCurrent;\n          data.params.status = this.filterGridStatus;\n        }\n        if (this.orderIdArrar.length && this.orderType === 2) {\n          data.params.idList = this.orderIdArrar;\n        } else {\n          data.params.page = this.pagination.page;\n        }\n        if (auto) {\n          data.auto = true;\n        }\n        this.$store.dispatch('getOrderListData', data);\n      }\n    },\n    // 轮训请求数据\n    intervalGet() {\n      if (this.filterGridStatus) {\n        clearInterval(this.getDataInter);\n        this.getDataInter = setInterval(() => {\n          this.getData(true);\n        }, this.timer);\n      } else {\n        clearInterval(this.getDataInter);\n        this.getDataInter = null;\n      }\n    },\n    // 网格交易数据格式化\n    formGridData(data) {\n      const dataArray = data || [];\n      const newData = [];\n      if (dataArray.length) {\n        dataArray.forEach((item) => {\n          let tableData = null;\n          const symbolArr = item.symbol.split('/');\n          // 网格状态 0:启动中 1:正在执行 2:停止中 3:已关闭\n          if (this.filterGridStatus.toString() === '0') {\n            tableData = {\n              id: item.id,\n              data: [\n                formatTime(item.ctime),\n                [\n                  {\n                    text: `${getCoinShowName(symbolArr[0], this.coinList)}/${getCoinShowName(symbolArr[1], this.coinList)}`,\n                  },\n                ],\n                // 总投入\n                [\n                  {\n                    text: `${fixD(item.configParamMap.totalQuoteAmount, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[1], this.coinList)} + ${fixD(item.configParamMap.totalBaseAmount, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[0], this.coinList)}`,\n                  },\n                ],\n                // 已产生利润\n                [\n                  {\n                    text: `${fixD(item.totalProfit, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[1], this.coinList)}(${fixD(item.totalProfitRate, 2)}%)`,\n                  },\n                ],\n                // 持仓盈亏\n                [\n                  {\n                    text: `${fixD(item.positionProfit, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[1], this.coinList)}`,\n                  },\n                ],\n                // 年华收益率\n                [\n                  {\n                    text: `${fixD(item.annualizedYield, 2)}%`,\n                  },\n                ],\n                // 运行时长\n                [\n                  {\n                    text: this.setTime(item.startTime, item.endTime),\n                  },\n                ],\n                [\n                  {\n                    type: 'link',\n                    text: this.$t('trade.view'), // 详情\n                    eventType: 'gridDetail',\n                  },\n                ],\n              ],\n            };\n          } else if (this.filterGridStatus.toString() === '1') {\n            tableData = {\n              id: item.id,\n              data: [\n                formatTime(item.ctime),\n                [\n                  {\n                    text: `${getCoinShowName(symbolArr[0], this.coinList)}/${getCoinShowName(symbolArr[1], this.coinList)}`,\n                  },\n                ],\n                // 总投入\n                [\n                  {\n                    text: `${fixD(item.configParamMap.totalQuoteAmount, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[1], this.coinList)} + ${fixD(item.configParamMap.totalBaseAmount, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[0], this.coinList)}`,\n                  },\n                ],\n                // 已产生利润\n                [\n                  {\n                    text: `${fixD(item.totalProfit, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[1], this.coinList)}(${fixD(item.totalProfitRate, 2)}%)`,\n                  },\n                ],\n                // 持仓盈亏\n                [\n                  {\n                    text: `${fixD(item.positionProfit, this.fixValue.priceFix)}\n                      ${getCoinShowName(symbolArr[1], this.coinList)}`,\n                  },\n                ],\n                // 年华收益率\n                [\n                  {\n                    text: `${fixD(item.annualizedYield, 2)}%`,\n                  },\n                ],\n                // 运行时长\n                [\n                  {\n                    text: this.setTime(item.startTime),\n                  },\n                ],\n                [\n                  {\n                    type: 'link',\n                    text: this.$t('trade.view'), // 详情\n                    eventType: 'gridDetail',\n                  },\n                  {\n                    type: 'link',\n                    text: this.$t('gridTrade.close'), // 终止网格\n                    eventType: 'gridCancel',\n                    classes: 'grid_btn',\n                  },\n                ],\n              ],\n            };\n          }\n          if (tableData) {\n            newData.push(tableData);\n          }\n        });\n        return newData;\n      }\n      return [];\n    },\n    setTime(startTime, endTime) {\n      if (!Number(startTime)) {\n        return `0${this.$t('otcDetailOrder.day')}0${this.$t('gridTrade.hours')}0${this.$t('otcDetailOrder.min')}`;\n      }\n      let dateEnd = new Date().getTime();\n      if (endTime) {\n        dateEnd = endTime;\n      }\n      const dateDiff = dateEnd - startTime;// 时间差的毫秒数\n      const day = Math.floor(dateDiff / (24 * 3600 * 1000));// 计算出相差天数\\\n      const leave1 = dateDiff % (24 * 3600 * 1000); // 计算天数后剩余的毫秒数\n      const hours = Math.floor(leave1 / (3600 * 1000));// 计算出小时数\n      // 计算相差分钟数\n      const leave2 = leave1 % (3600 * 1000); // 计算小时数后剩余的毫秒数\n      const minutes = Math.floor(leave2 / (60 * 1000));// 计算相差分钟数\n      function s(t) {\n        return t < 10 && t > 0 ? `0${t}` : t;\n      }\n      return `${s(day)}${this.$t('otcDetailOrder.day')}${s(hours)}${this.$t('gridTrade.hours')}${s(minutes)}${this.$t('otcDetailOrder.min')}`;\n    },\n    elementClick(type, data) {\n      if (type === 'cancel') {\n        this.cancelOrderEvent(data);\n      } else if (type === 'gridDetail') {\n        this.gridItemId = data;\n        this.gridDoliog = true;\n      } else if (type === 'gridCancel') {\n        this.gridItemId = data;\n        this.gridCancelDoliog = true;\n      } else {\n        this.getSubTableData(data);\n      }\n    },\n    // 终止网格\n    gridCancelEvent() {\n      this.axios({\n        url: 'quant/stopStrategy',\n        hostType: 'quant',\n        method: 'post',\n        params: { strategyId: this.gridItemId },\n      }).then((rep) => {\n        if (rep.code.toString() === '0') {\n          this.getData();\n          // 重新请求资产\n          this.$store.dispatch('assetsExchangeData', {\n            auto: false,\n            coinSymbols: this.coinSymbols,\n          });\n          // 撤单成功 提示\n          this.$bus.$emit('tip', { text: rep.msg, type: 'success' });\n        } else {\n          this.$bus.$emit('tip', { text: rep.msg, type: 'error' });\n        }\n        this.gridCancelDoliog = false;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\">\n.trade-market-index-container.trade-market .market-symbol .tbody {\n  height: 710px;\n}\n.trade-market-index-container.trade-market .market-symbol .grid_tbody {\n    height: 723px;\n}\n  .order_type {\n    margin-top: 29px;\n    background-color: #fff;\n    border-radius: 10px;\n    display flex;\n    align-items center;\n    padding 6px 26px;\n    border-bottom-width: 1px;\n    border-bottom-style: solid;\n  }\n  .order-conent {\n    margin-top: 29px;\n  }\n  .common-table {\n    background: none !important;\n  }\n  .tip_title {\n    line-height 16px;\n    margin-bottom 15px;\n  }\n  .tip_text {\n    font-size 12px;\n    line-height 18px;\n  }\n  .order_type_btn {\n    box-sizing border-box;\n    border-width: 1px;\n    border-style: solid;\n    padding 4px 20px;\n    cursor pointer;\n    font-size 12px;\n    line-height 14px;\n  }\n  .order_type_btn:nth-child(1) {\n    // border-right none;\n  }\n  .order_list-top .notData {\n    top 107px;\n  }\n  .trade-order-list {\n    .table-head {\n      background-color: rgba(228, 228, 228, .25) !important;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n      border-bottom: 0;\n      span {\n        font-weight: 600;\n        color: RGB(167, 180, 203);\n      }\n    }\n    .table-body {\n        background-color: #fff !important;\n    }\n    .table-body td .grid_btn {\n      margin-left 0;\n    }\n  }\n  .pro-trade .order-list-box .gridOrder {\n    min-height 218px;\n  }\n  .Int-trade .order-list-box .order-conent.order-content_height {\n    height 313px;\n    .table-body {\n      min-height 280px;\n    }\n  }\n  .pro-trade .order-list-box .order-conent.pro-trade-order {\n    height 250px;\n  }\n</style>\n"]}]}