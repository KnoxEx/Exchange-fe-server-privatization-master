{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/BindGoogle/BindGoogle.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/BindGoogle/BindGoogle.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n// @ is an alias to /src\nexport default {\n  name: 'bindEmail',\n  watch: {\n    userInfo: function userInfo(userinfo) {\n      this.googleCode = !!Number(userinfo.googleStatus);\n      this.smsCode = !!Number(userinfo.isOpenMobileCheck);\n    },\n    toopenGoogleAuthenticator: function toopenGoogleAuthenticator(_toopenGoogleAuthenticator) {\n      this.googleImg = _toopenGoogleAuthenticator.googleImg;\n      this.googleKey = _toopenGoogleAuthenticator.googleKey;\n    },\n    googleVerify: function googleVerify(_googleVerify) {\n      if (_googleVerify !== null) {\n        this.loading = false;\n\n        if (_googleVerify.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _googleVerify.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$router.push('/personal/userManagement');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _googleVerify.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    }\n  },\n  computed: {\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    toopenGoogleAuthenticator: function toopenGoogleAuthenticator() {\n      return this.$store.state.personal.toopenGoogleAuthenticator;\n    },\n    googleVerify: function googleVerify() {\n      return this.$store.state.personal.googleVerify;\n    }\n  },\n  data: function data() {\n    return {\n      svgShow: true,\n      loading: false,\n      checkValue4: '',\n      checkValue5: '',\n      promptText4: this.$t('personal.label.password'),\n      promptText5: this.$t('personal.label.googleCodeText'),\n      errorText4: this.$t('personal.prompt.errorPasswordText'),\n      errorText5: this.$t('personal.prompt.errorCode'),\n      checkErrorFlag4: false,\n      checkErrorFlag5: false,\n      disabled: true,\n      oldNew: false,\n      smsCode: false,\n      googleCode: false,\n      autoStart: false,\n      googleImg: '',\n      googleKey: ''\n    };\n  },\n  methods: {\n    init: function init() {\n      this.$store.dispatch('toopenGoogleAuthenticator');\n\n      if (this.userInfo) {\n        this.googleCode = !!Number(this.userInfo.googleStatus);\n        this.smsCode = !!Number(this.userInfo.isOpenMobileCheck);\n      }\n    },\n    reload: function reload() {\n      this.init();\n    },\n    handMouseenter: function handMouseenter() {\n      this.svgShow = false;\n    },\n    handMouseleave: function handMouseleave() {\n      this.svgShow = true;\n    },\n    copyClick: function copyClick() {\n      this.copy(this.googleKey);\n    },\n    copy: function copy(str) {\n      // this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n\n        e.preventDefault(); // 阻止默认行为\n      }\n\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n\n      document.removeEventListener('copy', save);\n    },\n    // 密码正则\n    passFlag: function passFlag(val) {\n      return this.$store.state.regExp.passWord.test(val);\n    },\n    codeFlag: function codeFlag(val) {\n      return this.$store.state.regExp.verification.test(val);\n    },\n    getCodeClick: function getCodeClick(name) {\n      if (name === 'phone') {\n        this.$bus.$emit('getCode-start', 'phone');\n        var info = {\n          operationType: 5\n        };\n        this.$store.dispatch('sendSmsCode', info);\n      }\n    },\n    inputChanges: function inputChanges(value, name) {\n      if (name === 'password') {\n        this.checkValue4 = value;\n\n        if (this.passFlag(value)) {\n          this.checkErrorFlag4 = false;\n        } else {\n          this.checkErrorFlag4 = true;\n        }\n      } else {\n        this.checkValue5 = value;\n\n        if (this.codeFlag(value)) {\n          this.checkErrorFlag5 = false;\n        } else {\n          this.checkErrorFlag5 = true;\n        }\n      }\n\n      if (this.checkValue5 && this.checkValue4 && !this.checkErrorFlag4 && !this.checkErrorFlag5) {\n        this.disabled = false;\n      } else {\n        this.disabled = true;\n      }\n    },\n    btnLink: function btnLink(name) {\n      if (name === 'appstore') {\n        window.open('https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8');\n      } else if (name === 'googleplay') {\n        window.open('https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2');\n      } else if (name === 'android') {\n        window.open('https://sj.qq.com/myapp/detail.htm?apkName=com.google.android.apps.authenticator2');\n      } else {\n        this.loading = true;\n        var info = {\n          googleKey: this.googleKey,\n          googleCode: this.checkValue5,\n          loginPwd: this.checkValue4\n        };\n        this.$store.dispatch('googleVerify', info);\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/BindGoogle/BindGoogle.js"],"names":["name","watch","userInfo","userinfo","googleCode","Number","googleStatus","smsCode","isOpenMobileCheck","toopenGoogleAuthenticator","googleImg","googleKey","googleVerify","loading","text","$bus","$emit","msg","type","$store","dispatch","$router","push","computed","state","baseData","personal","data","svgShow","checkValue4","checkValue5","promptText4","$t","promptText5","errorText4","errorText5","checkErrorFlag4","checkErrorFlag5","disabled","oldNew","autoStart","methods","init","reload","handMouseenter","handMouseleave","copyClick","copy","str","save","e","clipboardData","setData","preventDefault","document","addEventListener","execCommand","removeEventListener","passFlag","val","regExp","passWord","test","codeFlag","verification","getCodeClick","info","operationType","inputChanges","value","btnLink","window","open","loginPwd"],"mappings":"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","sourcesContent":["// @ is an alias to /src\r\nexport default {\r\n  name: 'bindEmail',\r\n\r\n  watch: {\r\n    userInfo(userinfo) {\r\n      this.googleCode = !!Number(userinfo.googleStatus);\r\n      this.smsCode = !!Number(userinfo.isOpenMobileCheck);\r\n    },\r\n    toopenGoogleAuthenticator(toopenGoogleAuthenticator) {\r\n      this.googleImg = toopenGoogleAuthenticator.googleImg;\r\n      this.googleKey = toopenGoogleAuthenticator.googleKey;\r\n    },\r\n    googleVerify(googleVerify) {\r\n      if (googleVerify !== null) {\r\n        this.loading = false;\r\n        if (googleVerify.text === 'success') {\r\n          this.$bus.$emit('tip', { text: googleVerify.msg, type: 'success' });\r\n          this.$store.dispatch('resetType');\r\n          this.$router.push('/personal/userManagement');\r\n        } else {\r\n          this.$bus.$emit('tip', { text: googleVerify.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    toopenGoogleAuthenticator() {\r\n      return this.$store.state.personal.toopenGoogleAuthenticator;\r\n    },\r\n    googleVerify() {\r\n      return this.$store.state.personal.googleVerify;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      svgShow: true,\r\n      loading: false,\r\n      checkValue4: '',\r\n      checkValue5: '',\r\n      promptText4: this.$t('personal.label.password'),\r\n      promptText5: this.$t('personal.label.googleCodeText'),\r\n      errorText4: this.$t('personal.prompt.errorPasswordText'),\r\n      errorText5: this.$t('personal.prompt.errorCode'),\r\n      checkErrorFlag4: false,\r\n      checkErrorFlag5: false,\r\n      disabled: true,\r\n      oldNew: false,\r\n      smsCode: false,\r\n      googleCode: false,\r\n      autoStart: false,\r\n      googleImg: '',\r\n      googleKey: '',\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$store.dispatch('toopenGoogleAuthenticator');\r\n      if (this.userInfo) {\r\n        this.googleCode = !!Number(this.userInfo.googleStatus);\r\n        this.smsCode = !!Number(this.userInfo.isOpenMobileCheck);\r\n      }\r\n    },\r\n    reload() {\r\n      this.init();\r\n    },\r\n    handMouseenter() {\r\n      this.svgShow = false;\r\n    },\r\n    handMouseleave() {\r\n      this.svgShow = true;\r\n    },\r\n    copyClick() {\r\n      this.copy(this.googleKey);\r\n    },\r\n    copy(str) {\r\n      // this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\r\n      function save(e) {\r\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\r\n        e.preventDefault(); // 阻止默认行为\r\n      }\r\n      document.addEventListener('copy', save);\r\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\r\n      document.removeEventListener('copy', save);\r\n    },\r\n    // 密码正则\r\n    passFlag(val) {\r\n      return this.$store.state.regExp.passWord.test(val);\r\n    },\r\n    codeFlag(val) {\r\n      return this.$store.state.regExp.verification.test(val);\r\n    },\r\n    getCodeClick(name) {\r\n      if (name === 'phone') {\r\n        this.$bus.$emit('getCode-start', 'phone');\r\n        const info = { operationType: 5 };\r\n        this.$store.dispatch('sendSmsCode', info);\r\n      }\r\n    },\r\n    inputChanges(value, name) {\r\n      if (name === 'password') {\r\n        this.checkValue4 = value;\r\n        if (this.passFlag(value)) {\r\n          this.checkErrorFlag4 = false;\r\n        } else {\r\n          this.checkErrorFlag4 = true;\r\n        }\r\n      } else {\r\n        this.checkValue5 = value;\r\n        if (this.codeFlag(value)) {\r\n          this.checkErrorFlag5 = false;\r\n        } else {\r\n          this.checkErrorFlag5 = true;\r\n        }\r\n      }\r\n      if (this.checkValue5 && this.checkValue4\r\n        && !this.checkErrorFlag4 && !this.checkErrorFlag5) {\r\n        this.disabled = false;\r\n      } else {\r\n        this.disabled = true;\r\n      }\r\n    },\r\n    btnLink(name) {\r\n      if (name === 'appstore') {\r\n        window.open('https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8');\r\n      } else if (name === 'googleplay') {\r\n        window.open('https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2');\r\n      } else if (name === 'android') {\r\n        window.open('https://sj.qq.com/myapp/detail.htm?apkName=com.google.android.apps.authenticator2');\r\n      } else {\r\n        this.loading = true;\r\n        const info = {\r\n          googleKey: this.googleKey,\r\n          googleCode: this.checkValue5,\r\n          loginPwd: this.checkValue4,\r\n        };\r\n        this.$store.dispatch('googleVerify', info);\r\n      }\r\n    },\r\n  },\r\n};\r\n"]}]}