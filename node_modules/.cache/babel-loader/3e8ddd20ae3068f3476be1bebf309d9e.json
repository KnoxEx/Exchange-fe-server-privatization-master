{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/order/otcOrder/otcOrder.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/order/otcOrder/otcOrder.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { imgMap, colorMap, fixD, getCoinShowName } from '@/utils';\nexport default {\n  name: 'page-otcOrder',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      switchFlag: false,\n      tabelLoading: true,\n      tabelList: [],\n      nowType: 1,\n      // 1为当前委托 2为历史委托\n      symbol: 'all',\n      // 当前币种\n      symbolList: [],\n      // 币种选择列表\n      side: 'all',\n      // 方向\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      }\n    };\n  },\n  watch: {\n    market: function market(v) {\n      if (v) {\n        this.initSymbolList();\n      }\n    }\n  },\n  computed: {\n    linkurl: function linkurl() {\n      if (this.$store.state.baseData.publicInfo) {\n        return this.$store.state.baseData.publicInfo.url;\n      }\n\n      return {};\n    },\n    excheifFlag: function excheifFlag() {\n      return this.$store.state.baseData.exchief_project_switch;\n    },\n    navTab: function navTab() {\n      return [// 当前委托\n      {\n        name: this.$t('order.otcOrder.nowOrder'),\n        index: 1\n      }, // 历史委托\n      {\n        name: this.$t('order.otcOrder.hisOrder'),\n        index: 2\n      }];\n    },\n    sideList: function sideList() {\n      return [// 方向选择列表\n      // 全部\n      {\n        code: 'all',\n        value: this.$t('order.otcOrder.all')\n      }, // 买入\n      {\n        code: 'buy',\n        value: this.$t('order.otcOrder.buy')\n      }, // 卖出\n      {\n        code: 'sell',\n        value: this.$t('order.otcOrder.sell')\n      }];\n    },\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    axiosSide: function axiosSide() {\n      if (this.side === 'all') {\n        return '';\n      }\n\n      return this.side;\n    },\n    axiosSymbol: function axiosSymbol() {\n      if (this.symbol === 'all') {\n        return undefined;\n      }\n\n      return this.symbol;\n    },\n    // 表格title\n    columns: function columns() {\n      var _this = this;\n\n      var list = [];\n\n      if (this.nowType === 1) {\n        list = [{\n          title: this.$t('order.otcOrder.nowOrderId')\n        }, // 订单号\n        {\n          title: this.$t('order.otcOrder.nowOrderType')\n        }, // 类别\n        {\n          title: this.$t('order.otcOrder.nowOrderCoin')\n        }, // 币种\n        {\n          title: this.$t('order.otcOrder.nowOrderPirce')\n        }, // 价格\n        {\n          title: this.$t('order.otcOrder.nowOrderVolume')\n        }, // 数量\n        {\n          title: this.$t('order.otcOrder.nowOrderTotol')\n        }, // 交易额\n        {\n          title: this.$t('order.otcOrder.service')\n        }, // 手续费\n        {\n          title: this.$t('order.otcOrder.nowOrderStatus')\n        }, // 状态\n        {\n          title: this.$t('order.otcOrder.nowOrderUser')\n        } // 交易方\n        ];\n      }\n\n      if (this.nowType === 2) {\n        list = [{\n          title: this.$t('order.otcOrder.hisOrderId')\n        }, // 订单号\n        {\n          title: this.$t('order.otcOrder.hisOrderType')\n        }, // 类别\n        {\n          title: this.$t('order.otcOrder.hisOrderCoin')\n        }, // 币种\n        {\n          title: this.$t('order.otcOrder.hisOrderPirce')\n        }, // 价格\n        {\n          title: this.$t('order.otcOrder.hisOrderVolume')\n        }, // 数量\n        {\n          title: this.$t('order.otcOrder.hisOrderTotol')\n        }, // 交易额\n        {\n          title: this.$t('order.otcOrder.service')\n        }, // 手续费\n        {\n          title: this.$t('order.otcOrder.hisOrderStatus')\n        }, // 状态\n        {\n          title: this.$t('order.otcOrder.hisOrderUser')\n        } // 交易方\n        ];\n      }\n\n      if (!this.excheifFlag) {\n        list.forEach(function (item, i) {\n          if (item.title === _this.$t('order.otcOrder.service')) {\n            list.splice(i, 1);\n          }\n        });\n      }\n\n      console.log(list);\n      return list;\n    },\n    baseData: function baseData() {\n      return this.$store.state.baseData;\n    },\n    otcLinkUrl: function otcLinkUrl() {\n      var obj = {\n        url: '',\n        type: '' // 1为push 2为herf\n\n      }; // 开发\n\n      if (process.env.NODE_ENV === 'development') {\n        obj.url = '';\n        obj.type = '1'; // 线上\n      } else if (window.HOSTAPI === 'ex' && this.baseData.publicInfo) {\n        obj.url = this.$store.state.baseData.publicInfo.url.otcUrl;\n        obj.type = '2';\n      } else if (window.HOSTAPI === 'otc') {\n        obj.url = '';\n        obj.type = '1';\n      }\n\n      return obj;\n    }\n  },\n  methods: {\n    getFix: function getFix(coin) {\n      return this.market.coinList[coin.toLocaleUpperCase()].showPrecision;\n    },\n    currentCoinPriceFix: function currentCoinPriceFix(price, coin, payCoin) {\n      var fix = this.$store.state.baseData.defaultFiatPrecision;\n\n      if (payCoin && this.market && this.market.coinList[coin] && this.market.coinList[coin].fiatPrecision && this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()]) {\n        fix = this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()];\n        return fixD(price, fix) + payCoin;\n      }\n\n      return price;\n    },\n    init: function init() {\n      if (this.market) {\n        this.initSymbolList();\n      }\n    },\n    switchChange: function switchChange() {\n      this.switchFlag = !this.switchFlag;\n      this.getData();\n    },\n    initSymbolList: function initSymbolList() {\n      var coinList = this.market.coinList;\n      var list = [{\n        code: 'all',\n        value: this.$t('order.otcOrder.allCoin')\n      }];\n      Object.keys(coinList).forEach(function (item) {\n        if (coinList[item].otcOpen) {\n          list.push({\n            code: item,\n            value: getCoinShowName(item, coinList)\n          });\n        }\n      });\n      this.symbol = 'all';\n      this.symbolList = list; // if (list.length) { this.symbol = list[0].code; }\n\n      this.getData();\n    },\n    getData: function getData() {\n      if (this.nowType === 1) {\n        this.getNowData();\n      } else if (this.nowType === 2) {\n        this.getHisData();\n      }\n    },\n    // 获取当前\n    getNowData: function getNowData() {\n      var _this2 = this;\n\n      var url = '/order/otc/unfinished';\n      this.axios({\n        url: url,\n        method: 'post',\n        params: {\n          // side: this.axiosSide,\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          coinSymbol: this.axiosSymbol\n        }\n      }).then(function (data) {\n        if (_this2.nowType !== 1) return;\n        _this2.tabelLoading = false;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.orderList.forEach(function (item) {\n            var Aurl = '';\n\n            if (process.env.NODE_ENV === 'development') {\n              Aurl = \"/otcDetailOrder?orderId=\".concat(item.sequence);\n            } else {\n              Aurl = \"\".concat(_this2.linkurl.otcUrl, \"/otcDetailOrder?orderId=\").concat(item.sequence);\n            }\n\n            var block = '';\n\n            if (item.orderType) {\n              Aurl = item.url;\n              block = 'target=\"view_frame\"';\n            }\n\n            var Flist = [// 订单号\n            [{\n              // type: 'link', text: item.sequence, eventType: 'orderId', classes: ['orderId'],\n              type: 'icon',\n              // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n              iconSvg: \"<a class=\\\"u-8-cl\\\" \".concat(block, \" href=\\\"\").concat(Aurl, \"\\\">\").concat(item.sequence, \"</a>\")\n            }], [{\n              text: item.type,\n              classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl'\n            }], getCoinShowName(item.coinSymbol, _this2.market.coinList), // 币种\n            _this2.currentCoinPriceFix(item.price, item.coinSymbol, item.payCoin), // 价格\n            fixD(item.volume, _this2.getFix(item.coinSymbol)), // 数量\n            _this2.currentCoinPriceFix(item.totalPrice, item.coinSymbol, item.payCoin) // 交易额\n            ];\n\n            if (_this2.excheifFlag) {\n              Flist.push(item.relativeFee);\n            }\n\n            var Vlist = [item.status_text, // 状态\n            // 交易对方\n            item.orderType ? item.realName : [{\n              type: 'button',\n              text: item.nickName,\n              eventType: 'userName',\n              subContent: {\n                text: item.realName,\n                classes: ['e-2-cl'] // 默认没有\n\n              }\n            }]];\n            Flist = Flist.concat(Vlist);\n            list.push({\n              id: JSON.stringify(item),\n              data: Flist\n            });\n          });\n          _this2.tabelList = list;\n          _this2.paginationObj.total = data.data.count;\n        }\n      });\n    },\n    // 获取历史订单\n    getHisData: function getHisData() {\n      var _this3 = this;\n\n      var url = '/order/otc/complete';\n      this.axios({\n        url: url,\n        method: 'post',\n        params: {\n          // side: this.axiosSide,\n          isShowCanceled: this.switchFlag ? 1 : 0,\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          coinSymbol: this.axiosSymbol\n        }\n      }).then(function (data) {\n        if (_this3.nowType !== 2) return;\n        _this3.tabelLoading = false;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.orderList.forEach(function (item) {\n            var Aurl = '';\n\n            if (process.env.NODE_ENV === 'development') {\n              Aurl = \"/otcDetailOrder?orderId=\".concat(item.sequence);\n            } else {\n              Aurl = \"\".concat(_this3.linkurl.otcUrl, \"/otcDetailOrder?orderId=\").concat(item.sequence);\n            }\n\n            var block = '';\n\n            if (item.orderType) {\n              Aurl = item.url;\n              block = 'target=\"view_frame\"';\n            }\n\n            var flist = [// 订单号\n            [{\n              // type: 'link', text: item.sequence, eventType: 'orderId', classes: ['orderId'],\n              type: 'icon',\n              // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n              iconSvg: \"<a class=\\\"u-8-cl\\\" \".concat(block, \" href=\\\"\").concat(Aurl, \"\\\">\").concat(item.sequence, \"</a>\")\n            }], [{\n              text: item.type,\n              classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl'\n            }], getCoinShowName(item.coinSymbol, _this3.market.coinList), // 币种\n            _this3.currentCoinPriceFix(item.price, item.coinSymbol, item.payCoin), // 价格\n            fixD(item.volume, _this3.getFix(item.coinSymbol)), // 数量\n            _this3.currentCoinPriceFix(item.totalPrice, item.coinSymbol, item.payCoin) // 交易额\n            ];\n\n            if (_this3.excheifFlag) {\n              flist.push(item.relativeFee);\n            }\n\n            var Vlist = [item.status_text, // 状态\n            // 交易对方\n            item.orderType ? item.realName : [{\n              type: 'button',\n              text: item.nickName,\n              eventType: 'userName',\n              subContent: {\n                text: item.realName,\n                classes: ['e-2-cl'] // 默认没有\n\n              }\n            }]];\n            flist = flist.concat(Vlist);\n            list.push({\n              id: JSON.stringify(item),\n              data: flist\n            });\n          });\n          _this3.tabelList = list;\n          _this3.paginationObj.total = data.data.count;\n        }\n      });\n    },\n    // 切换委托\n    currentType: function currentType(item) {\n      if (this.nowType === item.index) {\n        return;\n      }\n\n      this.nowType = item.index;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    // 切换币种\n    symbolChange: function symbolChange(item) {\n      if (this.symbol === item.code) {\n        return;\n      }\n\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    // 切换方向\n    sideChange: function sideChange(item) {\n      if (this.side === item.code) {\n        return;\n      }\n\n      this.side = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    tableClick: function tableClick(type, v) {\n      var data = JSON.parse(v);\n\n      if (type === 'orderId') {\n        if (this.otcLinkUrl.type === '1') {\n          this.$router.push(\"\".concat(this.otcLinkUrl.url, \"/otcDetailOrder?orderId=\").concat(data.sequence));\n        } else if (this.otcLinkUrl.type === '2') {\n          window.location.href = \"\".concat(this.otcLinkUrl.url, \"/otcDetailOrder?orderId=\").concat(data.sequence);\n        }\n      } else if (type === 'userName') {\n        var id = '';\n\n        if (data.side === 'BUY') {\n          id = data.sellerId;\n        } else if (data.side === 'SELL') {\n          id = data.buyerId;\n        }\n\n        if (this.otcLinkUrl.type === '1') {\n          this.$router.push(\"\".concat(this.otcLinkUrl.url, \"/stranger?uid=\").concat(id));\n        } else if (this.otcLinkUrl.type === '2') {\n          window.location.href = \"\".concat(this.otcLinkUrl.url, \"/stranger?uid=\").concat(id);\n        }\n      }\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/order/otcOrder/otcOrder.js"],"names":["imgMap","colorMap","fixD","getCoinShowName","name","data","switchFlag","tabelLoading","tabelList","nowType","symbol","symbolList","side","paginationObj","total","display","currentPage","watch","market","v","initSymbolList","computed","linkurl","$store","state","baseData","publicInfo","url","excheifFlag","exchief_project_switch","navTab","$t","index","sideList","code","value","axiosSide","axiosSymbol","undefined","columns","list","title","forEach","item","i","splice","console","log","otcLinkUrl","obj","type","process","env","NODE_ENV","window","HOSTAPI","otcUrl","methods","getFix","coin","coinList","toLocaleUpperCase","showPrecision","currentCoinPriceFix","price","payCoin","fix","defaultFiatPrecision","fiatPrecision","toLowerCase","init","switchChange","getData","Object","keys","otcOpen","push","getNowData","getHisData","axios","method","params","pageSize","page","coinSymbol","then","toString","orderList","Aurl","sequence","block","orderType","Flist","iconSvg","text","classes","volume","totalPrice","relativeFee","Vlist","status_text","realName","nickName","eventType","subContent","concat","id","JSON","stringify","count","isShowCanceled","flist","currentType","symbolChange","sideChange","tableClick","parse","$router","location","href","sellerId","buyerId","pagechange"],"mappings":"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","sourcesContent":["import {\r\n  imgMap, colorMap, fixD, getCoinShowName,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'page-otcOrder',\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      switchFlag: false,\r\n      tabelLoading: true,\r\n      tabelList: [],\r\n      nowType: 1, // 1为当前委托 2为历史委托\r\n      symbol: 'all', // 当前币种\r\n      symbolList: [], // 币种选择列表\r\n      side: 'all', // 方向\r\n      paginationObj: {\r\n        total: 0, // 数据总条数\r\n        display: 10, // 每页显示条数\r\n        currentPage: 1, // 当前页码\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    market(v) { if (v) { this.initSymbolList(); } },\r\n  },\r\n  computed: {\r\n    linkurl() {\r\n      if (this.$store.state.baseData.publicInfo) {\r\n        return this.$store.state.baseData.publicInfo.url;\r\n      }\r\n      return {};\r\n    },\r\n    excheifFlag() {\r\n      return this.$store.state.baseData.exchief_project_switch;\r\n    },\r\n    navTab() {\r\n      return [\r\n        // 当前委托\r\n        { name: this.$t('order.otcOrder.nowOrder'), index: 1 },\r\n        // 历史委托\r\n        { name: this.$t('order.otcOrder.hisOrder'), index: 2 },\r\n      ];\r\n    },\r\n    sideList() {\r\n      return [ // 方向选择列表\r\n        // 全部\r\n        { code: 'all', value: this.$t('order.otcOrder.all') },\r\n        // 买入\r\n        { code: 'buy', value: this.$t('order.otcOrder.buy') },\r\n        // 卖出\r\n        { code: 'sell', value: this.$t('order.otcOrder.sell') },\r\n      ];\r\n    },\r\n    market() { return this.$store.state.baseData.market; },\r\n    axiosSide() {\r\n      if (this.side === 'all') {\r\n        return '';\r\n      }\r\n      return this.side;\r\n    },\r\n    axiosSymbol() {\r\n      if (this.symbol === 'all') {\r\n        return undefined;\r\n      }\r\n      return this.symbol;\r\n    },\r\n    // 表格title\r\n    columns() {\r\n      let list = [];\r\n      if (this.nowType === 1) {\r\n        list = [\r\n          { title: this.$t('order.otcOrder.nowOrderId') }, // 订单号\r\n          { title: this.$t('order.otcOrder.nowOrderType') }, // 类别\r\n          { title: this.$t('order.otcOrder.nowOrderCoin') }, // 币种\r\n          { title: this.$t('order.otcOrder.nowOrderPirce') }, // 价格\r\n          { title: this.$t('order.otcOrder.nowOrderVolume') }, // 数量\r\n          { title: this.$t('order.otcOrder.nowOrderTotol') }, // 交易额\r\n          { title: this.$t('order.otcOrder.service') }, // 手续费\r\n          { title: this.$t('order.otcOrder.nowOrderStatus') }, // 状态\r\n          { title: this.$t('order.otcOrder.nowOrderUser') }, // 交易方\r\n        ];\r\n      } if (this.nowType === 2) {\r\n        list = [\r\n          { title: this.$t('order.otcOrder.hisOrderId') }, // 订单号\r\n          { title: this.$t('order.otcOrder.hisOrderType') }, // 类别\r\n          { title: this.$t('order.otcOrder.hisOrderCoin') }, // 币种\r\n          { title: this.$t('order.otcOrder.hisOrderPirce') }, // 价格\r\n          { title: this.$t('order.otcOrder.hisOrderVolume') }, // 数量\r\n          { title: this.$t('order.otcOrder.hisOrderTotol') }, // 交易额\r\n          { title: this.$t('order.otcOrder.service') }, // 手续费\r\n          { title: this.$t('order.otcOrder.hisOrderStatus') }, // 状态\r\n          { title: this.$t('order.otcOrder.hisOrderUser') }, // 交易方\r\n        ];\r\n      }\r\n      if (!this.excheifFlag) {\r\n        list.forEach((item, i) => {\r\n          if (item.title === this.$t('order.otcOrder.service')) {\r\n            list.splice(i, 1);\r\n          }\r\n        });\r\n      }\r\n      console.log(list);\r\n      return list;\r\n    },\r\n    baseData() { return this.$store.state.baseData; },\r\n    otcLinkUrl() {\r\n      const obj = {\r\n        url: '',\r\n        type: '', // 1为push 2为herf\r\n      };\r\n      // 开发\r\n      if (process.env.NODE_ENV === 'development') {\r\n        obj.url = '';\r\n        obj.type = '1';\r\n      // 线上\r\n      } else if (window.HOSTAPI === 'ex' && this.baseData.publicInfo) {\r\n        obj.url = this.$store.state.baseData.publicInfo.url.otcUrl;\r\n        obj.type = '2';\r\n      } else if (window.HOSTAPI === 'otc') {\r\n        obj.url = '';\r\n        obj.type = '1';\r\n      }\r\n      return obj;\r\n    },\r\n  },\r\n  methods: {\r\n    getFix(coin) {\r\n      return this.market.coinList[coin.toLocaleUpperCase()].showPrecision;\r\n    },\r\n    currentCoinPriceFix(price, coin, payCoin) {\r\n      let fix = this.$store.state.baseData.defaultFiatPrecision;\r\n      if (payCoin\r\n          && this.market\r\n          && this.market.coinList[coin]\r\n          && this.market.coinList[coin].fiatPrecision\r\n          && this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()]) {\r\n        fix = this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()];\r\n        return fixD(price, fix) + payCoin;\r\n      }\r\n      return price;\r\n    },\r\n    init() {\r\n      if (this.market) { this.initSymbolList(); }\r\n    },\r\n    switchChange() {\r\n      this.switchFlag = !this.switchFlag;\r\n      this.getData();\r\n    },\r\n    initSymbolList() {\r\n      const { coinList } = this.market;\r\n      const list = [{\r\n        code: 'all',\r\n        value: this.$t('order.otcOrder.allCoin'),\r\n      }];\r\n      Object.keys(coinList).forEach((item) => {\r\n        if (coinList[item].otcOpen) {\r\n          list.push({ code: item, value: getCoinShowName(item, coinList) });\r\n        }\r\n      });\r\n      this.symbol = 'all';\r\n      this.symbolList = list;\r\n      // if (list.length) { this.symbol = list[0].code; }\r\n      this.getData();\r\n    },\r\n    getData() {\r\n      if (this.nowType === 1) {\r\n        this.getNowData();\r\n      } else if (this.nowType === 2) {\r\n        this.getHisData();\r\n      }\r\n    },\r\n    // 获取当前\r\n    getNowData() {\r\n      const url = '/order/otc/unfinished';\r\n      this.axios({\r\n        url,\r\n        method: 'post',\r\n        params: {\r\n          // side: this.axiosSide,\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n          coinSymbol: this.axiosSymbol,\r\n        },\r\n      }).then((data) => {\r\n        if (this.nowType !== 1) return;\r\n        this.tabelLoading = false;\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          data.data.orderList.forEach((item) => {\r\n            let Aurl = '';\r\n            if (process.env.NODE_ENV === 'development') {\r\n              Aurl = `/otcDetailOrder?orderId=${item.sequence}`;\r\n            } else {\r\n              Aurl = `${this.linkurl.otcUrl}/otcDetailOrder?orderId=${item.sequence}`;\r\n            }\r\n            let block = '';\r\n            if (item.orderType) {\r\n              Aurl = item.url;\r\n              block = 'target=\"view_frame\"';\r\n            }\r\n            let Flist = [\r\n              // 订单号\r\n              [{\r\n                // type: 'link', text: item.sequence, eventType: 'orderId', classes: ['orderId'],\r\n                type: 'icon', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                iconSvg: `<a class=\"u-8-cl\" ${block} href=\"${Aurl}\">${item.sequence}</a>`,\r\n              }],\r\n              [{\r\n                text: item.type,\r\n                classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl',\r\n              }],\r\n              getCoinShowName(item.coinSymbol, this.market.coinList), // 币种\r\n              this.currentCoinPriceFix(item.price, item.coinSymbol, item.payCoin), // 价格\r\n              fixD(item.volume, this.getFix(item.coinSymbol)), // 数量\r\n              this.currentCoinPriceFix(item.totalPrice, item.coinSymbol, item.payCoin), // 交易额\r\n            ];\r\n            if (this.excheifFlag) {\r\n              Flist.push(item.relativeFee);\r\n            }\r\n            const Vlist = [\r\n              item.status_text, // 状态\r\n              // 交易对方\r\n              item.orderType\r\n                ? item.realName\r\n                : [\r\n                  {\r\n                    type: 'button',\r\n                    text: item.nickName,\r\n                    eventType: 'userName',\r\n                    subContent: {\r\n                      text: item.realName,\r\n                      classes: ['e-2-cl'], // 默认没有\r\n                    },\r\n                  },\r\n                ],\r\n            ];\r\n            Flist = Flist.concat(Vlist);\r\n            list.push({\r\n              id: JSON.stringify(item),\r\n              data: Flist,\r\n            });\r\n          });\r\n          this.tabelList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        }\r\n      });\r\n    },\r\n    // 获取历史订单\r\n    getHisData() {\r\n      const url = '/order/otc/complete';\r\n      this.axios({\r\n        url,\r\n        method: 'post',\r\n        params: {\r\n          // side: this.axiosSide,\r\n          isShowCanceled: this.switchFlag ? 1 : 0,\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n          coinSymbol: this.axiosSymbol,\r\n        },\r\n      }).then((data) => {\r\n        if (this.nowType !== 2) return;\r\n        this.tabelLoading = false;\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          data.data.orderList.forEach((item) => {\r\n            let Aurl = '';\r\n            if (process.env.NODE_ENV === 'development') {\r\n              Aurl = `/otcDetailOrder?orderId=${item.sequence}`;\r\n            } else {\r\n              Aurl = `${this.linkurl.otcUrl}/otcDetailOrder?orderId=${item.sequence}`;\r\n            }\r\n            let block = '';\r\n            if (item.orderType) {\r\n              Aurl = item.url;\r\n              block = 'target=\"view_frame\"';\r\n            }\r\n            let flist = [\r\n              // 订单号\r\n              [{\r\n                // type: 'link', text: item.sequence, eventType: 'orderId', classes: ['orderId'],\r\n                type: 'icon', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                iconSvg: `<a class=\"u-8-cl\" ${block} href=\"${Aurl}\">${item.sequence}</a>`,\r\n              }],\r\n              [{\r\n                text: item.type,\r\n                classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl',\r\n              }],\r\n              getCoinShowName(item.coinSymbol, this.market.coinList), // 币种\r\n              this.currentCoinPriceFix(item.price, item.coinSymbol, item.payCoin), // 价格\r\n              fixD(item.volume, this.getFix(item.coinSymbol)), // 数量\r\n              this.currentCoinPriceFix(item.totalPrice, item.coinSymbol, item.payCoin), // 交易额\r\n            ];\r\n            if (this.excheifFlag) {\r\n              flist.push(item.relativeFee);\r\n            }\r\n            const Vlist = [\r\n              item.status_text, // 状态\r\n              // 交易对方\r\n              item.orderType\r\n                ? item.realName\r\n                : [\r\n                  {\r\n                    type: 'button',\r\n                    text: item.nickName,\r\n                    eventType: 'userName',\r\n                    subContent: {\r\n                      text: item.realName,\r\n                      classes: ['e-2-cl'], // 默认没有\r\n                    },\r\n                  },\r\n                ],\r\n            ];\r\n            flist = flist.concat(Vlist);\r\n            list.push({\r\n              id: JSON.stringify(item),\r\n              data: flist,\r\n            });\r\n          });\r\n          this.tabelList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        }\r\n      });\r\n    },\r\n    // 切换委托\r\n    currentType(item) {\r\n      if (this.nowType === item.index) { return; }\r\n      this.nowType = item.index;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.getData();\r\n    },\r\n    // 切换币种\r\n    symbolChange(item) {\r\n      if (this.symbol === item.code) { return; }\r\n      this.symbol = item.code;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.getData();\r\n    },\r\n    // 切换方向\r\n    sideChange(item) {\r\n      if (this.side === item.code) { return; }\r\n      this.side = item.code;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.getData();\r\n    },\r\n    tableClick(type, v) {\r\n      const data = JSON.parse(v);\r\n      if (type === 'orderId') {\r\n        if (this.otcLinkUrl.type === '1') {\r\n          this.$router.push(`${this.otcLinkUrl.url}/otcDetailOrder?orderId=${data.sequence}`);\r\n        } else if (this.otcLinkUrl.type === '2') {\r\n          window.location.href = `${this.otcLinkUrl.url}/otcDetailOrder?orderId=${data.sequence}`;\r\n        }\r\n      } else if (type === 'userName') {\r\n        let id = '';\r\n        if (data.side === 'BUY') {\r\n          id = data.sellerId;\r\n        } else if (data.side === 'SELL') {\r\n          id = data.buyerId;\r\n        }\r\n        if (this.otcLinkUrl.type === '1') {\r\n          this.$router.push(`${this.otcLinkUrl.url}/stranger?uid=${id}`);\r\n        } else if (this.otcLinkUrl.type === '2') {\r\n          window.location.href = `${this.otcLinkUrl.url}/stranger?uid=${id}`;\r\n        }\r\n      }\r\n    },\r\n    pagechange(v) {\r\n      this.paginationObj.currentPage = v;\r\n      this.getData();\r\n    },\r\n  },\r\n};\r\n"]}]}