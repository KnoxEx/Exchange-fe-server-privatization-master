{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/broker/broker/broker.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/broker/broker/broker.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport { fixD, getCoinShowName, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'broker',\n  data: function data() {\n    return {\n      headClasses: 'c-4-bg',\n      bodyClasses: 'c-4-bg',\n      tableLoading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      backgroundImg: \"background: url(\".concat(imgMap.jjrNeaderBg, \")  center bottom no-repeat #0E1A2E\"),\n      backgroundImg2: \"background: url(\".concat(imgMap.broker_title_bg, \") center bottom no-repeat #0E1A2E;background-size: 100% 70%;\"),\n      tableData: {},\n      tableType: 'agent_data',\n      searchValue: '',\n      calendarData: null,\n      // 筛选币种\n      coinValue: '',\n      typeValue: null,\n      // 直接邀请人数\n      userCount: 0,\n      // 间接邀请人数\n      indirect: 0,\n      isDiractShow: false,\n      // 本月总收入\n      allBonusAmount: null,\n      allBonusCoin: 'BTC',\n      errorHave: false,\n      pagination: {\n        // 翻页数据\n        count: 0,\n        // 总数量\n        pageSize: 10,\n        // 每页显示条数\n        page: 1 // 当前页数\n\n      },\n      symbolType: this.$t('broker.symbolType'),\n      type: this.$t('broker.type')\n    };\n  },\n  watch: {\n    // isLogin(val) {\n    //   if (val) {\n    //     this.getData();\n    //   }\n    // },\n    coinOPtion: function coinOPtion(value) {\n      if (value.length) {\n        this.coinValue = 'USDT';\n      }\n    },\n    coinValue: function coinValue(value) {\n      if (value) {\n        this.getData();\n      }\n    },\n    typeValue: function typeValue(value) {\n      if (value && this.searchValue) {\n        this.getData();\n      }\n    }\n  },\n  computed: {\n    promptText: function promptText() {\n      switch (this.typeValue) {\n        case 1:\n          return this.$t('broker.promptText1');\n        // '请输入UID';\n\n        case 2:\n          return this.$t('broker.promptText2');\n        // '请输入手机号';\n\n        default:\n          return this.$t('broker.promptText3');\n        // '请输入邮箱';\n      }\n    },\n    timeText: function timeText() {\n      return this.$t('broker.time');\n    },\n    isLogin: function isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    username: function username() {\n      if (this.$store.state.baseData.userInfo) {\n        return this.$store.state.baseData.userInfo.agentRoleName;\n      }\n\n      return false;\n    },\n    coinList: function coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    coinOPtion: function coinOPtion() {\n      var _this = this;\n\n      var arr = [];\n\n      if (this.coinList) {\n        var coinList = Object.keys(this.coinList);\n        coinList.forEach(function (item) {\n          arr.push({\n            value: getCoinShowName(_this.coinList[item].name, _this.coinList),\n            code: _this.coinList[item].name\n          });\n        });\n        return arr;\n      }\n\n      return [];\n    },\n    typeOption: function typeOption() {\n      return [{\n        value: 'UID',\n        code: 1\n      }, {\n        value: this.$t('broker.phoneeNumber'),\n        code: 2\n      }, {\n        value: this.$t('broker.email'),\n        code: 3\n      }];\n    },\n    tabList: function tabList() {\n      return [{\n        key: 'agent_data',\n        text: this.$t('broker.remaid')\n      }, {\n        key: 'agent_account',\n        text: this.$t('broker.agentAccount')\n      }];\n    },\n    columns: function columns() {\n      if (this.tableType === 'agent_data') {\n        return [{\n          title: 'UID',\n          width: '100px'\n        }, {\n          title: this.$t('broker.phoneeNumber'),\n          width: '260px'\n        }, {\n          title: this.$t('broker.email'),\n          width: '260px'\n        }, {\n          title: this.$t('broker.tier'),\n          width: '100px'\n        }, {\n          title: \"\".concat(this.$t('broker.fee'), \"(\").concat(getCoinShowName(this.coinValue, this.coinList), \")\"),\n          width: '150px'\n        }, {\n          title: \"\".concat(this.$t('broker.amount'), \"(\").concat(getCoinShowName(this.allBonusCoin, this.coinList), \")\"),\n          width: '150px'\n        }, {\n          title: this.$t('broker.opera'),\n          width: '160px',\n          classes: 'lastTh'\n        }];\n      }\n\n      return [{\n        title: 'UID',\n        width: '8%'\n      }, {\n        title: this.$t('broker.phoneeNumber'),\n        width: '22%'\n      }, {\n        title: this.$t('broker.email'),\n        width: '26%'\n      }, {\n        title: this.$t('broker.tier'),\n        width: '22%'\n      }, {\n        title: \"\".concat(this.$t('broker.ccNumber'), \"(\").concat(getCoinShowName(this.coinValue, this.coinList), \")\"),\n        width: '22%'\n      }];\n    },\n    dataList: function dataList() {\n      var _this2 = this;\n\n      if (this.tableData && this.tableData.length) {\n        var dataArr = [];\n        this.tableData.forEach(function (item) {\n          if (_this2.tableType === 'agent_data') {\n            dataArr.push({\n              id: item.uid,\n              data: [item.uid, !item.mobileNumber ? '/' : item.mobileNumber, !item.email ? '/' : item.email, item.level, _this2.fixDFun(item.feeAmount, _this2.coinValue), _this2.fixDFun(item.bonusAmount, _this2.coinValue), [{\n                type: 'button',\n                text: _this2.$t('broker.view'),\n                iconClass: [''],\n                eventType: 'view',\n                classes: []\n              }]]\n            });\n          } else {\n            dataArr.push({\n              id: item.uid,\n              data: [item.uid, // UID\n              !item.mobileNumber ? '/' : item.mobileNumber, // 手机号\n              !item.email ? '/' : item.email, // 邮箱\n              item.level, // 层级\n              _this2.fixDFun(item.amount, _this2.coinValue) // 持仓量\n              ]\n            });\n          }\n        });\n        return dataArr;\n      }\n\n      return [];\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.coinOPtion) {\n        this.coinValue = 'USDT';\n      }\n\n      this.getData();\n    },\n    fixDFun: function fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n\n      return val;\n    },\n    showPrecision: function showPrecision(symbol) {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        var coinList = this.$store.state.baseData.market.coinList;\n\n        if (coinList[symbol]) {\n          var precision = coinList[symbol].showPrecision;\n\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n\n      return 4;\n    },\n    // 翻页事件\n    pagechange: function pagechange(num) {\n      this.pagination.page = num;\n      this.getData();\n    },\n    // 请求数据\n    getData: function getData(search) {\n      var _this3 = this;\n\n      if (search) {\n        this.pagination.page = 1;\n      }\n\n      this.tableLoading = true;\n      var url = this.$store.state.url.common.agent_data_query;\n      var params = {\n        pageNum: this.pagination.page,\n        coinName: this.coinValue || 'USDT',\n        keyword_type: this.typeValue || 1,\n        keyword: this.searchValue\n      };\n\n      if (this.tableType === 'agent_account') {\n        url = this.$store.state.url.common.agent_account_query;\n        params.dayTime = this.calendarData.replace(/\\//g, '-');\n      }\n\n      this.axios({\n        url: url,\n        params: params,\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this3.tableData = data.data.mapList;\n          _this3.pagination.count = data.data.count;\n\n          if (_this3.tableType === 'agent_data') {\n            _this3.userCount = data.data.userCount;\n\n            if (data.data.inviteNum || data.data.inviteNum === 0) {\n              if (data.data.inviteNum !== -1) {\n                _this3.indirect = data.data.inviteNum;\n                _this3.isDiractShow = true;\n              }\n            }\n\n            _this3.allBonusAmount = data.data.allBonusAmount;\n            _this3.allBonusCoin = data.data.allBonusCoin;\n          }\n        }\n\n        _this3.tableLoading = false;\n      });\n    },\n    // 切换类型\n    switcherType: function switcherType(type) {\n      this.tableType = type;\n      this.typeValue = '';\n      this.searchValue = '';\n      this.coinValue = 'USDT';\n      this.calendarData = '';\n      this.pagination.page = 1;\n      this.getData();\n    },\n    // 搜索输入事件\n    inputLineChange: function inputLineChange(value, name) {\n      this[name] = value;\n\n      if (this.typeValue) {\n        this.getData(true);\n      }\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    // 搜索输入框回车事件\n\n    /*      inputKeyup() {\n        if (this.typeValue) {\n          this.getData(true);\n        }\n      }, */\n    // 选择时间\n    onChangeCalendar: function onChangeCalendar(data) {\n      this.calendarData = data;\n    },\n    // select 选择事件\n    selectOnChange: function selectOnChange(data, name) {\n      this[name] = data.code;\n    },\n    goViewPage: function goViewPage(type, data) {\n      this.$router.push(\"/broker/\".concat(data));\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/broker/broker/broker.js"],"names":["fixD","getCoinShowName","colorMap","imgMap","name","data","headClasses","bodyClasses","tableLoading","backgroundImg","jjrNeaderBg","backgroundImg2","broker_title_bg","tableData","tableType","searchValue","calendarData","coinValue","typeValue","userCount","indirect","isDiractShow","allBonusAmount","allBonusCoin","errorHave","pagination","count","pageSize","page","symbolType","$t","type","watch","coinOPtion","value","length","getData","computed","promptText","timeText","isLogin","$store","state","baseData","username","userInfo","agentRoleName","coinList","market","arr","Object","keys","forEach","item","push","code","typeOption","tabList","key","text","columns","title","width","classes","dataList","dataArr","id","uid","mobileNumber","email","level","fixDFun","feeAmount","bonusAmount","iconClass","eventType","amount","methods","init","val","symbol","showPrecision","precision","pagechange","num","search","url","common","agent_data_query","params","pageNum","coinName","keyword_type","keyword","agent_account_query","dayTime","replace","axios","method","then","mapList","inviteNum","switcherType","inputLineChange","formatJson","filterVal","jsonData","map","v","j","onChangeCalendar","selectOnChange","goViewPage","$router"],"mappings":"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","sourcesContent":["import {\n  fixD,\n  getCoinShowName,\n  colorMap,\n  imgMap,\n} from '@/utils';\n\n\nexport default {\n  name: 'broker',\n  data() {\n    return {\n      headClasses: 'c-4-bg',\n      bodyClasses: 'c-4-bg',\n      tableLoading: true,\n      imgMap,\n      colorMap,\n      backgroundImg: `background: url(${imgMap.jjrNeaderBg})  center bottom no-repeat #0E1A2E`,\n      backgroundImg2: `background: url(${imgMap.broker_title_bg}) center bottom no-repeat #0E1A2E;background-size: 100% 70%;`,\n      tableData: {},\n      tableType: 'agent_data',\n      searchValue: '',\n      calendarData: null,\n      // 筛选币种\n      coinValue: '',\n      typeValue: null,\n      // 直接邀请人数\n      userCount: 0,\n      // 间接邀请人数\n      indirect: 0,\n      isDiractShow: false,\n      // 本月总收入\n      allBonusAmount: null,\n      allBonusCoin: 'BTC',\n      errorHave: false,\n      pagination: { // 翻页数据\n        count: 0, // 总数量\n        pageSize: 10, // 每页显示条数\n        page: 1, // 当前页数\n      },\n      symbolType: this.$t('broker.symbolType'),\n      type: this.$t('broker.type'),\n    };\n  },\n  watch: {\n    // isLogin(val) {\n    //   if (val) {\n    //     this.getData();\n    //   }\n    // },\n    coinOPtion(value) {\n      if (value.length) {\n        this.coinValue = 'USDT';\n      }\n    },\n    coinValue(value) {\n      if (value) {\n        this.getData();\n      }\n    },\n    typeValue(value) {\n      if (value && this.searchValue) {\n        this.getData();\n      }\n    },\n  },\n  computed: {\n    promptText() {\n      switch (this.typeValue) {\n        case 1:\n          return this.$t('broker.promptText1'); // '请输入UID';\n        case 2:\n          return this.$t('broker.promptText2'); // '请输入手机号';\n        default:\n          return this.$t('broker.promptText3'); // '请输入邮箱';\n      }\n    },\n    timeText() {\n      return this.$t('broker.time');\n    },\n    isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    username() {\n      if (this.$store.state.baseData.userInfo) {\n        return this.$store.state.baseData.userInfo.agentRoleName;\n      }\n      return false;\n    },\n    coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    coinOPtion() {\n      const arr = [];\n      if (this.coinList) {\n        const coinList = Object.keys(this.coinList);\n        coinList.forEach((item) => {\n          arr.push({\n            value: getCoinShowName(this.coinList[item].name, this.coinList),\n            code: this.coinList[item].name,\n          });\n        });\n        return arr;\n      }\n      return [];\n    },\n    typeOption() {\n      return [\n        {\n          value: 'UID',\n          code: 1,\n        },\n        {\n          value: this.$t('broker.phoneeNumber'),\n          code: 2,\n        },\n        {\n          value: this.$t('broker.email'),\n          code: 3,\n        },\n      ];\n    },\n    tabList() {\n      return [\n        {\n          key: 'agent_data',\n          text: this.$t('broker.remaid'),\n        },\n        {\n          key: 'agent_account',\n          text: this.$t('broker.agentAccount'),\n        },\n      ];\n    },\n    columns() {\n      if (this.tableType === 'agent_data') {\n        return [\n          {\n            title: 'UID',\n            width: '100px',\n          },\n          {\n            title: this.$t('broker.phoneeNumber'),\n            width: '260px',\n          },\n          {\n            title: this.$t('broker.email'),\n            width: '260px',\n          },\n          {\n            title: this.$t('broker.tier'),\n            width: '100px',\n          },\n          {\n            title: `${this.$t('broker.fee')}(${getCoinShowName(this.coinValue, this.coinList)})`,\n            width: '150px',\n          },\n          {\n            title: `${this.$t('broker.amount')}(${getCoinShowName(this.allBonusCoin, this.coinList)})`,\n            width: '150px',\n          },\n          {\n            title: this.$t('broker.opera'),\n            width: '160px',\n            classes: 'lastTh',\n          },\n        ];\n      }\n      return [\n        {\n          title: 'UID',\n          width: '8%',\n        },\n        {\n          title: this.$t('broker.phoneeNumber'),\n          width: '22%',\n        },\n        {\n          title: this.$t('broker.email'),\n          width: '26%',\n        },\n        {\n          title: this.$t('broker.tier'),\n          width: '22%',\n        },\n        {\n          title: `${this.$t('broker.ccNumber')}(${getCoinShowName(this.coinValue, this.coinList)})`,\n          width: '22%',\n        },\n      ];\n    },\n    dataList() {\n      if (this.tableData && this.tableData.length) {\n        const dataArr = [];\n        this.tableData.forEach((item) => {\n          if (this.tableType === 'agent_data') {\n            dataArr.push({\n              id: item.uid,\n              data: [\n                item.uid,\n                !item.mobileNumber ? '/' : item.mobileNumber,\n                !item.email ? '/' : item.email,\n                item.level,\n                this.fixDFun(item.feeAmount, this.coinValue),\n                this.fixDFun(item.bonusAmount, this.coinValue),\n                [\n                  {\n                    type: 'button',\n                    text: this.$t('broker.view'),\n                    iconClass: [''],\n                    eventType: 'view',\n                    classes: [],\n                  },\n                ],\n              ],\n            });\n          } else {\n            dataArr.push({\n              id: item.uid,\n              data: [\n                item.uid, // UID\n                !item.mobileNumber ? '/' : item.mobileNumber, // 手机号\n                !item.email ? '/' : item.email, // 邮箱\n                item.level, // 层级\n                this.fixDFun(item.amount, this.coinValue), // 持仓量\n              ],\n            });\n          }\n        });\n        return dataArr;\n      }\n      return [];\n    },\n  },\n  methods: {\n    init() {\n      if (this.coinOPtion) {\n        this.coinValue = 'USDT';\n      }\n      this.getData();\n    },\n    fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n      return val;\n    },\n    showPrecision(symbol) {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        const { coinList } = this.$store.state.baseData.market;\n        if (coinList[symbol]) {\n          const precision = coinList[symbol].showPrecision;\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n      return 4;\n    },\n    // 翻页事件\n    pagechange(num) {\n      this.pagination.page = num;\n      this.getData();\n    },\n    // 请求数据\n    getData(search) {\n      if (search) {\n        this.pagination.page = 1;\n      }\n      this.tableLoading = true;\n      let url = this.$store.state.url.common.agent_data_query;\n      const params = {\n        pageNum: this.pagination.page,\n        coinName: this.coinValue || 'USDT',\n        keyword_type: this.typeValue || 1,\n        keyword: this.searchValue,\n      };\n      if (this.tableType === 'agent_account') {\n        url = this.$store.state.url.common.agent_account_query;\n        params.dayTime = this.calendarData.replace(/\\//g, '-');\n      }\n      this.axios({\n        url,\n        params,\n        method: 'post',\n      }).then((data) => {\n        if (data.code === '0') {\n          this.tableData = data.data.mapList;\n          this.pagination.count = data.data.count;\n          if (this.tableType === 'agent_data') {\n            this.userCount = data.data.userCount;\n            if (data.data.inviteNum || data.data.inviteNum === 0) {\n              if (data.data.inviteNum !== -1) {\n                this.indirect = data.data.inviteNum;\n                this.isDiractShow = true;\n              }\n            }\n            this.allBonusAmount = data.data.allBonusAmount;\n            this.allBonusCoin = data.data.allBonusCoin;\n          }\n        }\n        this.tableLoading = false;\n      });\n    },\n    // 切换类型\n    switcherType(type) {\n      this.tableType = type;\n      this.typeValue = '';\n      this.searchValue = '';\n      this.coinValue = 'USDT';\n      this.calendarData = '';\n      this.pagination.page = 1;\n      this.getData();\n    },\n    // 搜索输入事件\n    inputLineChange(value, name) {\n      this[name] = value;\n      if (this.typeValue) {\n        this.getData(true);\n      }\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map((v) => filterVal.map((j) => v[j]));\n    },\n    // 搜索输入框回车事件\n    /*      inputKeyup() {\n        if (this.typeValue) {\n          this.getData(true);\n        }\n      }, */\n    // 选择时间\n    onChangeCalendar(data) {\n      this.calendarData = data;\n    },\n    // select 选择事件\n    selectOnChange(data, name) {\n      this[name] = data.code;\n    },\n    goViewPage(type, data) {\n      this.$router.push(`/broker/${data}`);\n    },\n  },\n};\n"]}]}