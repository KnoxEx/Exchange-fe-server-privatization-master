{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/router/ex-router.js","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/router/ex-router.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _toConsumableArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport { commonRouter, personalRouter, exRouter } from 'BlockChain-ui-privatization/PC/router';\nimport { setCookie, routerEnv } from '@/utils';\nvar originalPush = Router.prototype.push;\n\nRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(function (err) {\n    return err;\n  });\n};\n\nvar evnConfig = ['ex', 'otc', 'co'];\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  base: '/',\n  routes: [// 创新试验区详情\n  {\n    path: \"\".concat(routerEnv, \"/innovation/:id\"),\n    name: 'innovationView',\n    meta: {\n      mustLogin: false,\n      theme: 'homeOther',\n      navigation: '1',\n      // 国际版中使用横向导航\n      hideFooter: 'false',\n      // 不隐藏footer\n      pageTitle: 'innovation'\n    },\n    component: function component() {\n      return import('@/views/innovation/view.vue');\n    }\n  }, // agent\n  {\n    path: \"\".concat(routerEnv, \"/agent\"),\n    name: 'agentView',\n    meta: {\n      mustLogin: false,\n      theme: 'homeOther',\n      navigation: '1',\n      // 国际版中使用横向导航\n      hideFooter: 'false',\n      // 不隐藏footer\n      pageTitle: 'agent'\n    },\n    component: function component() {\n      return import('@/views/agent/view.vue');\n    }\n  }].concat(_toConsumableArray(commonRouter), _toConsumableArray(personalRouter), _toConsumableArray(exRouter))\n});\n\nif (process.env.NODE_ENV === 'development') {\n  router.beforeEach(function (to, from, next) {\n    var fromPathArr = from.path.split('/');\n    var toPathArr = to.path.split('/');\n\n    var _fromPathArr = _slicedToArray(fromPathArr, 3),\n        fromHostEnv = _fromPathArr[1],\n        fromLan = _fromPathArr[2];\n\n    var _toPathArr = _slicedToArray(toPathArr, 3),\n        toHostEnv = _toPathArr[1],\n        toLan = _toPathArr[2];\n\n    var reg = /^[a-z]{2}_[A-Z]{2}$/;\n\n    if (evnConfig.indexOf(toHostEnv) !== -1 && reg.test(toLan)) {\n      setCookie('lan', toLan);\n      next();\n    } else {\n      if (from.path === '/') {\n        var ev = '';\n        evnConfig.forEach(function (item) {\n          var fit = \"/\".concat(item, \"/\");\n\n          if (to.path.indexOf(item) !== -1) {\n            ev = fit;\n          }\n        });\n\n        var _str = \"\".concat(ev, \"zh_CN/\").concat(to.path.split(ev)[1]);\n\n        setCookie('lan', 'zh_CN');\n        next(_str);\n        return false;\n      }\n\n      var str = '';\n      fromHostEnv = evnConfig.indexOf(fromHostEnv) !== -1 ? fromHostEnv : 'ex';\n      fromLan = reg.test(fromLan) ? fromLan : 'zh_CN';\n\n      if (evnConfig.indexOf(toHostEnv) === -1) {\n        str += \"/\".concat(fromHostEnv);\n      }\n\n      if (!reg.test(toLan)) {\n        str += \"/\".concat(fromLan);\n      }\n\n      str += to.fullPath;\n      setCookie('lan', fromLan);\n      next(str);\n    }\n\n    return false;\n  });\n} else {\n  var reg = /^[a-z]{2}_[A-Z]{2}$/;\n  router.beforeEach(function (to, from, next) {\n    if (from.path === '/') {\n      next();\n    } else {\n      var fromPathArr = from.path.split('/');\n      var fromLan = fromPathArr[1];\n      var toPathArr = to.path.split('/');\n      var toLan = toPathArr[1];\n\n      if (reg.test(toLan)) {\n        next();\n      } else {\n        var toPath = \"/\".concat(fromLan).concat(to.fullPath);\n        next(toPath);\n      }\n    }\n  });\n}\n\nexport default router;",null]}