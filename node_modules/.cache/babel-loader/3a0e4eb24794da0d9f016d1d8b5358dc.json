{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/LeaglTenderSet/LeaglTenderSet.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/LeaglTenderSet/LeaglTenderSet.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport { imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'leaglTenderSet',\n  data: function data() {\n    return {\n      activeId: '',\n      alertFlag: false,\n      switchValue: false,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      dataList: [],\n      isCapitalPwordSet: 0,\n      sms: '',\n      google: '',\n      nickName: '',\n      authLevel: 0 // 身份/实名认证状态，0、未审核，1、通过，2、未通过  3未认证\n\n    };\n  },\n  methods: {\n    init: function init() {\n      this.$store.dispatch('otcPaymentFind'); // 获取 userinfo\n\n      this.$store.dispatch('getUserInfo');\n      var userInfo = this.$store.state.baseData.userInfo;\n\n      if (userInfo !== null) {\n        this.isCapitalPwordSet = userInfo.isCapitalPwordSet;\n        this.google = !!userInfo.googleStatus;\n        this.sms = !!userInfo.isOpenMobileCheck;\n        this.nickName = userInfo.nickName;\n        this.authLevel = userInfo.authLevel;\n      }\n    },\n    resloveText: function resloveText(obj) {\n      var bankName = obj.bankName,\n          bankOfDeposit = obj.bankOfDeposit,\n          account = obj.account,\n          userName = obj.userName;\n      var name = '';\n\n      if (this.$store.state.baseData.userInfo) {\n        name = this.$store.state.baseData.userInfo.realName;\n      }\n\n      if (!this.isCanModifyName) {\n        name = userName;\n      }\n\n      if (this.excheifFlag) {\n        name = userName;\n      }\n\n      var arr = [bankName, bankOfDeposit, account, name].filter(function (item) {\n        return item;\n      });\n      return arr.join(' &nbsp; &nbsp; &nbsp; ');\n    },\n    alertClose: function alertClose() {\n      this.alertFlag = false;\n    },\n    alertGo: function alertGo() {\n      this.$router.push('/personal/userManagement');\n    },\n    switchChange: function switchChange(id, isOpen) {\n      var open = '0';\n\n      if (isOpen === '1') {\n        open = 0;\n      } else {\n        open = 1;\n      }\n\n      var info = {\n        id: Number(id),\n        isOpen: open\n      };\n      this.$store.dispatch('otcPaymentOpen', info);\n    },\n    click: function click(id, name) {\n      if (!this.authIsPass) {\n        this.alertFlag = true;\n        return;\n      }\n\n      if (name === 'delete') {\n        if (this.activeId !== id) {\n          this.activeId = id;\n          var info = {\n            id: id\n          };\n          this.$store.dispatch('otcPaymentDelete', info);\n        }\n      } else if (name === 'modify') {\n        this.$router.push({\n          path: '/personal/setUp',\n          query: {\n            paymentId: id.id\n          }\n        }); // 传参\n\n        var _info = {\n          obj: id,\n          set: 1\n        }; // set 0为正常添加 1为修改\n\n        this.$store.dispatch('setPayment', _info);\n      }\n    },\n    btnLink: function btnLink(name) {\n      if (this.authIsPass) {\n        if (name === 'modifySettings') {\n          this.$router.push({\n            path: '/personal/modifySettings',\n            query: {}\n          });\n        } else {\n          this.$router.push({\n            path: '/personal/setUp',\n            query: {}\n          });\n        }\n      } else {\n        this.alertFlag = true;\n      }\n    }\n  },\n  computed: {\n    fiatTradeOpen: function fiatTradeOpen() {\n      var base = this.$store.state.baseData.publicInfo;\n\n      if (base && base.switch && base.switch.fiat_trade_open === '1') {\n        return true;\n      }\n\n      return false;\n    },\n    authTitleText: function authTitleText() {\n      var text = this.enforceGoogleAuth ? 'personal.alert.enforceGoogleAuth' : 'assets.withdraw.safetyWarningError';\n      return this.$t(text);\n    },\n    enforceGoogleAuth: function enforceGoogleAuth() {\n      return this.$store.state.baseData.is_enforce_google_auth || 0;\n    },\n    authIsPass: function authIsPass() {\n      return this.nickName && this.authLevel === 1 && (this.google || !this.enforceGoogleAuth && this.sms);\n    },\n    otcPaymentFind: function otcPaymentFind() {\n      return this.$store.state.personal.otcPaymentFind;\n    },\n    otcPaymentDelete: function otcPaymentDelete() {\n      return this.$store.state.personal.otcPaymentDelete;\n    },\n    otcPaymentOpen: function otcPaymentOpen() {\n      return this.$store.state.personal.otcPaymentOpen;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    isCanModifyName: function isCanModifyName() {\n      return this.userInfo && Number(this.userInfo.userCompanyInfo.status) === 0;\n    },\n    excheifFlag: function excheifFlag() {\n      return this.$store.state.baseData.exchief_project_switch;\n    }\n  },\n  watch: {\n    otcPaymentFind: function otcPaymentFind(_otcPaymentFind) {\n      if (_otcPaymentFind !== null) {\n        this.dataList = _otcPaymentFind.data;\n      }\n    },\n    otcPaymentDelete: function otcPaymentDelete(_otcPaymentDelete) {\n      if (_otcPaymentDelete !== null) {\n        this.activeId = '';\n\n        if (_otcPaymentDelete.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcPaymentDelete.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('otcPaymentFind');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcPaymentDelete.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    otcPaymentOpen: function otcPaymentOpen(_otcPaymentOpen) {\n      if (_otcPaymentOpen !== null) {\n        if (_otcPaymentOpen.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcPaymentOpen.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('otcPaymentFind');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcPaymentOpen.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    userInfo: function userInfo(_userInfo) {\n      if (_userInfo !== null) {\n        this.isCapitalPwordSet = _userInfo.isCapitalPwordSet;\n        this.google = !!_userInfo.googleStatus;\n        this.sms = !!_userInfo.isOpenMobileCheck;\n        this.nickName = _userInfo.nickName;\n        this.authLevel = _userInfo.authLevel;\n      }\n    }\n  }\n};",null]}