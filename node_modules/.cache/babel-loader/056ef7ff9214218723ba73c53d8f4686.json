{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/stranger/stranger.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/stranger/stranger.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { fixD, imgMap, colorMap, getCoinShowName } from '@/utils';\nexport default {\n  name: 'stronger',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      loading: false,\n      side: 'SELL',\n      identity: 0,\n      // 0 为拉黑， 1 被拉黑\n      // 弹框\n      dialogFlag: false,\n      dialogConfirmLoading: false,\n      dialogConfirmDisabled: false,\n      blackList: 0,\n      // 0 用户本人或未登录， 1 被拉黑， 2 未被拉黑\n      uid: '',\n      name: '',\n      loginStatus: 0,\n      // 在线状态 (1在线，0离线)\n      imageUrl: '',\n      otcNickName: '',\n      completeOrders: '',\n      complainNum: '',\n      sucComplainNum: '',\n      authLevel: '',\n      // 认证状态 0、未审核，1、通过，2、未通过  3、未认证\n      mobileAuthStatus: '',\n      // 是否开启了手机认证:0-未开启,1-开启\n      // 横向导航参数\n      currentTab: 1,\n      navTab: [{\n        name: this.$t('stranger.navTab')[0],\n        index: 1\n      }, {\n        name: this.$t('stranger.navTab')[1],\n        index: 2\n      }],\n      lineHeight: '55',\n      marginRight: 48,\n      // 距离右边的距离\n      // table 相关\n      columns: [{\n        title: this.$t('stranger.columns')[0],\n        align: 'left',\n        width: '100px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[1],\n        align: 'right',\n        width: '100px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[2],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[3],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[4],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[5],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }],\n      dataList: [],\n      cellHeight: 55,\n      headHeight: 34,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // page相关\n      count: 0,\n      page: 1,\n      pageSize: 10\n    };\n  },\n  created: function created() {\n    this.init();\n  },\n  computed: {\n    otcPersonHomePage: function otcPersonHomePage() {\n      return this.$store.state.fiatdeal.otcPersonHomePage;\n    },\n    otcPersonAds: function otcPersonAds() {\n      return this.$store.state.personal.otcPersonAds;\n    },\n    otcUserContacts: function otcUserContacts() {\n      return this.$store.state.fiatdeal.otcUserContacts;\n    },\n    otcUserContactsRemove: function otcUserContactsRemove() {\n      return this.$store.state.fiatdeal.otcUserContactsRemove;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    }\n  },\n  watch: {\n    otcPersonHomePage: function otcPersonHomePage(_otcPersonHomePage) {\n      if (_otcPersonHomePage !== null) {\n        this.name = _otcPersonHomePage.data.otcNickName.substring(0, 1);\n        this.otcNickName = _otcPersonHomePage.data.otcNickName;\n        this.loginStatus = _otcPersonHomePage.data.loginStatus;\n        this.imageUrl = _otcPersonHomePage.data.imageUrl;\n        this.completeOrders = _otcPersonHomePage.data.completeOrders;\n        this.complainNum = _otcPersonHomePage.data.complainNum;\n        this.sucComplainNum = _otcPersonHomePage.data.sucComplainNum;\n        this.authLevel = _otcPersonHomePage.data.authLevel;\n        this.mobileAuthStatus = _otcPersonHomePage.data.mobileAuthStatus;\n        this.blackList = _otcPersonHomePage.data.identity;\n      }\n    },\n    otcUserContactsRemove: function otcUserContactsRemove(_otcUserContactsRemove) {\n      if (_otcUserContactsRemove !== null) {\n        if (_otcUserContactsRemove.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcUserContactsRemove.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('otcPersonHomePage', {\n            uid: this.uid\n          });\n          this.dialogFlag = false;\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcUserContactsRemove.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    otcPersonAds: function otcPersonAds(_otcPersonAds) {\n      if (_otcPersonAds !== null) {\n        if (this.publicInfo) {\n          this.loading = false; // 数据处理\n\n          this.dataProcessin(_otcPersonAds.data, this.$store.state.baseData.market);\n        }\n      }\n    },\n    otcUserContacts: function otcUserContacts(_otcUserContacts) {\n      if (_otcUserContacts !== null) {\n        if (_otcUserContacts.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcUserContacts.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('otcPersonHomePage', {\n            uid: this.uid\n          });\n          this.dialogFlag = false;\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcUserContacts.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n          this.$bus.$emit('getCode-clear', 'phone');\n        }\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var uid = this.$route.query.uid;\n      this.uid = uid;\n      this.$store.dispatch('otcPersonHomePage', {\n        uid: uid\n      });\n      var info = {\n        uid: this.uid,\n        page: this.page,\n        pageSize: this.pageSize,\n        adType: 'BUY'\n      };\n      this.$store.dispatch('otcPersonAds', info);\n      this.loading = true;\n      var infoData = {\n        relationType: 'BLACKLIST',\n        pageSize: 10000,\n        page: 1\n      };\n      this.$store.dispatch('otcPersonRelationship', infoData);\n    },\n    dataProcessin: function dataProcessin(data, market) {\n      var _this = this;\n\n      this.count = data.count;\n      var list = [];\n      data.adList.forEach(function (obj) {\n        list.push({\n          id: [_this.uid, obj.advertId],\n          data: [getCoinShowName(obj.coin, market.coinList), fixD(obj.volume, market.coinList[obj.coin].showPrecision), \"\".concat(fixD(obj.minTrade, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision), \" -\\n              \").concat(fixD(obj.maxTrade, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision), \" \").concat(obj.payCoin), fixD(obj.price, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision) + obj.payCoin, [{\n            type: 'icon',\n            iconSvg: \"<ul>\\n                    \".concat(_this.paymentsList(obj.payments).join(''), \"\\n                </ul>\"),\n            classes: 'payments-ul'\n          }], [{\n            type: 'button',\n            // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n            text: _this.textShow(obj.side),\n            iconClass: [''],\n            eventType: 'close',\n            classes: ['']\n          }]]\n        });\n      });\n      this.dataList = list;\n    },\n    textShow: function textShow(side) {\n      var text = '';\n\n      if (this.blackList === 0) {\n        text = this.$t('stranger.view');\n      } else {\n        text = side === 'SELL' ? this.$t('stranger.buy') : this.$t('stranger.sell');\n      }\n\n      return text;\n    },\n    paymentsList: function paymentsList(data) {\n      var list = [];\n      data.forEach(function (obj) {\n        list.push(\"<li class='a-2-bg'><img src=\\\"\".concat(obj.icon, \"\\\"/></li>\"));\n      });\n      return list;\n    },\n    blackClick: function blackClick() {\n      this.dialogFlag = true;\n    },\n    dialogClose: function dialogClose() {\n      this.dialogFlag = false;\n    },\n    dialogConfirm: function dialogConfirm() {\n      if (this.blackList === 1) {\n        // 移除\n        var info = {\n          friendId: this.uid\n        };\n        this.$store.dispatch('otcUserContactsRemove', info);\n      } else {\n        // 加入黑名单\n        var _info = {\n          otherUid: this.uid,\n          relationType: 'BLACKLIST'\n        };\n        this.$store.dispatch('otcUserContacts', _info);\n      }\n    },\n    currentType: function currentType(data) {\n      this.loading = true;\n      this.currentTab = data.index;\n      this.page = 1;\n\n      if (this.currentTab === 1) {\n        this.side = 'BUY';\n        var info = {\n          uid: this.uid,\n          page: this.page,\n          pageSize: this.pageSize,\n          adType: 'BUY'\n        };\n        this.$store.dispatch('otcPersonAds', info);\n      } else {\n        this.side = 'SELL';\n        var _info2 = {\n          uid: this.uid,\n          page: this.page,\n          pageSize: this.pageSize,\n          adType: 'SELL'\n        };\n        this.$store.dispatch('otcPersonAds', _info2);\n      }\n    },\n    operation: function operation(type, id) {\n      if (type === 'close') {\n        this.$router.push({\n          path: '/otcTrade?',\n          query: {\n            orderId: id[1],\n            userId: id[0]\n          }\n        });\n      }\n    },\n    pagechange: function pagechange(page) {\n      this.page = page;\n      var info = {\n        uid: this.uid,\n        page: this.page,\n        pageSize: this.pageSize,\n        adType: this.side\n      };\n      this.$store.dispatch('otcPersonAds', info);\n    }\n  }\n};",null]}