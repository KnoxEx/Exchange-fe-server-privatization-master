{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/personal/brokerSystem/overviewChars/overviewChars.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/personal/brokerSystem/overviewChars/overviewChars.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport { colorMap, getHex, fixD } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      charsBar: null,\n      chartLine: null,\n      amountTotal: '--',\n      // 总数额\n      amountYesterday: '--',\n      // 昨天数额\n      amountYesterdayRate: '--',\n      // 昨天同比上日率\n      amountBYesterday: '--',\n      // 前天数额\n      amountBYesterdayRate: '--' // 前日同比上日率\n\n    };\n  },\n  props: {\n    reqReady: {\n      default: false,\n      type: Boolean\n    },\n    reqData: {\n      default: function _default() {},\n      type: Object\n    }\n  },\n  filters: {\n    rateFilter: function rateFilter(v) {\n      var num = parseFloat(v);\n      var str = '';\n\n      if (\"\".concat(num) === 'NaN') {\n        str = '--';\n      } else {\n        var vs = '';\n\n        if (num > 0) {\n          vs = '+';\n        }\n\n        str = \"\".concat(vs).concat(v, \"%\");\n      }\n\n      return str;\n    }\n  },\n  watch: {\n    reqReady: {\n      immediate: true,\n      handler: function handler(v) {\n        if (v) {\n          this.reqSet();\n        }\n      }\n    }\n  },\n  computed: {\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    usdtFix: function usdtFix() {\n      var fix = 0;\n\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\n        fix = this.market.coinList.USDT.showPrecision;\n      }\n\n      return fix;\n    }\n  },\n  methods: {\n    getRateClass: function getRateClass(v) {\n      var str = '';\n      var num = parseFloat(v);\n\n      if (num > 0) {\n        str = 'u-1-cl';\n      } else if (num < 0) {\n        str = 'u-4-cl';\n      } else {\n        str = '';\n      }\n\n      return str;\n    },\n    reqSet: function reqSet() {\n      this.setBonusData();\n      this.setBarData();\n      this.setLineData();\n    },\n    setBonusData: function setBonusData() {\n      var data = this.reqData.bonus_info;\n      this.amountTotal = fixD(data.amount_total, this.usdtFix); // 总数额\n\n      this.amountYesterday = fixD(data.amount_yesterday, this.usdtFix); // 昨天数额\n\n      this.amountBYesterday = fixD(data.amount_b_yesterday, this.usdtFix); // 前天数额\n\n      this.amountYesterdayRate = data.amount_yesterday_rate; // 昨天同比上日率\n\n      this.amountBYesterdayRate = data.amount_b_yesterday_rate; // 前日同比上日率\n    },\n    setLineData: function setLineData() {\n      var _this = this;\n\n      var data = this.reqData.bonus_week;\n      var timeArr = [];\n      var valueArr = [];\n      var tv = [this.$t('brokerSystem.weeks[0]'), this.$t('brokerSystem.weeks[1]'), this.$t('brokerSystem.weeks[2]'), this.$t('brokerSystem.weeks[3]'), this.$t('brokerSystem.weeks[4]'), this.$t('brokerSystem.weeks[5]'), this.$t('brokerSystem.weeks[6]')];\n      data.forEach(function (even) {\n        var newDate = new Date(even.time);\n        var m = newDate.getMonth() + 1;\n        var d = newDate.getDate();\n        var w = tv[newDate.getDay()];\n        timeArr.push({\n          value: \"\".concat(m, \"/\").concat(d, \" \").concat(w),\n          textStyle: {\n            align: 'center'\n          }\n        });\n        valueArr.push(fixD(even.amount, _this.usdtFix));\n      });\n\n      if (timeArr.length) {\n        timeArr[0].textStyle.align = 'left';\n        timeArr[timeArr.length - 1].textStyle.align = 'right';\n      }\n\n      this.chartLine.setOption({\n        xAxis: {\n          data: timeArr\n        },\n        series: [{\n          data: valueArr\n        }]\n      });\n    },\n    setBarData: function setBarData() {\n      var data = this.reqData.bonus_info;\n      this.charsBar.setOption({\n        legend: {\n          data: [this.$t('brokerSystem.charts[0]'), this.$t('brokerSystem.charts[1]')]\n        },\n        series: [{\n          data: [{\n            value: fixD(data.amount_return, this.usdtFix),\n            name: this.$t('brokerSystem.charts[0]'),\n            itemStyle: {\n              color: colorMap['u-8-bg']\n            }\n          }, {\n            value: fixD(data.amount_sub, this.usdtFix),\n            name: this.$t('brokerSystem.charts[1]'),\n            itemStyle: {\n              color: colorMap['a-13-bg']\n            }\n          }]\n        }]\n      });\n    },\n    init: function init() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.initChartsBar();\n\n        _this2.initChartsLine();\n      });\n    },\n    initChartsBar: function initChartsBar() {\n      this.charsBar = window.echarts.init(document.getElementById('overviewChars-bar'));\n      this.charsBar.setOption({\n        tooltip: {\n          trigger: 'item',\n          formatter: '{c} ({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 140,\n          top: 40,\n          selectedMode: false,\n          data: [this.$t('brokerSystem.charts[0]'), this.$t('brokerSystem.charts[1]')],\n          textStyle: {\n            color: colorMap['b-2-cl']\n          }\n        },\n        series: [{\n          // name: '访问来源',\n          type: 'pie',\n          radius: ['80%', '100%'],\n          avoidLabelOverlap: false,\n          hoverAnimation: false,\n          // 是否开启 hover 在扇区上的放大动画效果。\n          center: [70, 70],\n          width: 140,\n          height: 140,\n          label: {\n            normal: {\n              show: false,\n              position: 'center'\n            },\n            emphasis: {\n              show: true,\n              textStyle: {\n                fontSize: '14',\n                fontWeight: 'bold',\n                color: colorMap['b-2-cl']\n              }\n            }\n          },\n          labelLine: {\n            normal: {\n              show: false\n            }\n          }\n        }]\n      });\n    },\n    initChartsLine: function initChartsLine() {\n      var _this3 = this;\n\n      this.chartLine = window.echarts.init(document.getElementById('overviewChars-line'));\n      var bg = {\n        normal: {\n          color: new window.echarts.graphic.LinearGradient(0, 0, 0, 1, [// { offset: 0, color: getHex(colorMap['u-8-bg']) },\n          // { offset: 1, color: getHex(colorMap['a-5-bg']) },\n          {\n            offset: 0,\n            color: colorMap['a-13-bg']\n          }, {\n            offset: 1,\n            color: colorMap['a-17-bg']\n          }])\n        }\n      };\n      this.chartLine.setOption({\n        // trigger: 'axis', // 不限时弹层\n        tooltip: {\n          trigger: 'axis',\n          // 不限时弹层\n          axisPointer: {\n            // 显示随手指移动的刻度线\n            type: 'cross',\n            crossStyle: {\n              width: 2,\n              color: getHex(colorMap['b-2-cl']),\n              type: 'cross'\n            }\n          }\n        },\n        grid: {\n          show: true,\n          borderWidth: 0,\n          borderColor: getHex(colorMap['a-3-bd']),\n          containLabel: true,\n          left: 5,\n          top: 40,\n          right: 5,\n          bottom: 0\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          axisPointer: {\n            show: true,\n            type: 'line',\n            lineStyle: {\n              color: getHex(colorMap['b-2-cl']),\n              width: 2,\n              type: 'dotted'\n            }\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl'])\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          } // data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n\n        },\n        yAxis: [{\n          type: 'value',\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl']),\n            formatter: function formatter(value) {\n              return fixD(value, _this3.usdtFix);\n            }\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          }\n        }],\n        series: [{\n          // data: [0, 1, 0, 1, 0, 1, 0],\n          type: 'line',\n          areaStyle: bg,\n          lineStyle: {\n            color: getHex(colorMap['u-8-bd'])\n          },\n          itemStyle: {\n            color: getHex(colorMap['u-8-bd']),\n            borderWidth: 0,\n            opacity: 0\n          }\n        }]\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/personal/brokerSystem/overviewChars/overviewChars.js"],"names":["colorMap","getHex","fixD","data","charsBar","chartLine","amountTotal","amountYesterday","amountYesterdayRate","amountBYesterday","amountBYesterdayRate","props","reqReady","default","type","Boolean","reqData","Object","filters","rateFilter","v","num","parseFloat","str","vs","watch","immediate","handler","reqSet","computed","market","$store","state","baseData","usdtFix","fix","coinList","USDT","showPrecision","methods","getRateClass","setBonusData","setBarData","setLineData","bonus_info","amount_total","amount_yesterday","amount_b_yesterday","amount_yesterday_rate","amount_b_yesterday_rate","bonus_week","timeArr","valueArr","tv","$t","forEach","even","newDate","Date","time","m","getMonth","d","getDate","w","getDay","push","value","textStyle","align","amount","length","setOption","xAxis","series","legend","amount_return","name","itemStyle","color","amount_sub","init","$nextTick","initChartsBar","initChartsLine","window","echarts","document","getElementById","tooltip","trigger","formatter","orient","left","top","selectedMode","radius","avoidLabelOverlap","hoverAnimation","center","width","height","label","normal","show","position","emphasis","fontSize","fontWeight","labelLine","bg","graphic","LinearGradient","offset","axisPointer","crossStyle","grid","borderWidth","borderColor","containLabel","right","bottom","boundaryGap","lineStyle","axisLine","axisTick","axisLabel","splitLine","yAxis","areaStyle","opacity"],"mappings":"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","sourcesContent":["import { colorMap, getHex, fixD } from '@/utils';\n\nexport default {\n  data() {\n    return {\n      charsBar: null,\n      chartLine: null,\n      amountTotal: '--', // 总数额\n      amountYesterday: '--', // 昨天数额\n      amountYesterdayRate: '--', // 昨天同比上日率\n      amountBYesterday: '--', // 前天数额\n      amountBYesterdayRate: '--', // 前日同比上日率\n    };\n  },\n  props: {\n    reqReady: {\n      default: false,\n      type: Boolean,\n    },\n    reqData: {\n      default: () => { },\n      type: Object,\n    },\n  },\n  filters: {\n    rateFilter(v) {\n      const num = parseFloat(v);\n      let str = '';\n      if (`${num}` === 'NaN') {\n        str = '--';\n      } else {\n        let vs = '';\n        if (num > 0) { vs = '+'; }\n        str = `${vs}${v}%`;\n      }\n      return str;\n    },\n  },\n  watch: {\n    reqReady: {\n      immediate: true,\n      handler(v) {\n        if (v) {\n          this.reqSet();\n        }\n      },\n    },\n  },\n  computed: {\n    market() {\n      return this.$store.state.baseData.market;\n    },\n    usdtFix() {\n      let fix = 0;\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\n        fix = this.market.coinList.USDT.showPrecision;\n      }\n      return fix;\n    },\n  },\n  methods: {\n    getRateClass(v) {\n      let str = '';\n      const num = parseFloat(v);\n      if (num > 0) {\n        str = 'u-1-cl';\n      } else if (num < 0) {\n        str = 'u-4-cl';\n      } else {\n        str = '';\n      }\n      return str;\n    },\n    reqSet() {\n      this.setBonusData();\n      this.setBarData();\n      this.setLineData();\n    },\n    setBonusData() {\n      const data = this.reqData.bonus_info;\n      this.amountTotal = fixD(data.amount_total, this.usdtFix); // 总数额\n      this.amountYesterday = fixD(data.amount_yesterday, this.usdtFix); // 昨天数额\n      this.amountBYesterday = fixD(data.amount_b_yesterday, this.usdtFix); // 前天数额\n      this.amountYesterdayRate = data.amount_yesterday_rate; // 昨天同比上日率\n      this.amountBYesterdayRate = data.amount_b_yesterday_rate; // 前日同比上日率\n    },\n    setLineData() {\n      const data = this.reqData.bonus_week;\n      const timeArr = [];\n      const valueArr = [];\n      const tv = [\n        this.$t('brokerSystem.weeks[0]'),\n        this.$t('brokerSystem.weeks[1]'),\n        this.$t('brokerSystem.weeks[2]'),\n        this.$t('brokerSystem.weeks[3]'),\n        this.$t('brokerSystem.weeks[4]'),\n        this.$t('brokerSystem.weeks[5]'),\n        this.$t('brokerSystem.weeks[6]'),\n      ];\n      data.forEach((even) => {\n        const newDate = new Date(even.time);\n        const m = newDate.getMonth() + 1;\n        const d = newDate.getDate();\n        const w = tv[newDate.getDay()];\n        timeArr.push({\n          value: `${m}/${d} ${w}`,\n          textStyle: {\n            align: 'center',\n          },\n        });\n        valueArr.push(fixD(even.amount, this.usdtFix));\n      });\n      if (timeArr.length) {\n        timeArr[0].textStyle.align = 'left';\n        timeArr[timeArr.length - 1].textStyle.align = 'right';\n      }\n      this.chartLine.setOption({\n        xAxis: {\n          data: timeArr,\n        },\n        series: [\n          { data: valueArr },\n        ],\n      });\n    },\n    setBarData() {\n      const data = this.reqData.bonus_info;\n      this.charsBar.setOption({\n        legend: {\n          data: [this.$t('brokerSystem.charts[0]'), this.$t('brokerSystem.charts[1]')],\n        },\n        series: [\n          {\n            data: [\n              {\n                value: fixD(data.amount_return, this.usdtFix),\n                name: this.$t('brokerSystem.charts[0]'),\n                itemStyle: { color: colorMap['u-8-bg'] },\n              },\n              {\n                value: fixD(data.amount_sub, this.usdtFix),\n                name: this.$t('brokerSystem.charts[1]'),\n                itemStyle: { color: colorMap['a-13-bg'] },\n              },\n            ],\n          },\n        ],\n      });\n    },\n    init() {\n      this.$nextTick(() => {\n        this.initChartsBar();\n        this.initChartsLine();\n      });\n    },\n    initChartsBar() {\n      this.charsBar = window.echarts.init(document.getElementById('overviewChars-bar'));\n      this.charsBar.setOption({\n        tooltip: {\n          trigger: 'item',\n          formatter: '{c} ({d}%)',\n        },\n        legend: {\n          orient: 'vertical',\n          left: 140,\n          top: 40,\n          selectedMode: false,\n          data: [this.$t('brokerSystem.charts[0]'), this.$t('brokerSystem.charts[1]')],\n          textStyle: {\n            color: colorMap['b-2-cl'],\n          },\n        },\n        series: [\n          {\n            // name: '访问来源',\n            type: 'pie',\n            radius: ['80%', '100%'],\n            avoidLabelOverlap: false,\n            hoverAnimation: false, // 是否开启 hover 在扇区上的放大动画效果。\n            center: [70, 70],\n            width: 140,\n            height: 140,\n            label: {\n              normal: {\n                show: false,\n                position: 'center',\n              },\n              emphasis: {\n                show: true,\n                textStyle: {\n                  fontSize: '14',\n                  fontWeight: 'bold',\n                  color: colorMap['b-2-cl'],\n                },\n              },\n            },\n            labelLine: {\n              normal: {\n                show: false,\n              },\n            },\n          },\n        ],\n      });\n    },\n    initChartsLine() {\n      this.chartLine = window.echarts.init(document.getElementById('overviewChars-line'));\n      const bg = {\n        normal: {\n          color: new window.echarts.graphic.LinearGradient(\n            0, 0, 0, 1,\n            [\n              // { offset: 0, color: getHex(colorMap['u-8-bg']) },\n              // { offset: 1, color: getHex(colorMap['a-5-bg']) },\n              { offset: 0, color: colorMap['a-13-bg'] },\n              { offset: 1, color: colorMap['a-17-bg'] },\n            ],\n          ),\n        },\n      };\n      this.chartLine.setOption({\n        // trigger: 'axis', // 不限时弹层\n        tooltip: {\n          trigger: 'axis', // 不限时弹层\n          axisPointer: { // 显示随手指移动的刻度线\n            type: 'cross',\n            crossStyle: {\n              width: 2,\n              color: getHex(colorMap['b-2-cl']),\n              type: 'cross',\n            },\n          },\n        },\n        grid: {\n          show: true,\n          borderWidth: 0,\n          borderColor: getHex(colorMap['a-3-bd']),\n          containLabel: true,\n          left: 5,\n          top: 40,\n          right: 5,\n          bottom: 0,\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          axisPointer: {\n            show: true,\n            type: 'line',\n            lineStyle: {\n              color: getHex(colorMap['b-2-cl']),\n              width: 2,\n              type: 'dotted',\n            },\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd']),\n            },\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd']),\n            },\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl']),\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd']),\n            },\n          },\n          // data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        },\n        yAxis: [\n          {\n            type: 'value',\n            axisLine: {\n              show: true,\n              lineStyle: {\n                width: 1,\n                color: getHex(colorMap['a-3-bd']),\n              },\n            },\n            axisTick: {\n              lineStyle: {\n                color: getHex(colorMap['a-3-bd']),\n              },\n            },\n            axisLabel: {\n              color: getHex(colorMap['b-2-cl']),\n              formatter: (value) => fixD(value, this.usdtFix),\n            },\n            splitLine: {\n              lineStyle: {\n                width: 1,\n                color: getHex(colorMap['a-3-bd']),\n              },\n            },\n          },\n        ],\n        series: [{\n          // data: [0, 1, 0, 1, 0, 1, 0],\n          type: 'line',\n          areaStyle: bg,\n          lineStyle: {\n            color: getHex(colorMap['u-8-bd']),\n          },\n          itemStyle: {\n            color: getHex(colorMap['u-8-bd']),\n            borderWidth: 0,\n            opacity: 0,\n          },\n        }],\n      });\n    },\n  },\n};\n"]}]}