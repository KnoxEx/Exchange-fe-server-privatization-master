{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/views/assets/withdraw.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/views/assets/withdraw.vue","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport mixin from 'blockchain-ui-privatization/PC/common-mixin/assets/withdraw/withdraw';\nimport 'blockchain-ui-privatization/PC/common-mixin/assets/withdraw/withdraw.styl';\nimport mainChainMixins from 'blockchain-ui-privatization/PC/common-mixin/assets/mainChainMixins';\nimport {\n  fixD,\n} from 'blockchain-ui-privatization/utils';\nimport mainChain from './mainChain.vue';\nimport innerTransfer from './innerTransfer.vue';\n\nexport default {\n  mixins: [mixin, mainChainMixins],\n  components: { mainChain, innerTransfer },\n  mounted() {\n    this.init();\n    // if (this.market) { this.addressInit(); }\n  },\n  methods: {\n    // 上半部分 左侧数据\n    initDetails() {\n      const obj = this.exchangeData.allCoinMap[this.symbol];\n      const normalBalance = Number(obj.normal_balance) || Number(obj.overcharge_balance);\n      this.detailsList = [\n        { key: 'sum', value: fixD(obj.total_balance, this.showPrecision) }, // 总额\n        { key: 'normal', value: fixD(normalBalance, this.showPrecision) }, // 可用\n        { key: 'lock', value: fixD(obj.lock_balance, this.showPrecision) }, // 冻结\n      ];\n      this.symbol_withdraw_msg = obj.symbol_withdraw_msg || null; // 注意事项\n      this.withdrawMin = fixD(obj.withdraw_min, this.showPrecision); // 最小提币额\n      this.withdrawMax = fixD(obj.withdraw_max, this.showPrecision);// 最大提币额\n      this.daywithdrawMax = fixD(obj.withdraw_max_day, this.showPrecision);// 单日最大提币额\n      if (!this.haveBranch) {\n        this.feeMin = fixD(obj.feeMin, this.showPrecision);// 最大手续费\n        this.feeMax = fixD(obj.feeMax, this.showPrecision);// 最大手续费\n        if (this.defaultFeeFlag) {\n          this.defaultFeeFlag = false;\n          this.defaultFee = `${obj.defaultFee}`;\n          this.proceduresValue = `${obj.defaultFee}`; // 默认手续费\n        }\n      }\n    },\n    getBranchAddress() {\n      this.axios({\n        url: 'cost/Getcost',\n        params: {\n          symbol: this.activeBranch,\n        },\n      }).then((data) => {\n        if (data.code.toString() === '0') {\n          const list = [];\n          const detailsList = {};\n          const { userWithdrawAddrList } = data.data;\n          userWithdrawAddrList.forEach((item) => {\n            let value = item.address;\n            if (this.isHavePage) {\n              [value] = item.address.split('_');\n            }\n            list.push({ code: `${item.id}`, value, label: item.label });\n            detailsList[item.id] = item;\n          });\n          this.feeMin = fixD(data.data.feeMin, this.branchShowPrecision);// 最大手续费\n          this.feeMax = fixD(data.data.feeMax, this.branchShowPrecision);// 最大手续费\n          if (this.defaultFeeFlag) {\n            this.defaultFeeFlag = false;\n            this.defaultFee = `${data.data.defaultFee}`;\n            this.proceduresValue = `${data.data.defaultFee}`; // 默认手续费\n          }\n          this.branchTip = data.data.mainChainNameTip;\n          this.tabelLoading = false;\n          this.addressList = list;\n          this.detailsAddressList = detailsList;\n        }\n      });\n    },\n    // 获取提现地址\n    getAddress() {\n      if (this.haveBranch) {\n        this.getBranchAddress();\n        return;\n      }\n      this.axios({\n        url: 'addr/address_list',\n        params: {\n          coinSymbol: this.haveBranch ? this.activeBranch : this.symbol,\n        },\n      }).then((data) => {\n        if (data.code.toString() === '0') {\n          const list = [];\n          const detailsList = {};\n          const { addressList } = data.data;\n          addressList.forEach((item) => {\n            let value = item.address;\n            if (this.isHavePage) {\n              [value] = item.address.split('_');\n            }\n            list.push({ code: `${item.id}`, value, label: item.label });\n            detailsList[item.id] = item;\n          });\n          this.tabelLoading = false;\n          this.addressList = list;\n          this.detailsAddressList = detailsList;\n        }\n      });\n    },\n  },\n};\n\n",{"version":3,"sources":["withdraw.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"withdraw.vue","sourceRoot":"app/view/src/views/assets","sourcesContent":["<template>\n  <section class=\"page-withdraw\">\n    <!-- 提现 -->\n    <header class=\"withdraw-header b-1-cl a-3-bd\">\n      <div class=\"flowingWater-nav a-3-bd\">\n        <c-navTab\n          activeClassName=\"b-1-cl\"\n          activeColor=\"a-12-bg\"\n          className=\"b-2-cl\"\n          :currentTab=\"nowType\"\n          :navTab=\"navTab\"\n          lineHeight=\"55\"\n          @currentType=\"currentType\"\n        />\n      </div>\n    </header>\n    <template v-if=\"nowType === 2\">\n      <innerTransfer />\n    </template>\n    <template v-else>\n    <div class=\"withdraw-details clearfix a-7-bd\">\n      <div class=\"clearfix\">\n      <div class=\"details-left\">\n        <div class=\"symbol b-1-cl\">{{showSymbol}}</div>\n        <div class=\"numberList clearfix\">\n          <ul class=\"numberList-key\">\n            <!-- 总额 -->\n            <li>{{ $t('assets.withdraw.lumpSum') }}</li>\n            <!-- 可用 -->\n            <li>{{ $t('assets.withdraw.Available') }}</li>\n            <!-- 冻结 -->\n            <li>{{ $t('assets.withdraw.freeze') }}</li>\n          </ul>\n          <ul class=\"numberList-value b-1-cl\">\n            <li v-for=\"(item, index) in detailsList\" :key=\"index\">\n              {{ item.value }}\n            </li>\n          </ul>\n        </div>\n        <div class=\"details-warking b-7-cl\">\n          <svg class=\"icon icon-16\" aria-hidden=\"true\" style=\"marginRight: 10px\">\n            <use xlink:href=\"#icon-c_2\"></use>\n          </svg>\n          <!-- 最小提币限额 -->\n          <template v-if=\"idAuth === 1\">\n          {{ $t('assets.withdraw.MinimumCoinLimit') }} {{withdrawMin}}，\n          </template>\n          <!-- 最大提币限额 -->\n          {{ $t('assets.withdraw.MaximumCoinLimit') }} {{withdrawMax}}\n          <br/>\n          <div class=\"dayMax\" v-if=\"switchadd === 1\">\n            <!-- 今日提现剩余 -->\n             {{ $t('assets.withdraw.dayMaximumCoinLimit') }} {{daywithdrawMax}}\n          </div>\n          <!-- <span></span>小时限额 0.0000 BTC -->\n        </div>\n      </div>\n      <div class=\"details-right\">\n        <div class=\"details-branch\" v-if=\"haveBranch\">\n          <mainChain\n            :branchTip=\"branchTip\"\n            :branchArr=\"branchArr\"\n            :activeBranch=\"activeBranch\"\n            @setActiveBranch=\"setActiveBranch\"/>\n        </div>\n        <!-- 提币地址 -->\n        <c-select :promptText=\"$t('assets.withdraw.CoinAddress')\"\n          :value=\"addressValue\"\n          :options=\"addressList\"\n          :errorHave=\"true\"\n          type=\"double\"\n          @onChanges=\"addressChange\"/>\n        <!-- 标签 -->\n        <c-inputLine v-if=\"isHavePage\"\n          :errorHave=\"true\"\n          :promptText=\"$t('assets.withdraw.label')\"\n          :disabled=\"true\"\n          :value=\"pagesValue\">\n          <div class=\"addressBox-page-icon\">\n            <svg class=\"icon icon-14\" aria-hidden=\"true\">\n              <use xlink:href=\"#icon-a_15\"></use>\n            </svg>\n            <div class=\"addressBox-page-market a-4-bg\">\n              {{ $t('assets.withdraw.pageText') }}\n            </div>\n          </div>\n        </c-inputLine>\n        <!-- 提币数量 -->\n        <c-inputLine name=\"numberValue\"\n          :errorHave=\"true\"\n          :promptText=\"$t('assets.withdraw.NumberOfCoins')\"\n          @onchanges=\"inputChange\"\n          :value=\"numberValue\"\n          :errorFlag=\"numberOptions.error\"\n          :errorText=\"numberOptions.text\">\n          <!-- 全部提现 -->\n          <c-button type=\"text\" height=\"30px\" @click=\"allWithDraw\">\n            {{ $t('assets.withdraw.allWithdraw') }}\n          </c-button>\n        </c-inputLine>\n        <!-- 矿工手续费 -->\n        <c-inputLine name=\"proceduresValue\"\n          :errorHave=\"true\"\n          :promptText=\"$t('assets.withdraw.fee')\"\n          @onchanges=\"inputChange\"\n          :value=\"proceduresValue\"\n          :errorFlag=\"proceduresError\"\n          :errorText=\"$t('assets.withdraw.feeError')\">\n          <!-- 范围 -->\n          <div class=\"ServiceSpk\">\n            ({{ $t('assets.withdraw.range') }}{{feeMin}}-{{feeMax}})\n          </div>\n        </c-inputLine>\n        <!-- 提现按钮 -->\n        <c-button width=\"120px\"\n          marginTop=\"32px\"\n          height=\"40px\"\n          @click=\"withdrawClick\"\n          :disabled=\"btnDisabled\">{{ $t('assets.withdraw.buttonWithdraw') }}</c-button>\n        <!-- 添加提币地址 -->\n        <span class=\"goAddress b-4-cl\" @click=\"goAddress\">\n          {{ $t('assets.withdraw.addAddrss') }}\n        </span>\n      </div>\n      </div>\n      <div v-if=\"symbol_withdraw_msg\" class=\"withdrawMsg b-2-cl\">\n        <p>{{$t('application.applyRegion.focus')}}</p>\n        <p>{{symbol_withdraw_msg}}</p>\n      </div>\n    </div>\n    </template>\n    <!-- 最近提现记录 -->\n    <header class=\"withdraw-header b-1-cl a-3-bd\">\n      <!-- {{ $t('assets.withdraw.RecentWithdrawalRecords') }} -->\n      <c-navTab\n          activeClassName=\"b-1-cl\"\n          activeColor=\"a-12-bg\"\n          className=\"b-2-cl\"\n          :currentTab=\"nowTypeTable\"\n          :navTab=\"navTabTable\"\n          lineHeight=\"55\"\n          @currentType=\"currentTypeTable\"\n        />\n    </header>\n    <div class=\"withdraw-table\">\n        <c-table\n          :imgMap=\"imgMap\"\n          :colorMap=\"colorMap\"\n          :loading=\"tabelLoading\"\n          :columns=\"columns\"\n          :subContent = 'subTableData'\n          :subContentId = 'subTableDataId'\n          :subColumns = 'subColumns'\n          :dataList=\"tabelList\"\n          @elementClick=\"tableClick\"\n        />\n        <c-pagination v-if=\"paginationObj.total > paginationObj.display\"\n          :total='paginationObj.total'\n          :display='paginationObj.display'\n          :currentPage='paginationObj.currentPage'\n          @pagechange=\"pagechange\"/>\n    </div>\n    <!-- 提示框 -->\n    <c-verifyCationc-alert\n      :showFlag=\"alertFlag\"\n      :imgMap=\"imgMap\"\n      :titleText=\"$t('assets.withdraw.safetyWarning')\"\n      :detaText=\"authTitleText\"\n      :dataList=\"alertData\"\n      :buttonText=\"$t('assets.withdraw.GotoOpen')\"\n      @close=\"alertClone\"\n      @confirm=\"alertGo\"/>\n    <!-- 对话框  38-24=14 -->\n    <c-dialog :showFlag=\"dialogFlag\"\n      paddingBottom=\"14px\"\n      :confirmLoading=\"dialogConfirmLoading\"\n      :confirmDisabled=\"dialogConfirmDisabled\"\n      @close=\"dialogClose\"\n      @confirm=\"dialogConfirm\"\n      :titleText=\"$t('assets.withdraw.safetyVerification')\">\n      <!-- 手机号验证框 -->\n      <c-inputLine\n        v-if=\"OpenMobile\"\n        maxLength=\"6\"\n        name=\"phoneValue\"\n        :value=\"phoneValue\"\n        :promptText=\"$t('assets.withdraw.phoneCode')\"\n        :errorHave=\"true\"\n        :errorFlag=\"phoneError\"\n        :errorText=\"$t('assets.withdraw.phoneCodeError')\"\n        @onchanges=\"inputChange\"\n      >\n        <!-- 获取验证码 -->\n        <c-getCode\n          name=\"withdrawGetcode\"\n          @click=\"getCodeClick\"/>\n      </c-inputLine>\n      <!-- 谷歌验证码 -->\n      <c-inputLine\n        v-if=\"OpenGoogle\"\n        maxLength=\"6\"\n        name=\"googleValue\"\n        :value=\"googleValue\"\n        :promptText=\"$t('assets.withdraw.googleCode')\"\n        :errorHave=\"true\"\n        :errorFlag=\"googleError\"\n        :errorText=\"$t('assets.withdraw.googleCodeError')\"\n        @onchanges=\"inputChange\"\n      />\n    </c-dialog>\n    <!-- 提示框 -->\n    <c-alert :showFlag=\"notIdShowDialog\"\n        :buttonText=\"$t('otcRelease.DeCertification')\"\n        :imgMap=\"imgMap\"\n        @close=\"alertClone\"\n        @confirm=\"gotoAuth\">\n      <div class=\"ts-content-text\">\n        {{$t('personal.exccAuthForm.text19')}}\n      </div>\n    </c-alert>\n  </section>\n</template>\n<script>\nimport mixin from 'blockchain-ui-privatization/PC/common-mixin/assets/withdraw/withdraw';\nimport 'blockchain-ui-privatization/PC/common-mixin/assets/withdraw/withdraw.styl';\nimport mainChainMixins from 'blockchain-ui-privatization/PC/common-mixin/assets/mainChainMixins';\nimport {\n  fixD,\n} from 'blockchain-ui-privatization/utils';\nimport mainChain from './mainChain.vue';\nimport innerTransfer from './innerTransfer.vue';\n\nexport default {\n  mixins: [mixin, mainChainMixins],\n  components: { mainChain, innerTransfer },\n  mounted() {\n    this.init();\n    // if (this.market) { this.addressInit(); }\n  },\n  methods: {\n    // 上半部分 左侧数据\n    initDetails() {\n      const obj = this.exchangeData.allCoinMap[this.symbol];\n      const normalBalance = Number(obj.normal_balance) || Number(obj.overcharge_balance);\n      this.detailsList = [\n        { key: 'sum', value: fixD(obj.total_balance, this.showPrecision) }, // 总额\n        { key: 'normal', value: fixD(normalBalance, this.showPrecision) }, // 可用\n        { key: 'lock', value: fixD(obj.lock_balance, this.showPrecision) }, // 冻结\n      ];\n      this.symbol_withdraw_msg = obj.symbol_withdraw_msg || null; // 注意事项\n      this.withdrawMin = fixD(obj.withdraw_min, this.showPrecision); // 最小提币额\n      this.withdrawMax = fixD(obj.withdraw_max, this.showPrecision);// 最大提币额\n      this.daywithdrawMax = fixD(obj.withdraw_max_day, this.showPrecision);// 单日最大提币额\n      if (!this.haveBranch) {\n        this.feeMin = fixD(obj.feeMin, this.showPrecision);// 最大手续费\n        this.feeMax = fixD(obj.feeMax, this.showPrecision);// 最大手续费\n        if (this.defaultFeeFlag) {\n          this.defaultFeeFlag = false;\n          this.defaultFee = `${obj.defaultFee}`;\n          this.proceduresValue = `${obj.defaultFee}`; // 默认手续费\n        }\n      }\n    },\n    getBranchAddress() {\n      this.axios({\n        url: 'cost/Getcost',\n        params: {\n          symbol: this.activeBranch,\n        },\n      }).then((data) => {\n        if (data.code.toString() === '0') {\n          const list = [];\n          const detailsList = {};\n          const { userWithdrawAddrList } = data.data;\n          userWithdrawAddrList.forEach((item) => {\n            let value = item.address;\n            if (this.isHavePage) {\n              [value] = item.address.split('_');\n            }\n            list.push({ code: `${item.id}`, value, label: item.label });\n            detailsList[item.id] = item;\n          });\n          this.feeMin = fixD(data.data.feeMin, this.branchShowPrecision);// 最大手续费\n          this.feeMax = fixD(data.data.feeMax, this.branchShowPrecision);// 最大手续费\n          if (this.defaultFeeFlag) {\n            this.defaultFeeFlag = false;\n            this.defaultFee = `${data.data.defaultFee}`;\n            this.proceduresValue = `${data.data.defaultFee}`; // 默认手续费\n          }\n          this.branchTip = data.data.mainChainNameTip;\n          this.tabelLoading = false;\n          this.addressList = list;\n          this.detailsAddressList = detailsList;\n        }\n      });\n    },\n    // 获取提现地址\n    getAddress() {\n      if (this.haveBranch) {\n        this.getBranchAddress();\n        return;\n      }\n      this.axios({\n        url: 'addr/address_list',\n        params: {\n          coinSymbol: this.haveBranch ? this.activeBranch : this.symbol,\n        },\n      }).then((data) => {\n        if (data.code.toString() === '0') {\n          const list = [];\n          const detailsList = {};\n          const { addressList } = data.data;\n          addressList.forEach((item) => {\n            let value = item.address;\n            if (this.isHavePage) {\n              [value] = item.address.split('_');\n            }\n            list.push({ code: `${item.id}`, value, label: item.label });\n            detailsList[item.id] = item;\n          });\n          this.tabelLoading = false;\n          this.addressList = list;\n          this.detailsAddressList = detailsList;\n        }\n      });\n    },\n  },\n};\n\n</script>\n"]}]}