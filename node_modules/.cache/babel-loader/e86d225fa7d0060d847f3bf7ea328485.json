{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/assets/bibaoDetail/bibaoDetail.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/assets/bibaoDetail/bibaoDetail.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { fixD, formatTime, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'page-flowingWater',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      tabelLoading: true,\n      symbol: '',\n      // 当前币种\n      tabelList: [],\n      // table数据列表\n      symbolList: [],\n      // 币种选择列表\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      }\n    };\n  },\n  computed: {\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    // 表格title\n    columns: function columns() {\n      var list = [{\n        title: this.$t('assets.bibaoAccount.coin'),\n        width: '20%'\n      }, // 币种\n      {\n        title: this.$t('assets.bibaoAccount.transferNum'),\n        width: '10'\n      }, // 转入数量\n      {\n        title: this.$t('assets.bibaoAccount.freed'),\n        width: '20%'\n      }, // 释放\n      {\n        title: this.$t('assets.bibaoAccount.startTime'),\n        width: '12%'\n      }, // 开始时间\n      {\n        title: this.$t('assets.bibaoAccount.endTime'),\n        width: '12%'\n      }, // 到期时间\n      {\n        title: this.$t('assets.bibaoAccount.status'),\n        width: '30%'\n      } // 状态\n      ];\n      return list;\n    },\n    // 用于axios的symbol\n    axiosSymbol: function axiosSymbol() {\n      if (this.symbol === 'all') {\n        return null;\n      }\n\n      return this.symbol;\n    }\n  },\n  watch: {\n    market: function market(v) {\n      if (v) {\n        this.setData();\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.market) {\n        this.setData();\n      }\n    },\n    symbolChange: function symbolChange(item) {\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    setData: function setData() {\n      var list = [{\n        code: 'all',\n        value: this.$t('assets.otcFlowingWater.allCoin')\n      }];\n      Object.keys(this.market.coinList).forEach(function (item) {\n        list.push({\n          code: item,\n          value: item\n        });\n      });\n      this.symbolList = list;\n      this.symbol = 'all';\n\n      if (this.$route.query.symbol) {\n        this.symbol = this.$route.query.symbol.toUpperCase();\n      }\n\n      this.getData();\n    },\n    getData: function getData() {\n      var _this = this;\n\n      this.axios({\n        url: '/record/deposit_detail',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          coinSymbol: this.axiosSymbol\n        }\n      }).then(function (data) {\n        _this.tabelLoading = false;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.depositList.forEach(function (item, index) {\n            var coinList = _this.market.coinList;\n            var fix = coinList[item.symbol] && coinList[item.symbol].showPrecision || 0;\n            list.push({\n              id: index,\n              data: [item.symbol, // 币种\n              fixD(item.amount, fix), fixD(item.unlocked_amount, fix), formatTime(item.startDate), formatTime(item.expireDate), item.statusText // 类型\n              ]\n            });\n          });\n          _this.tabelList = list;\n          _this.paginationObj.total = data.data.count;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/assets/bibaoDetail/bibaoDetail.js"],"names":["fixD","formatTime","colorMap","imgMap","name","data","tabelLoading","symbol","tabelList","symbolList","paginationObj","total","display","currentPage","computed","market","$store","state","baseData","columns","list","title","$t","width","axiosSymbol","watch","v","setData","methods","init","symbolChange","item","code","getData","value","Object","keys","coinList","forEach","push","$route","query","toUpperCase","axios","url","params","pageSize","page","coinSymbol","then","toString","depositList","index","fix","showPrecision","id","amount","unlocked_amount","startDate","expireDate","statusText","count","$bus","$emit","text","msg","type","pagechange"],"mappings":"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","sourcesContent":["import {\n  fixD, formatTime, colorMap, imgMap,\n} from '@/utils';\n\nexport default {\n  name: 'page-flowingWater',\n  data() {\n    return {\n      imgMap,\n      colorMap,\n      tabelLoading: true,\n      symbol: '', // 当前币种\n      tabelList: [], // table数据列表\n      symbolList: [], // 币种选择列表\n      paginationObj: {\n        total: 0, // 数据总条数\n        display: 10, // 每页显示条数\n        currentPage: 1, // 当前页码\n      },\n    };\n  },\n  computed: {\n    // market 接口\n    market() { return this.$store.state.baseData.market; },\n    // 表格title\n    columns() {\n      const list = [\n        { title: this.$t('assets.bibaoAccount.coin'), width: '20%' }, // 币种\n        { title: this.$t('assets.bibaoAccount.transferNum'), width: '10' }, // 转入数量\n        { title: this.$t('assets.bibaoAccount.freed'), width: '20%' }, // 释放\n        { title: this.$t('assets.bibaoAccount.startTime'), width: '12%' }, // 开始时间\n        { title: this.$t('assets.bibaoAccount.endTime'), width: '12%' }, // 到期时间\n        { title: this.$t('assets.bibaoAccount.status'), width: '30%' }, // 状态\n      ];\n      return list;\n    },\n    // 用于axios的symbol\n    axiosSymbol() {\n      if (this.symbol === 'all') {\n        return null;\n      }\n      return this.symbol;\n    },\n  },\n  watch: {\n    market(v) { if (v) { this.setData(); } },\n  },\n  methods: {\n    init() {\n      if (this.market) { this.setData(); }\n    },\n    symbolChange(item) {\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n      this.paginationObj.total = 0; // 总条数\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    setData() {\n      const list = [{ code: 'all', value: this.$t('assets.otcFlowingWater.allCoin') }];\n      Object.keys(this.market.coinList).forEach((item) => {\n        list.push({ code: item, value: item });\n      });\n      this.symbolList = list;\n      this.symbol = 'all';\n      if (this.$route.query.symbol) {\n        this.symbol = this.$route.query.symbol.toUpperCase();\n      }\n      this.getData();\n    },\n    getData() {\n      this.axios({\n        url: '/record/deposit_detail',\n        params: {\n          pageSize: this.paginationObj.display, // 每页条数\n          page: this.paginationObj.currentPage, // 页码\n          coinSymbol: this.axiosSymbol,\n        },\n      }).then((data) => {\n        this.tabelLoading = false;\n        if (data.code.toString() === '0') {\n          const list = [];\n          data.data.depositList.forEach((item, index) => {\n            const { coinList } = this.market;\n            const fix = (coinList[item.symbol] && coinList[item.symbol].showPrecision) || 0;\n            list.push({\n              id: index,\n              data: [\n                item.symbol, // 币种\n                fixD(item.amount, fix),\n                fixD(item.unlocked_amount, fix),\n                formatTime(item.startDate),\n                formatTime(item.expireDate),\n                item.statusText, // 类型\n              ],\n            });\n          });\n          this.tabelList = list;\n          this.paginationObj.total = data.data.count;\n        } else {\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\n        }\n      });\n    },\n    pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    },\n  },\n};\n"]}]}