{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/problemCenter/questionsList/questionsList.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/problemCenter/questionsList/questionsList.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { formatTime, imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'questionsList',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      tabelLoading: false,\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      },\n      tabelList: [],\n      revokeList: [] // 撤销队列\n\n    };\n  },\n  computed: {\n    columns: function columns() {\n      return [// 提交时间\n      {\n        title: this.$t('questions.list1'),\n        width: '100px'\n      }, // 编号\n      {\n        title: this.$t('questions.list2')\n      }, // 类型\n      {\n        title: this.$t('questions.list3')\n      }, // 描述\n      {\n        title: this.$t('questions.list4'),\n        width: '20%'\n      }, // 状态\n      {\n        title: this.$t('questions.list5')\n      }, // 操作\n      {\n        title: this.$t('questions.list6')\n      }];\n    }\n  },\n  methods: {\n    init: function init() {\n      this.getData();\n    },\n    getData: function getData() {\n      var _this = this;\n\n      this.tabelLoading = true;\n      this.axios({\n        url: 'question/list_problem',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage // 页码\n\n        }\n      }).then(function (data) {\n        _this.tabelLoading = false;\n\n        if (data.code.toString() === '0') {\n          var arr = [];\n          data.data.rqInfoList.forEach(function (item) {\n            arr.push({\n              id: item.id,\n              data: [formatTime(item.ctime), [{\n                type: 'button',\n                text: item.id,\n                eventType: 'details'\n              }], item.rqTypeText, item.rqDescribe, item.rqStatusText, [{\n                type: 'button',\n                text: _this.$t('questions.delete'),\n                eventType: 'delete'\n              }]]\n            });\n          });\n          _this.tabelList = arr;\n          _this.paginationObj.total = data.data.count;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    tableClick: function tableClick(type, id) {\n      var _this2 = this;\n\n      if (type === 'details') {\n        this.$router.push(\"/questions/questionsDetails?id=\".concat(id));\n      } else if (type === 'delete') {\n        if (this.revokeList.indexOf(id) === -1) {\n          this.revokeList.push(id);\n          this.axios({\n            url: '/question/delete_problem',\n            params: {\n              id: id\n            }\n          }).then(function (data) {\n            var ind = _this2.revokeList.indexOf(id);\n\n            _this2.revokeList.splice(ind, 1);\n\n            if (data.code.toString() === '0') {\n              _this2.$bus.$emit('tip', {\n                text: data.msg,\n                type: 'success'\n              });\n\n              _this2.getData();\n            } else {\n              _this2.$bus.$emit('tip', {\n                text: data.msg,\n                type: 'error'\n              });\n            }\n          });\n        }\n      }\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    }\n  }\n};",null]}