{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/components/modules/spotTrade/trade/depth.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/components/modules/spotTrade/trade/depth.vue","mtime":1642318596391},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport mixin from 'BlockChain-ui-privatization/PC/common-mixin/modules/trade/depath/index';\nimport 'BlockChain-ui-privatization/PC/common-mixin/modules/trade/depath/index/tradeIndex.styl';\nimport { myStorage } from 'BlockChain-ui-privatization/utils';\nimport tableList from '@/components/modules/trade/tableList/index.vue';\n// 实时成交\nimport newTrade from '@/components/modules/trade/newTrade/index.vue';\n\nexport default {\n  mixins: [mixin],\n  components: {\n    tableList,\n    newTrade,\n  },\n  mounted() {\n    this.init();\n  },\n  props: {\n    showGridFlag: {\n      default: false,\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      minHeight: 352,\n      // 卖盘 高度\n      sellHeight: 224,\n      // 买盘 高度\n      buyHeight: 224,\n      maxHeeight: 600,\n    };\n  },\n  watch: {\n    showGridFlag(v) {\n      if (v) {\n        this.buyHeight = 231;\n        this.sellHeight = 231;\n        this.sellLineNumber = 22;\n        this.buyLineNumber = 22;\n      } else {\n        this.buyHeight = 224;\n        this.sellHeight = 224;\n        this.sellLineNumber = 22;\n        this.buyLineNumber = 22;\n      }\n    },\n  },\n  methods: {\n    init() {\n      if (this.moduleType === 'lever') {\n        // 卖盘 高度\n        this.sellHeight = 416;\n        // 买盘 高度\n        this.buyHeight = 416;\n        // 显示条数\n        this.sellLineNumber = 26;\n        this.buyLineNumber = 26;\n        this.maxHeeight = 840;\n        // 当前选中的货币对\n        this.symbolCurrent = myStorage.get('leverSymbolName');\n      }\n\n      this.setBoxHeight();\n      // 监听 深度数据\n      this.$bus.$on('DEPTH_DATA', (data) => {\n        if (data && this.symbolCurrent === data.symbol) {\n          this.dataList = JSON.parse(JSON.stringify(data));\n        } else {\n          this.dataList = {\n            asksData: [],\n            buyData: [],\n            depthMaxNumber: null,\n          };\n        }\n      });\n      // 监听 市场（最新价格） 数据\n      this.$bus.$on('MARKET_DATA', (data) => {\n        this.marketData = JSON.parse(JSON.stringify(data));\n      });\n      // 获取 当前选中的货币对\n      this.$bus.$on('SYMBOL_CURRENT', (val) => {\n        this.dataList = {\n          asksData: [],\n          buyData: [],\n          depthMaxNumber: null,\n        };\n        this.symbolCurrent = val;\n        this.currentdepthClass = 0;\n      });\n      // 监听 浏览器窗口大小改变\n      this.$bus.$on('WINFOW_ON_RESIIZE', () => {\n        // 设置国际版TV的高度\n        if (document.body.clientWidth < 961) {\n          this.sellHeight = 100;\n          this.buyHeight = 100;\n          this.sellLineNumber = 5;\n          this.buyLineNumber = 5;\n        } else if (this.moduleType === 'lever') {\n          this.sellHeight = 416;\n          this.buyHeight = 416;\n          this.sellLineNumber = 26;\n          this.buyLineNumber = 26;\n        } else {\n          this.buyHeight = 224;\n          if (this.showGridFlag) {\n            this.buyHeight = 418;\n          }\n          this.sellHeight = 224;\n          this.sellLineNumber = 24;\n          this.buyLineNumber = 24;\n        }\n        this.setBoxHeight(false);\n      });\n    },\n  },\n};\n",{"version":3,"sources":["depth.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"depth.vue","sourceRoot":"app/view/src/components/modules/spotTrade/trade","sourcesContent":["<!-- 币币交易 盘口 -->\n<template>\n  <div class=\"trade-depth-block depath-index-container trade-depth-box\" :class=\"depthClass\">\n    <div class=\"depth\" ref=\"depthBox\" :style=\"showGridFlag ? 'height: 830px;' : 'height: 611px;'\">\n      <div class=\"block-header\">\n        <span class=\"h4\">\n          <!-- 盘口 -->\n          {{ $t(\"trade.handicap\") }}\n        </span>\n        <span\n          class=\"title-tab\"\n          @click=\"switchBlock('D')\"\n          :class=\"{ 'selected b-1-cl': shrinksDdpthNewShow === 'D' }\"\n        >\n          <!-- 盘口 -->\n          {{ $t(\"trade.handicap\") }}\n        </span>\n        <span\n          class=\"title-tab title-new-tab\"\n          @click=\"switchBlock('T')\"\n          :class=\"{ 'selected b-1-cl': shrinksDdpthNewShow === 'T' }\"\n        >\n          <!-- 实时成交 -->\n          {{ $t(\"trade.latestDeal\") }}\n        </span>\n        <div class=\"switch-btn\">\n          <i class=\"dtIcon\" @click=\"switchDepthType('center')\">\n            <svg class=\"icon icon-14\" aria-hidden=\"true\">\n              <use xlink:href=\"#icon-a_5\"></use>\n            </svg>\n          </i>\n          <i class=\"dtIcon\" @click=\"switchDepthType('sell')\">\n            <svg class=\"icon icon-14\" aria-hidden=\"true\">\n              <use xlink:href=\"#icon-a_7\"></use>\n            </svg>\n          </i>\n          <i class=\"dtIcon\" @click=\"switchDepthType('buy')\">\n            <svg class=\"icon icon-14\" aria-hidden=\"true\">\n              <use xlink:href=\"#icon-a_6\"></use>\n            </svg>\n          </i>\n        </div>\n      </div>\n      <div\n        :class=\"{ 'is-show': shrinksDdpthNewShow === 'D' }\"\n        class=\"block-content\"\n      >\n        <tableList\n          type=\"asks\"\n          :theadList=\"theadList\"\n          :dataList=\"dataList.asksData\"\n          :maxValue=\"dataList.depthMaxNumber\"\n          :cellWidth=\"cellWidth\"\n          :lineNumber=\"sellLineNumber\"\n          :bodyHeight=\"sellHeight\"\n        />\n        <div class=\"current-price\">\n          <div class=\"price b-1-cl\" :class=\"getShowEtf(symbolCurrent) ? 'etfPriceClass' : ''\">\n            <span\n              class=\"sy-price\"\n              v-if=\"symbolsData.close.data !== '--'\"\n              :class=\"symbolsData.close.class\"\n            >\n              {{ symbolsData.close.data }}\n            </span>\n            <span\n              v-if=\"symbolsData.close.price !== '--'\"\n              class=\"otc-price b-2-cl\"\n            >\n              ≈ {{ symbolsData.close.price }}\n            </span>\n          </div>\n          <div v-if=\"getShowEtf(symbolCurrent)\"\n            class=\"eftJz\">\n            <div class=\"eftJz-title\">\n              <svg class=\"icon icon-14 eft-box-icon\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-a_15\"></use>\n              </svg>\n              {{$t('etfAdd.jz')}}\n            </div>\n            <div class=\"eftJz-value b-1-cl\">\n              {{etfPrice}}\n            </div>\n          </div>\n          <div class=\"market-show a-4-bg b-1-cl\"\n            :style=\"depthType === 'sell' ? 'bottom: 40px' : 'top: 40px;'\">\n            <div>{{$t('etfAdd.jzText1')}}</div>\n            <div>{{$t('etfAdd.jzText2')}}</div>\n          </div>\n          <div class=\"depth-type\">\n            <span class=\"num b-1-cl\">{{ deptValue }}</span>\n            <span class=\"switch-type-btn b-2-cl b-1-bd\">\n              <i\n                :class=\"{ noclick: currentdepthClass <= 0 }\"\n                @click=\"switchDepth(-1)\"\n                class=\"icon-switch icon-minus\"\n              >\n                <svg class=\"icon icon-14 hoverHide\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-a_2\"></use>\n                </svg>\n                <svg class=\"icon icon-14 hoverShow\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-a_2_1\"></use>\n                </svg>\n              </i>\n              <i\n                :class=\"{\n                  noclick: currentdepthClass >= depthOption.length - 1\n                }\"\n                @click=\"switchDepth(1)\"\n                class=\"icon-switch icon-add\"\n              >\n                <svg class=\"icon icon-14 hoverHide\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-a_3\"></use>\n                </svg>\n                <svg class=\"icon icon-14 hoverShow\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-a_3_1\"></use>\n                </svg>\n              </i>\n            </span>\n          </div>\n        </div>\n        <tableList\n          type=\"buy\"\n          :dataList=\"dataList.buyData\"\n          :maxValue=\"dataList.depthMaxNumber\"\n          :lineNumber=\"buyLineNumber\"\n          :cellWidth=\"cellWidth\"\n          :bodyHeight=\"buyHeight\"\n        />\n      </div>\n    </div>\n    <!-- 实时成交 -->\n    <div class=\"new-tradb\" :class=\"{ 'is-show': shrinksDdpthNewShow === 'T' }\">\n      <new-trade :moduleType=\"moduleType\"  :showGridFlag=\"showGridFlag\"/>\n    </div>\n  </div>\n</template>\n<script>\nimport mixin from 'BlockChain-ui-privatization/PC/common-mixin/modules/trade/depath/index';\nimport 'BlockChain-ui-privatization/PC/common-mixin/modules/trade/depath/index/tradeIndex.styl';\nimport { myStorage } from 'BlockChain-ui-privatization/utils';\nimport tableList from '@/components/modules/trade/tableList/index.vue';\n// 实时成交\nimport newTrade from '@/components/modules/trade/newTrade/index.vue';\n\nexport default {\n  mixins: [mixin],\n  components: {\n    tableList,\n    newTrade,\n  },\n  mounted() {\n    this.init();\n  },\n  props: {\n    showGridFlag: {\n      default: false,\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      minHeight: 352,\n      // 卖盘 高度\n      sellHeight: 224,\n      // 买盘 高度\n      buyHeight: 224,\n      maxHeeight: 600,\n    };\n  },\n  watch: {\n    showGridFlag(v) {\n      if (v) {\n        this.buyHeight = 231;\n        this.sellHeight = 231;\n        this.sellLineNumber = 22;\n        this.buyLineNumber = 22;\n      } else {\n        this.buyHeight = 224;\n        this.sellHeight = 224;\n        this.sellLineNumber = 22;\n        this.buyLineNumber = 22;\n      }\n    },\n  },\n  methods: {\n    init() {\n      if (this.moduleType === 'lever') {\n        // 卖盘 高度\n        this.sellHeight = 416;\n        // 买盘 高度\n        this.buyHeight = 416;\n        // 显示条数\n        this.sellLineNumber = 26;\n        this.buyLineNumber = 26;\n        this.maxHeeight = 840;\n        // 当前选中的货币对\n        this.symbolCurrent = myStorage.get('leverSymbolName');\n      }\n\n      this.setBoxHeight();\n      // 监听 深度数据\n      this.$bus.$on('DEPTH_DATA', (data) => {\n        if (data && this.symbolCurrent === data.symbol) {\n          this.dataList = JSON.parse(JSON.stringify(data));\n        } else {\n          this.dataList = {\n            asksData: [],\n            buyData: [],\n            depthMaxNumber: null,\n          };\n        }\n      });\n      // 监听 市场（最新价格） 数据\n      this.$bus.$on('MARKET_DATA', (data) => {\n        this.marketData = JSON.parse(JSON.stringify(data));\n      });\n      // 获取 当前选中的货币对\n      this.$bus.$on('SYMBOL_CURRENT', (val) => {\n        this.dataList = {\n          asksData: [],\n          buyData: [],\n          depthMaxNumber: null,\n        };\n        this.symbolCurrent = val;\n        this.currentdepthClass = 0;\n      });\n      // 监听 浏览器窗口大小改变\n      this.$bus.$on('WINFOW_ON_RESIIZE', () => {\n        // 设置国际版TV的高度\n        if (document.body.clientWidth < 961) {\n          this.sellHeight = 100;\n          this.buyHeight = 100;\n          this.sellLineNumber = 5;\n          this.buyLineNumber = 5;\n        } else if (this.moduleType === 'lever') {\n          this.sellHeight = 416;\n          this.buyHeight = 416;\n          this.sellLineNumber = 26;\n          this.buyLineNumber = 26;\n        } else {\n          this.buyHeight = 224;\n          if (this.showGridFlag) {\n            this.buyHeight = 418;\n          }\n          this.sellHeight = 224;\n          this.sellLineNumber = 24;\n          this.buyLineNumber = 24;\n        }\n        this.setBoxHeight(false);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\">\n.trade-depth-box {\n  .depth {\n    height: 611px;\n    border-radius: 10px;\n    background-color: #fff;\n    margin-bottom: 18px;\n    float: none;\n    .block-header {\n      height: 57px;\n      line-height: 57px;\n      border-bottom: none;\n      padding-left: 19px;\n      padding-right: 19px;\n      box-sizing: border-box;\n    }\n    .h4 {\n      font-size: 16px;\n      color: RGB(22, 22, 31);\n      font-weight: 600;\n    }\n    .block-content {\n      top: 57px !important;\n    }\n    .trade-table-list-container .thead {\n      height: 27px;\n      line-height: 27px;\n      background-color: rgba(228, 228, 228, .25) !important;\n      border-bottom: none;\n      span {\n        color: RGB(167, 180, 203);\n        font-weigth: 600;\n      }\n    }\n    .trade-table-list-container .tbody .symbol-item {\n      line-height: 32px;\n    }\n    .current-price {\n      height: 65px;\n      font-size: 22px;\n      font-weight: 700;\n      border-top: 1px solid rgba(228, 228, 228, .25);\n      border-bottom: 1px solid rgba(228, 228, 228, .25);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n  .trade-table-list-container {\n    .tbody {\n      padding: 0;\n    }\n    .tr-bg {\n      height: 32px;\n    }\n  }\n  .new-tradb {\n    float: none;\n    height: 595px;\n    .newTrade-index-container.newTrade {\n      float: none;\n      width: 100%;\n      height: 100%;\n    }\n    .newTrade-index-container .block-header {\n      height: 45px;\n      line-height: 45px;\n      background-color: #fff !important;\n      border-top-left-radius: 10px;\n      border-top-right-radius: 10px;\n      border-bottom: none;\n      span {\n        color: #16161F !important;\n        font-weight: 700;\n        font-size: 14px;\n      }\n    }\n    .newTrade-index-container .block-content {\n      height: calc(100% - 45px);\n      background-color: #fff !important;\n      border-bottom-left-radius: 10px;\n      border-bottom-right-radius: 10px;\n    }\n    .newTrade-index-container .newTrade-tbody {\n      height: calc(100% - 27px);\n    }\n    .thead {\n      height: 27px;\n      line-height: 27px;\n      background-color: rgba(167, 180, 203, .25) !important;\n      border-bottom: none;\n      span {\n        color: RGB(167, 180, 203) !important;\n        font-weigth: 600;\n      }\n    }\n  }\n}\n</style>\n"]}]}