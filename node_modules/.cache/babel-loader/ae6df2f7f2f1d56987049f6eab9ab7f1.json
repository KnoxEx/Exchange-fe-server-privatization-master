{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/otcRelease/index/index.js","dependencies":[{"path":"/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/otcRelease/index/index.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport _defineProperty from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { fixD, fixInput, imgMap, getCoinShowName } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      jurisdictionObj: {\n        data: [],\n        // 数据\n        str: '',\n        // 文案\n        statusKey: '',\n        // 当前跳转状态\n        flag: false,\n        //\n        btnText: '',\n        // 确定按钮\n        btnLink: '',\n        // 确认文案\n        pass: true\n      },\n      backgroundImg: \"background: url(\".concat(imgMap.otcRelease, \") no-repeat right bottom\"),\n      accountList: [],\n      // 资产列表\n      symbol: null,\n      // 当前币种\n      symbolList: [],\n      // 币种列表\n      side: '',\n      // SELL出售 BUY购买\n      legalCurrency: '',\n      // 法币币种\n      legalCurrencyList: [],\n      // 法币select框\n      number: '',\n      // 数量\n      pricingMethod: '1',\n      // 定价方式\n      pricentMethod: '1',\n      barNum: 0,\n      // 溢价滚动条\n      autoPrice: '',\n      // 自定义价格\n      rates: null,\n      // 法币汇率\n      minPrice: '',\n      // 最小限额\n      maxPrice: '',\n      // 最大限额\n      tradeTime: '5',\n      // 付款时限\n      frequency: '0',\n      // 交易次数\n      days: '30',\n      // 失效时间\n      buyPaysList: [],\n      // 支付方式 (购买时)\n      sellPaysList: [],\n      // 收款方式 (出售时)\n      myBuyPaysList: [],\n      // 选择的支付方式\n      mySellPaysList: [],\n      // 选择的收款方式\n      confirmLoading: false,\n      // 提交按钮loading\n      reply: '',\n      // 自动回复\n      leavingText: '',\n      // 广告留言\n      successDialogFlag: false,\n      // 成功后的提示\n      precent: '',\n      blance: '--',\n      // 开启法币汇率时可用余额,\n      otcRateFlag: false,\n      // 是否开启法币汇率配置\n      otcRateList: [] // 对应法币汇率列表\n\n    };\n  },\n  watch: {\n    showSymbol: function showSymbol(v) {\n      var _this = this;\n\n      this.axios({\n        url: 'otc/rates',\n        method: 'post',\n        hostType: 'otc',\n        params: {\n          symbol: v\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          _this.rates = data.data;\n        }\n      });\n    },\n    userInfo: function userInfo(v) {\n      if (v) {\n        this.jurisdiction();\n        this.initSellPaysList();\n        this.isSh();\n      }\n    },\n    // 格式化 数量的输入\n    number: function number(v) {\n      var _this2 = this;\n\n      var fix = 0;\n\n      if (this.market && this.market.coinList && typeof this.symbol === 'number') {\n        // 获取精度\n        Object.keys(this.market.coinList).forEach(function (citem) {\n          var _this2$market$coinLis = _this2.market.coinList[citem],\n              showPrecision = _this2$market$coinLis.showPrecision,\n              name = _this2$market$coinLis.name;\n\n          if (name === _this2.showSymbol) {\n            fix = showPrecision;\n          }\n        });\n        this.number = fixInput(v, fix);\n      }\n    },\n    precent: function precent(v) {\n      this.precent = fixInput(v, 2);\n    },\n    // 格式化 自定义价格\n    autoPrice: function autoPrice(v) {\n      var fix = this.priceFix;\n      this.autoPrice = fixInput(v, fix);\n    },\n    // 格式化 最小限额\n    minPrice: function minPrice(v) {\n      var fix = this.priceFix;\n      this.minPrice = fixInput(v, fix);\n    },\n    // 格式化 最大限额\n    maxPrice: function maxPrice(v) {\n      var fix = this.priceFix;\n      this.maxPrice = fixInput(v, fix);\n    },\n    // 付款期限\n    tradeTime: function tradeTime(v) {\n      this.tradeTime = fixInput(v, 0);\n    },\n    // 交易次数\n    frequency: function frequency(v) {\n      this.frequency = fixInput(v, 0);\n    },\n    market: function market(v) {\n      // 构建交易货币列表\n      if (v && this.otcPublicInfo) {\n        this.initSymbolList();\n      }\n    },\n    otcPublicInfo: function otcPublicInfo(v) {\n      // 构件法币列表\n      if (v) {\n        this.initLegalCurrencyList(); // 初始化法币\n\n        this.side = this.otcPublicInfo.defaultSeach; // 设置默认方向\n\n        this.initBuyPaysList(); // 初始化支付方式列表\n\n        if (this.market) {\n          this.initSymbolList();\n        }\n      }\n    }\n  },\n  computed: {\n    // 失效时间列表\n    daysList: function daysList() {\n      var day = this.$t('otcRelease.day');\n      return [{\n        value: \"2\".concat(day),\n        code: '2'\n      }, {\n        value: \"4\".concat(day),\n        code: '4'\n      }, {\n        value: \"7\".concat(day),\n        code: '7'\n      }, {\n        value: \"30\".concat(day),\n        code: '30'\n      }];\n    },\n    pricentMethodList: function pricentMethodList() {\n      return [{\n        value: this.$t('otcRelease.higher'),\n        code: '1'\n      }, {\n        value: this.$t('otcRelease.lower'),\n        code: '2'\n      }];\n    },\n    // 定价方式列表\n    pricingMethodList: function pricingMethodList() {\n      return [// 市场价(溢价)\n      {\n        value: this.$t('otcRelease.MarketPrice'),\n        code: '1'\n      }, // 自定义\n      {\n        value: this.$t('otcRelease.Custom'),\n        code: '2'\n      }];\n    },\n    rateUrl: function rateUrl() {\n      var url = '';\n\n      if (this.otcPublicInfo && this.otcPublicInfo.rateUrl) {\n        url = this.otcPublicInfo.rateUrl;\n      }\n\n      return url;\n    },\n    confirmDisabled: function confirmDisabled() {\n      var flag = true;\n      var priceF = true;\n\n      if (this.pricingMethod === '2') {\n        priceF = this.autoPriceObj.flag;\n      }\n\n      var payF = false;\n\n      if (this.side === 'SELL') {\n        payF = this.mySellPaysList.length;\n      } else {\n        payF = this.myBuyPaysList.length;\n      }\n\n      if (this.symbol && this.side.length && this.legalCurrency.length && this.numberObj.flag && priceF && this.precentObj.flag && this.minPriceObj.flag && this.maxPriceObj.flag && this.tradeTimeObj.flag && this.frequencyFlag && this.days.length && payF || this.confirmLoading) {\n        flag = false;\n      }\n\n      return flag;\n    },\n    precentPrice: function precentPrice() {\n      var precent = this.precent === '' ? 0 : this.precent;\n      var price = '--';\n\n      if (this.nowPrice !== '--') {\n        if (this.pricentMethod === '1') {\n          price = fixD(this.nowPrice * (1 + window.parseFloat(precent) / 100), this.priceFix);\n        } else {\n          price = fixD(this.nowPrice * (1 - window.parseFloat(precent) / 100), this.priceFix);\n        }\n      }\n\n      return price;\n    },\n    sum: function sum() {\n      var sum = 0;\n\n      if (this.number) {\n        if (this.pricingMethod === '1') {\n          sum = this.number * this.precentPrice;\n        } else {\n          sum = this.number * this.autoPrice;\n        }\n      }\n\n      return fixD(sum, this.priceFix);\n    },\n    priceFix: function priceFix() {\n      var fix = this.$store.state.baseData.defaultFiatPrecision;\n\n      if (this.market && this.market.coinList[this.showSymbol] && this.market.coinList[this.showSymbol].fiatPrecision && this.market.coinList[this.showSymbol].fiatPrecision[this.legalCurrency.toLowerCase()]) {\n        fix = this.market.coinList[this.showSymbol].fiatPrecision[this.legalCurrency.toLowerCase()];\n      }\n\n      return Number(fix);\n    },\n    // 当前单价\n    nowPrice: function nowPrice() {\n      var price = '--';\n\n      if (this.rates && this.rates.symbol === this.showSymbol && this.market && this.market.coinList) {\n        var fix = this.priceFix;\n        var nowP = this.rates[this.legalCurrency];\n        price = fixD(nowP, fix);\n      }\n\n      return price;\n    },\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    otcPublicInfo: function otcPublicInfo() {\n      return this.$store.state.baseData.otcPublicInfo;\n    },\n    frequencyFlag: function frequencyFlag() {\n      if (this.frequency.length === 0) {\n        return false;\n      }\n\n      return true;\n    },\n    // 数量输入框 验证\n    numberObj: function numberObj() {\n      if (this.side === 'SELL') {\n        if (this.number.length === 0 || parseFloat(this.number) === 0) {\n          return {\n            flag: false,\n            errorFlag: false,\n            // 请输入数量\n            errorText: this.$t('otcRelease.PleaseEnterQuantity')\n          };\n        }\n\n        if (parseFloat(this.numberValue) >= parseFloat(this.number)) {\n          return {\n            flag: true,\n            errorFlag: false,\n            errorText: ''\n          };\n        }\n\n        if (parseFloat(this.numberValue) < parseFloat(this.number)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 可用余额不足\n            errorText: this.$t('otcRelease.availableBalance')\n          };\n        }\n\n        return {\n          flag: false,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      if (this.number.length === 0 || parseFloat(this.number) === 0) {\n        return {\n          flag: false,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      return {\n        flag: true,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // 自定义价格 验证\n    autoPriceObj: function autoPriceObj() {\n      if (this.autoPrice.length === 0 || parseFloat(this.autoPrice) === 0) {\n        return {\n          flag: false,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      return {\n        flag: true,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // 百分比验证\n    precentObj: function precentObj() {\n      if (this.precent > 50) {\n        return {\n          flag: false,\n          errorFlag: true,\n          errorText: this.$t('otcRelease.precentError')\n        };\n      }\n\n      return {\n        flag: true,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // 最小限额 验证\n    minPriceObj: function minPriceObj() {\n      if (this.minPrice.length === 0 || parseFloat(this.minPrice) === 0) {\n        return {\n          flag: false,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      if (parseFloat(this.minPrice) > parseFloat(this.sum)) {\n        return {\n          flag: false,\n          errorFlag: true,\n          // 最小限额不得大于总金额\n          errorText: this.$t('otcRelease.minPriceError1')\n        };\n      }\n\n      if (parseFloat(this.minPrice) >= parseFloat(this.maxPrice)) {\n        return {\n          flag: false,\n          errorFlag: true,\n          // 最小限额不得大于或等于最大限额\n          errorText: this.$t('otcRelease.minPriceError2')\n        };\n      }\n\n      return {\n        flag: true,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // 最大限额 验证\n    maxPriceObj: function maxPriceObj() {\n      if (this.maxPrice.length === 0 || parseFloat(this.maxPrice) === 0) {\n        return {\n          flag: false,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      if (parseFloat(this.maxPrice) > parseFloat(this.sum)) {\n        return {\n          flag: false,\n          errorFlag: true,\n          // 最大限额不得大于总金额\n          errorText: this.$t('otcRelease.maxPriceError1')\n        };\n      }\n\n      if (parseFloat(this.minPrice) >= parseFloat(this.maxPrice)) {\n        return {\n          flag: false,\n          errorFlag: true,\n          // 最大限额不得小于或等于最小限额\n          errorText: this.$t('otcRelease.maxPriceError2')\n        };\n      }\n\n      return {\n        flag: true,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // 付款时限 验证\n    tradeTimeObj: function tradeTimeObj() {\n      if (this.tradeTime.length === 0) {\n        return {\n          flag: false,\n          errorFlag: false,\n          // 请输入付款时限\n          errorText: this.$t('otcRelease.paymentTimeLimit')\n        };\n      }\n\n      if (parseFloat(this.tradeTime) < 5 || parseFloat(this.tradeTime) > 60) {\n        return {\n          flag: false,\n          errorFlag: true,\n          // 付款时限应当在 5-60 分钟\n          errorText: this.$t('otcRelease.paymentTimeError')\n        };\n      }\n\n      return {\n        flag: true,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // 页面上用于展示的交易货币\n    showSymbol: function showSymbol() {\n      var _this3 = this;\n\n      var v = '';\n\n      if (this.symbolList.length && typeof this.symbol === 'number') {\n        this.symbolList.forEach(function (item) {\n          if (item.index === _this3.symbol) {\n            v = item.name;\n          }\n        });\n      }\n\n      return v;\n    },\n    showCoin: function showCoin() {\n      var v = this.showSymbol;\n\n      if (this.market && this.market.coinList) {\n        v = getCoinShowName(v, this.market.coinList);\n      }\n\n      return v;\n    },\n    // 当前币种可用余额\n    numberValue: function numberValue() {\n      var _this4 = this;\n\n      var v = '--';\n\n      if (this.accountList && this.accountList.length && typeof this.symbol === 'number' && this.market && this.market.coinList && this.otcPublicInfo && this.otcPublicInfo.feeOtcList) {\n        this.accountList.forEach(function (item) {\n          if (item.coinSymbol === _this4.showSymbol) {\n            var normal = item.normal;\n            var symbolRate = 0;\n            var fix = 0; // 获取手续费\n\n            _this4.otcPublicInfo.feeOtcList.forEach(function (citem) {\n              if (citem.symbol === _this4.showSymbol) {\n                symbolRate = citem.rate;\n              }\n            }); // 获取精度\n\n\n            Object.keys(_this4.market.coinList).forEach(function (citem) {\n              var _this4$market$coinLis = _this4.market.coinList[citem],\n                  showPrecision = _this4$market$coinLis.showPrecision,\n                  name = _this4$market$coinLis.name;\n\n              if (name === _this4.showSymbol) {\n                fix = showPrecision;\n              }\n            });\n            v = fixD(normal / (1 + symbolRate), fix);\n          }\n        });\n      }\n\n      return v;\n    },\n    excheifFlag: function excheifFlag() {\n      return this.$store.state.baseData.exchief_project_switch;\n    },\n    navSymbolList: function navSymbolList() {\n      var _this5 = this;\n\n      var arr = [];\n\n      if (this.market && this.market.coinList) {\n        this.symbolList.forEach(function (item) {\n          arr.push({\n            name: getCoinShowName(item.name, _this5.market.coinList),\n            index: item.index\n          });\n        });\n      }\n\n      return arr;\n    }\n  },\n  methods: {\n    init: function init() {\n      this.initData(); // this.getOtcRateList();\n\n      this.precent = '';\n    },\n    alertClose: function alertClose() {\n      this.jurisdictionObj.flag = false;\n    },\n    alertConfirm: function alertConfirm() {\n      this.$router.push(this.jurisdictionObj.btnLink);\n    },\n    goNoPay: function goNoPay() {\n      this.$router.push('/personal/leaglTenderSet');\n    },\n    isSh: function isSh() {\n      if (this.userInfo.authLevel.toString() !== '1') {\n        // alert('请您先实名认证');\n        return;\n      }\n\n      if (this.userInfo.otcCompanyInfo && this.userInfo.userCompanyInfo) {\n        if (this.userInfo.otcCompanyInfo.status !== '0') {\n          if (this.userInfo.userCompanyInfo === '0') {// alert('请您申请成为商户');\n          }\n        }\n      }\n    },\n    initData: function initData() {\n      this.getAccountList();\n\n      if (this.market && this.otcPublicInfo) {\n        this.initSymbolList();\n      }\n\n      if (this.otcPublicInfo) {\n        this.initLegalCurrencyList(); // 初始化法币\n\n        this.side = this.otcPublicInfo.defaultSeach; // 设置默认方向\n\n        this.initBuyPaysList(); // 初始化支付方式列表\n      }\n\n      if (this.userInfo) {\n        this.jurisdiction();\n        this.initSellPaysList();\n        this.isSh();\n      }\n    },\n    jurisdiction: function jurisdiction() {\n      // const arr = [\n      //   { text: '绑定谷歌验证', flag: this.OpenGoogle },\n      //   { text: '绑定手机验证', flag: this.OpenMobile },\n      // ];\n      // let userInfo = {\n      //   authLevel: 1,\n      //   nickName: '1',\n      //   otcCompanyInfo: { status: 1 },\n      //   userCompanyInfo: { status: 0 }\n      // }\n      var data = []; // 请完成实名认证，设置昵称才能发布广告\n\n      var str = this.$t('otcRelease.jurisdictionTitle');\n      var _this$userInfo = this.userInfo,\n          otcCompanyInfo = _this$userInfo.otcCompanyInfo,\n          userCompanyInfo = _this$userInfo.userCompanyInfo,\n          nickName = _this$userInfo.nickName,\n          authLevel = _this$userInfo.authLevel;\n      var statusKey = '';\n      var btnText = '';\n      var btnLink = '';\n      var pass = true; // 实名认证\n\n      var authentication = this.$t('otcRelease.authentication');\n\n      if (authLevel.toString() === '1') {\n        data.push({\n          text: authentication,\n          flag: true,\n          key: 'authLevel'\n        });\n      } else {\n        data.push({\n          text: authentication,\n          flag: false,\n          key: 'authLevel'\n        });\n        statusKey = 'authLevel'; // 去认证\n\n        btnText = this.$t('otcRelease.DeCertification');\n        btnLink = '/personal';\n        pass = false;\n      } // 设置昵称\n\n\n      var SetNickname = this.$t('otcRelease.SetNickname');\n\n      if (nickName && nickName.length) {\n        data.push({\n          text: SetNickname,\n          flag: true,\n          key: 'nickName'\n        });\n      } else {\n        data.push({\n          text: SetNickname,\n          flag: false,\n          key: 'nickName'\n        });\n\n        if (!statusKey.length) {\n          statusKey = 'nickName'; // 去设置\n\n          btnText = this.$t('otcRelease.ToSetUp');\n          btnLink = '/personal/userManagement';\n          pass = false;\n        }\n      } // 申请商户\n\n\n      if (otcCompanyInfo.status.toString() !== '0') {\n        // 请完成实名认证，设置昵称并申请成为商家才能发布广告\n        str = this.$t('otcRelease.jurisdictionTitle2');\n        var ApplicationMerchant = this.$t('otcRelease.ApplicationMerchant');\n\n        if (userCompanyInfo.status.toString() !== '0') {\n          data.push({\n            text: ApplicationMerchant,\n            flag: true,\n            key: 'companyInfo'\n          });\n        } else {\n          data.push({\n            text: ApplicationMerchant,\n            flag: false,\n            key: 'companyInfo'\n          });\n\n          if (!statusKey.length) {\n            statusKey = 'companyInfo'; // 去申请\n\n            btnText = this.$t('otcRelease.ToApply');\n            btnLink = '/companyApplication';\n            pass = false;\n          }\n        }\n      }\n\n      var obj = {\n        data: data,\n        str: str,\n        statusKey: statusKey,\n        btnText: btnText,\n        btnLink: btnLink,\n        pass: pass,\n        flag: !!statusKey.length\n      };\n      this.jurisdictionObj = obj;\n    },\n    inputLineChange: function inputLineChange(value, name) {\n      this[name] = value;\n    },\n    // 获取列表\n    getAccountList: function getAccountList() {\n      var _this6 = this;\n\n      this.axios({\n        url: '/finance/otc_account_list'\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          _this6.accountList = data.data.allCoinMap;\n        }\n      });\n    },\n    // 初始化 数字货币列表\n    initSymbolList: function initSymbolList() {\n      var list = [];\n      var coinList = this.market.coinList;\n\n      if (Array.isArray(coinList)) {\n        coinList = coinList.sort(function (a, b) {\n          return a.sort - b.sort;\n        });\n      }\n\n      Object.keys(coinList).forEach(function (item, index) {\n        if (coinList[item].otcOpen) {\n          // getCoinShowName(obj.name, this.market.coinList)\n          list.push({\n            name: item,\n            index: index + 1\n          });\n        }\n      });\n      this.symbolList = list;\n      this.initSymbol();\n    },\n    // 设置默认的数字货币\n    initSymbol: function initSymbol() {\n      var _this7 = this;\n\n      this.symbolList.forEach(function (item) {\n        if (item.name === _this7.otcPublicInfo.defaultCoin) {\n          _this7.symbol = item.index;\n        }\n      });\n    },\n    // 初始化交易的法币\n    initLegalCurrencyList: function initLegalCurrencyList() {\n      var list = [];\n      this.otcPublicInfo.paycoins.forEach(function (item) {\n        list.push({\n          value: item.title,\n          code: item.key\n        });\n      });\n      this.legalCurrency = this.otcPublicInfo.otcDefaultPaycoin;\n      this.legalCurrencyList = list;\n    },\n    // 初始化支付方式列表\n    initBuyPaysList: function initBuyPaysList() {\n      this.buyPaysList = this.otcPublicInfo.payments;\n    },\n    // 初始化收款方式列表\n    initSellPaysList: function initSellPaysList() {\n      var _this8 = this;\n\n      this.axios({\n        url: '/otc/payment/find',\n        hostType: 'otc',\n        params: {\n          isOpen: '1'\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          var list = data.data;\n          var newList = [];\n          var obj = {};\n\n          if (_this8.excheifFlag) {\n            list.forEach(function (ele, i) {\n              if (!obj[list[i].payment]) {\n                newList.push(list[i]);\n                obj[list[i].payment] = true;\n              }\n            });\n            _this8.sellPaysList = newList;\n          } else {\n            _this8.sellPaysList = list;\n          }\n        }\n      });\n    },\n    // 重置 数量/定价方式/最小限额/最大限额/付款时限\n    reset: function reset() {\n      this.number = ''; // 重置数量\n\n      this.pricingMethod = '1'; // 重置定价方式\n\n      this.autoPrice = ''; // 重置自定义价格\n\n      this.minPrice = ''; // 重置最小限额\n\n      this.maxPrice = ''; // 重置最大限额\n\n      this.tradeTime = '5'; // 重置付款时限\n\n      this.frequency = '0'; // 重置交易次数\n\n      this.days = '30'; // 重置失效时间\n\n      this.myBuyPaysList = []; // 重置已选支付方式\n\n      this.mySellPaysList = []; // 重置已选收款方式\n\n      this.leavingText = ''; // 广告留言\n\n      this.reply = '';\n    },\n    // 切换币种\n    symbolChange: function symbolChange(item) {\n      if (this.symbol === item.index) {\n        return;\n      }\n\n      this.symbol = item.index;\n      this.side = this.otcPublicInfo.defaultSeach; // 重置广告类型\n\n      this.legalCurrency = this.otcPublicInfo.otcDefaultPaycoin; // 重置法币\n\n      if (this.otcRateFlag && this.excheifFlag) {\n        this.setBlance();\n      }\n\n      this.reset();\n    },\n    // 切换广告类型\n    sideChange: function sideChange(name) {\n      this.side = name;\n      this.legalCurrency = this.otcPublicInfo.otcDefaultPaycoin; // 重置法币\n\n      this.reset();\n\n      if (this.otcRateFlag && this.excheifFlag) {\n        this.setBlance();\n      }\n    },\n    // 切换法币\n    legalCurrencyChange: function legalCurrencyChange(item) {\n      this.legalCurrency = item.code;\n\n      if (this.otcRateFlag && this.excheifFlag) {\n        this.setBlance();\n      }\n\n      this.reset();\n    },\n    // 切换溢价方向\n    precentMethodChange: function precentMethodChange(item) {\n      this.pricentMethod = item.code;\n    },\n    // 切换定价方式\n    pricingMethodChange: function pricingMethodChange(item) {\n      this.pricingMethod = item.code;\n      this.autoPrice = this.nowPrice;\n      this.precent = '';\n      this.pricentMethod = '1';\n    },\n    // 溢价\n    barChange: function barChange(num) {\n      this.barNum = Number(num);\n    },\n    // 切换失效时间\n    daysChange: function daysChange(item) {\n      this.days = item.code;\n    },\n    // 支付方式点击\n    buyPayClick: function buyPayClick(item) {\n      if (this.myBuyPaysList.indexOf(item.key) !== -1) {\n        this.myBuyPaysList.splice(this.myBuyPaysList.indexOf(item.key), 1);\n      } else {\n        if (this.myBuyPaysList.length >= 3) {\n          // 最多可以选择三种支付方式\n          this.$bus.$emit('tip', {\n            text: this.$t('otcRelease.threePayment'),\n            type: 'warning'\n          });\n          return;\n        }\n\n        this.myBuyPaysList.push(item.key);\n      }\n    },\n    // 收款方式点击\n    sellPayClick: function sellPayClick(item) {\n      if (this.mySellPaysList.indexOf(item.payment) !== -1) {\n        this.mySellPaysList.splice(this.mySellPaysList.indexOf(item.payment), 1);\n      } else {\n        this.mySellPaysList.push(item.payment);\n      }\n    },\n    confirm: function confirm() {\n      var _this9 = this;\n\n      if (!this.jurisdictionObj.pass) {\n        this.jurisdictionObj.flag = true;\n        return;\n      }\n\n      var priceParams = {}; // 价格\n\n      if (this.pricingMethod === '1') {\n        priceParams = {\n          price: this.precentPrice,\n          priceRate: Math.abs(this.precent),\n          priceRateType: this.pricentMethod === '1' ? 2 : 3\n        };\n      } else {\n        priceParams = {\n          price: this.autoPrice,\n          priceRate: 0,\n          priceRateType: 0\n        };\n      }\n\n      var payments = [];\n\n      if (this.side === 'SELL') {\n        this.mySellPaysList.forEach(function (item) {\n          payments.push({\n            payment: item\n          });\n        });\n      } else {\n        this.myBuyPaysList.forEach(function (item) {\n          payments.push({\n            payment: item\n          });\n        });\n      }\n\n      var params = _objectSpread(_objectSpread({\n        coin: this.showSymbol,\n        // 交易币种\n        side: this.side,\n        // 方向\n        payCoin: this.legalCurrency,\n        // 法币\n        volume: this.number\n      }, priceParams), {}, {\n        // 价格\n        minTrade: this.minPrice,\n        // 最小限额\n        maxTrade: this.maxPrice,\n        // 最大限额\n        limitTime: this.tradeTime,\n        // 交易期限\n        dealVolume: this.frequency,\n        // 交易次数\n        days: this.days,\n        // 失效时间\n        payments: payments,\n        description: this.leavingText,\n        autoReply: this.reply\n      });\n\n      this.confirmLoading = true;\n      this.axios({\n        url: 'otc/wanted_save',\n        hostType: 'otc',\n        params: params\n      }).then(function (data) {\n        _this9.confirmLoading = false;\n\n        if (data.code.toString() === '0') {\n          _this9.successDialogFlag = true;\n        } else {\n          _this9.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    successDialogConfirm: function successDialogConfirm() {\n      this.initData();\n      this.reset();\n      this.successDialogFlag = false;\n    },\n    successDialogClose: function successDialogClose() {\n      this.$router.push('/');\n    },\n    // 获取法币汇率列表及开关\n    getOtcRateList: function getOtcRateList() {\n      var _this10 = this;\n\n      this.axios({\n        url: this.$store.state.url.common.otc_fee_rate_list\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          _this10.otcRateFlag = Number(data.data.otc_fee_rate_type) === 2;\n          _this10.otcRateList = data.data.otc_fee_rate_list;\n\n          if (_this10.otcRateFlag && _this10.excheifFlag) {\n            _this10.setBlance();\n          }\n        }\n      });\n    },\n    // 获取对应法币汇率\n    setBlance: function setBlance() {\n      var _this11 = this;\n\n      if (this.accountList && this.accountList.length && typeof this.symbol === 'number' && this.market && this.market.coinList && this.otcPublicInfo && this.otcRateList) {\n        this.accountList.forEach(function (item) {\n          if (item.coinSymbol === _this11.showSymbol) {\n            var normal = item.normal;\n            var symbolRate = 0;\n            var fix = 0; // 获取手续费\n\n            _this11.otcRateList.forEach(function (citem) {\n              if (citem.symbol === _this11.showSymbol && citem.fiatCoin === _this11.legalCurrency) {\n                symbolRate = citem.rate;\n              }\n            }); // 获取精度\n\n\n            Object.keys(_this11.market.coinList).forEach(function (citem) {\n              var _this11$market$coinLi = _this11.market.coinList[citem],\n                  showPrecision = _this11$market$coinLi.showPrecision,\n                  name = _this11$market$coinLi.name;\n\n              if (name === _this11.showSymbol) {\n                fix = showPrecision;\n              }\n            });\n            _this11.blance = fixD(normal / (1 + symbolRate), fix);\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/otcRelease/index/index.js"],"names":["fixD","fixInput","imgMap","getCoinShowName","data","jurisdictionObj","str","statusKey","flag","btnText","btnLink","pass","backgroundImg","otcRelease","accountList","symbol","symbolList","side","legalCurrency","legalCurrencyList","number","pricingMethod","pricentMethod","barNum","autoPrice","rates","minPrice","maxPrice","tradeTime","frequency","days","buyPaysList","sellPaysList","myBuyPaysList","mySellPaysList","confirmLoading","reply","leavingText","successDialogFlag","precent","blance","otcRateFlag","otcRateList","watch","showSymbol","v","axios","url","method","hostType","params","then","code","toString","userInfo","jurisdiction","initSellPaysList","isSh","fix","market","coinList","Object","keys","forEach","citem","showPrecision","name","priceFix","otcPublicInfo","initSymbolList","initLegalCurrencyList","defaultSeach","initBuyPaysList","computed","daysList","day","$t","value","pricentMethodList","pricingMethodList","rateUrl","confirmDisabled","priceF","autoPriceObj","payF","length","numberObj","precentObj","minPriceObj","maxPriceObj","tradeTimeObj","frequencyFlag","precentPrice","price","nowPrice","window","parseFloat","sum","$store","state","baseData","defaultFiatPrecision","fiatPrecision","toLowerCase","Number","nowP","errorFlag","errorText","numberValue","item","index","showCoin","feeOtcList","coinSymbol","normal","symbolRate","rate","excheifFlag","exchief_project_switch","navSymbolList","arr","push","methods","init","initData","alertClose","alertConfirm","$router","goNoPay","authLevel","otcCompanyInfo","userCompanyInfo","status","getAccountList","nickName","authentication","text","key","SetNickname","ApplicationMerchant","obj","inputLineChange","allCoinMap","list","Array","isArray","sort","a","b","otcOpen","initSymbol","defaultCoin","paycoins","title","otcDefaultPaycoin","payments","isOpen","newList","ele","i","payment","reset","symbolChange","setBlance","sideChange","legalCurrencyChange","precentMethodChange","pricingMethodChange","barChange","num","daysChange","buyPayClick","indexOf","splice","$bus","$emit","type","sellPayClick","confirm","priceParams","priceRate","Math","abs","priceRateType","coin","payCoin","volume","minTrade","maxTrade","limitTime","dealVolume","description","autoReply","msg","successDialogConfirm","successDialogClose","getOtcRateList","common","otc_fee_rate_list","otc_fee_rate_type","fiatCoin"],"mappings":"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","sourcesContent":["import {\r\n  fixD, fixInput, imgMap, getCoinShowName,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      jurisdictionObj: {\r\n        data: [], // 数据\r\n        str: '', // 文案\r\n        statusKey: '', // 当前跳转状态\r\n        flag: false, //\r\n        btnText: '', // 确定按钮\r\n        btnLink: '', // 确认文案\r\n        pass: true,\r\n      },\r\n      backgroundImg: `background: url(${imgMap.otcRelease}) no-repeat right bottom`,\r\n      accountList: [], // 资产列表\r\n      symbol: null, // 当前币种\r\n      symbolList: [], // 币种列表\r\n      side: '', // SELL出售 BUY购买\r\n      legalCurrency: '', // 法币币种\r\n      legalCurrencyList: [], // 法币select框\r\n      number: '', // 数量\r\n      pricingMethod: '1', // 定价方式\r\n      pricentMethod: '1',\r\n      barNum: 0, // 溢价滚动条\r\n      autoPrice: '', // 自定义价格\r\n      rates: null, // 法币汇率\r\n      minPrice: '', // 最小限额\r\n      maxPrice: '', // 最大限额\r\n      tradeTime: '5', // 付款时限\r\n      frequency: '0', // 交易次数\r\n      days: '30', // 失效时间\r\n      buyPaysList: [], // 支付方式 (购买时)\r\n      sellPaysList: [], // 收款方式 (出售时)\r\n      myBuyPaysList: [], // 选择的支付方式\r\n      mySellPaysList: [], // 选择的收款方式\r\n      confirmLoading: false, // 提交按钮loading\r\n      reply: '', // 自动回复\r\n      leavingText: '', // 广告留言\r\n      successDialogFlag: false, // 成功后的提示\r\n      precent: '',\r\n      blance: '--', // 开启法币汇率时可用余额,\r\n      otcRateFlag: false, // 是否开启法币汇率配置\r\n      otcRateList: [], // 对应法币汇率列表\r\n    };\r\n  },\r\n  watch: {\r\n    showSymbol(v) {\r\n      this.axios({\r\n        url: 'otc/rates',\r\n        method: 'post',\r\n        hostType: 'otc',\r\n        params: {\r\n          symbol: v,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          this.rates = data.data;\r\n        }\r\n      });\r\n    },\r\n    userInfo(v) {\r\n      if (v) {\r\n        this.jurisdiction();\r\n        this.initSellPaysList();\r\n        this.isSh();\r\n      }\r\n    },\r\n    // 格式化 数量的输入\r\n    number(v) {\r\n      let fix = 0;\r\n      if (this.market && this.market.coinList && typeof (this.symbol) === 'number') {\r\n        // 获取精度\r\n        Object.keys(this.market.coinList).forEach((citem) => {\r\n          const { showPrecision, name } = this.market.coinList[citem];\r\n          if (name === this.showSymbol) { fix = showPrecision; }\r\n        });\r\n        this.number = fixInput(v, fix);\r\n      }\r\n    },\r\n    precent(v) {\r\n      this.precent = fixInput(v, 2);\r\n    },\r\n    // 格式化 自定义价格\r\n    autoPrice(v) {\r\n      const fix = this.priceFix;\r\n      this.autoPrice = fixInput(v, fix);\r\n    },\r\n    // 格式化 最小限额\r\n    minPrice(v) {\r\n      const fix = this.priceFix;\r\n      this.minPrice = fixInput(v, fix);\r\n    },\r\n    // 格式化 最大限额\r\n    maxPrice(v) {\r\n      const fix = this.priceFix;\r\n      this.maxPrice = fixInput(v, fix);\r\n    },\r\n    // 付款期限\r\n    tradeTime(v) {\r\n      this.tradeTime = fixInput(v, 0);\r\n    },\r\n    // 交易次数\r\n    frequency(v) {\r\n      this.frequency = fixInput(v, 0);\r\n    },\r\n    market(v) {\r\n      // 构建交易货币列表\r\n      if (v && this.otcPublicInfo) { this.initSymbolList(); }\r\n    },\r\n    otcPublicInfo(v) {\r\n      // 构件法币列表\r\n      if (v) {\r\n        this.initLegalCurrencyList(); // 初始化法币\r\n        this.side = this.otcPublicInfo.defaultSeach; // 设置默认方向\r\n        this.initBuyPaysList(); // 初始化支付方式列表\r\n        if (this.market) { this.initSymbolList(); }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    // 失效时间列表\r\n    daysList() {\r\n      const day = this.$t('otcRelease.day');\r\n      return [\r\n        { value: `2${day}`, code: '2' },\r\n        { value: `4${day}`, code: '4' },\r\n        { value: `7${day}`, code: '7' },\r\n        { value: `30${day}`, code: '30' },\r\n      ];\r\n    },\r\n    pricentMethodList() {\r\n      return [\r\n        { value: this.$t('otcRelease.higher'), code: '1' },\r\n        { value: this.$t('otcRelease.lower'), code: '2' },\r\n      ];\r\n    },\r\n    // 定价方式列表\r\n    pricingMethodList() {\r\n      return [\r\n        // 市场价(溢价)\r\n        { value: this.$t('otcRelease.MarketPrice'), code: '1' },\r\n        // 自定义\r\n        { value: this.$t('otcRelease.Custom'), code: '2' },\r\n      ];\r\n    },\r\n    rateUrl() {\r\n      let url = '';\r\n      if (this.otcPublicInfo\r\n       && this.otcPublicInfo.rateUrl) {\r\n        url = this.otcPublicInfo.rateUrl;\r\n      }\r\n      return url;\r\n    },\r\n    confirmDisabled() {\r\n      let flag = true;\r\n      let priceF = true;\r\n      if (this.pricingMethod === '2') {\r\n        priceF = this.autoPriceObj.flag;\r\n      }\r\n      let payF = false;\r\n      if (this.side === 'SELL') {\r\n        payF = this.mySellPaysList.length;\r\n      } else {\r\n        payF = this.myBuyPaysList.length;\r\n      }\r\n      if ((this.symbol\r\n        && this.side.length\r\n        && this.legalCurrency.length\r\n        && this.numberObj.flag\r\n        && priceF\r\n        && this.precentObj.flag\r\n        && this.minPriceObj.flag\r\n        && this.maxPriceObj.flag\r\n        && this.tradeTimeObj.flag\r\n        && this.frequencyFlag\r\n        && this.days.length\r\n        && payF) || this.confirmLoading) {\r\n        flag = false;\r\n      }\r\n      return flag;\r\n    },\r\n    precentPrice() {\r\n      const precent = (this.precent === '') ? 0 : this.precent;\r\n      let price = '--';\r\n      if (this.nowPrice !== '--') {\r\n        if (this.pricentMethod === '1') {\r\n          price = fixD(this.nowPrice * (1 + window.parseFloat(precent) / 100), this.priceFix);\r\n        } else {\r\n          price = fixD(this.nowPrice * (1 - window.parseFloat(precent) / 100), this.priceFix);\r\n        }\r\n      }\r\n      return price;\r\n    },\r\n    sum() {\r\n      let sum = 0;\r\n      if (this.number) {\r\n        if (this.pricingMethod === '1') {\r\n          sum = this.number * this.precentPrice;\r\n        } else {\r\n          sum = this.number * this.autoPrice;\r\n        }\r\n      }\r\n      return fixD(sum, this.priceFix);\r\n    },\r\n    priceFix() {\r\n      let fix = this.$store.state.baseData.defaultFiatPrecision;\r\n      if (this.market\r\n        && this.market.coinList[this.showSymbol]\r\n        && this.market.coinList[this.showSymbol].fiatPrecision\r\n        && this.market.coinList[this.showSymbol].fiatPrecision[this.legalCurrency.toLowerCase()]) {\r\n        fix = this.market.coinList[this.showSymbol].fiatPrecision[this.legalCurrency.toLowerCase()];\r\n      }\r\n      return Number(fix);\r\n    },\r\n    // 当前单价\r\n    nowPrice() {\r\n      let price = '--';\r\n      if (this.rates\r\n        && this.rates.symbol === this.showSymbol\r\n        && this.market && this.market.coinList) {\r\n        const fix = this.priceFix;\r\n        const nowP = this.rates[this.legalCurrency];\r\n        price = fixD(nowP, fix);\r\n      }\r\n      return price;\r\n    },\r\n    market() { return this.$store.state.baseData.market; },\r\n    userInfo() { return this.$store.state.baseData.userInfo; },\r\n    otcPublicInfo() { return this.$store.state.baseData.otcPublicInfo; },\r\n    frequencyFlag() {\r\n      if (this.frequency.length === 0) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    // 数量输入框 验证\r\n    numberObj() {\r\n      if (this.side === 'SELL') {\r\n        if (this.number.length === 0 || parseFloat(this.number) === 0) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: false,\r\n            // 请输入数量\r\n            errorText: this.$t('otcRelease.PleaseEnterQuantity'),\r\n          };\r\n        } if (parseFloat(this.numberValue) >= parseFloat(this.number)) {\r\n          return {\r\n            flag: true,\r\n            errorFlag: false,\r\n            errorText: '',\r\n          };\r\n        } if (parseFloat(this.numberValue) < parseFloat(this.number)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 可用余额不足\r\n            errorText: this.$t('otcRelease.availableBalance'),\r\n          };\r\n        }\r\n        return {\r\n          flag: false,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      }\r\n      if (this.number.length === 0 || parseFloat(this.number) === 0) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      }\r\n      return {\r\n        flag: true,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // 自定义价格 验证\r\n    autoPriceObj() {\r\n      if (this.autoPrice.length === 0 || parseFloat(this.autoPrice) === 0) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      }\r\n      return {\r\n        flag: true,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // 百分比验证\r\n    precentObj() {\r\n      if (this.precent > 50) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: true,\r\n          errorText: this.$t('otcRelease.precentError'),\r\n        };\r\n      }\r\n      return {\r\n        flag: true,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // 最小限额 验证\r\n    minPriceObj() {\r\n      if (this.minPrice.length === 0 || parseFloat(this.minPrice) === 0) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      } if (parseFloat(this.minPrice) > parseFloat(this.sum)) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: true,\r\n          // 最小限额不得大于总金额\r\n          errorText: this.$t('otcRelease.minPriceError1'),\r\n        };\r\n      } if (parseFloat(this.minPrice) >= parseFloat(this.maxPrice)) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: true,\r\n          // 最小限额不得大于或等于最大限额\r\n          errorText: this.$t('otcRelease.minPriceError2'),\r\n        };\r\n      }\r\n      return {\r\n        flag: true,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // 最大限额 验证\r\n    maxPriceObj() {\r\n      if (this.maxPrice.length === 0 || parseFloat(this.maxPrice) === 0) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      } if (parseFloat(this.maxPrice) > parseFloat(this.sum)) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: true,\r\n          // 最大限额不得大于总金额\r\n          errorText: this.$t('otcRelease.maxPriceError1'),\r\n        };\r\n      } if (parseFloat(this.minPrice) >= parseFloat(this.maxPrice)) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: true,\r\n          // 最大限额不得小于或等于最小限额\r\n          errorText: this.$t('otcRelease.maxPriceError2'),\r\n        };\r\n      }\r\n      return {\r\n        flag: true,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // 付款时限 验证\r\n    tradeTimeObj() {\r\n      if (this.tradeTime.length === 0) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: false,\r\n          // 请输入付款时限\r\n          errorText: this.$t('otcRelease.paymentTimeLimit'),\r\n        };\r\n      } if (parseFloat(this.tradeTime) < 5 || parseFloat(this.tradeTime) > 60) {\r\n        return {\r\n          flag: false,\r\n          errorFlag: true,\r\n          // 付款时限应当在 5-60 分钟\r\n          errorText: this.$t('otcRelease.paymentTimeError'),\r\n        };\r\n      }\r\n      return {\r\n        flag: true,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // 页面上用于展示的交易货币\r\n    showSymbol() {\r\n      let v = '';\r\n      if (this.symbolList.length && typeof (this.symbol) === 'number') {\r\n        this.symbolList.forEach((item) => {\r\n          if (item.index === this.symbol) { v = item.name; }\r\n        });\r\n      }\r\n      return v;\r\n    },\r\n    showCoin() {\r\n      let v = this.showSymbol;\r\n      if (this.market && this.market.coinList) {\r\n        v = getCoinShowName(v, this.market.coinList);\r\n      }\r\n      return v;\r\n    },\r\n    // 当前币种可用余额\r\n    numberValue() {\r\n      let v = '--';\r\n      if (this.accountList && this.accountList.length\r\n      && typeof (this.symbol) === 'number'\r\n      && this.market && this.market.coinList\r\n      && this.otcPublicInfo && this.otcPublicInfo.feeOtcList) {\r\n        this.accountList.forEach((item) => {\r\n          if (item.coinSymbol === this.showSymbol) {\r\n            const { normal } = item;\r\n            let symbolRate = 0;\r\n            let fix = 0;\r\n            // 获取手续费\r\n            this.otcPublicInfo.feeOtcList.forEach((citem) => {\r\n              if (citem.symbol === this.showSymbol) { symbolRate = citem.rate; }\r\n            });\r\n            // 获取精度\r\n            Object.keys(this.market.coinList).forEach((citem) => {\r\n              const { showPrecision, name } = this.market.coinList[citem];\r\n              if (name === this.showSymbol) { fix = showPrecision; }\r\n            });\r\n            v = fixD(normal / (1 + symbolRate), fix);\r\n          }\r\n        });\r\n      }\r\n      return v;\r\n    },\r\n    excheifFlag() {\r\n      return this.$store.state.baseData.exchief_project_switch;\r\n    },\r\n    navSymbolList() {\r\n      const arr = [];\r\n      if (this.market && this.market.coinList) {\r\n        this.symbolList.forEach((item) => {\r\n          arr.push({\r\n            name: getCoinShowName(item.name, this.market.coinList),\r\n            index: item.index,\r\n          });\r\n        });\r\n      }\r\n      return arr;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.initData();\r\n      // this.getOtcRateList();\r\n      this.precent = '';\r\n    },\r\n    alertClose() {\r\n      this.jurisdictionObj.flag = false;\r\n    },\r\n    alertConfirm() {\r\n      this.$router.push(this.jurisdictionObj.btnLink);\r\n    },\r\n    goNoPay() {\r\n      this.$router.push('/personal/leaglTenderSet');\r\n    },\r\n    isSh() {\r\n      if (this.userInfo.authLevel.toString() !== '1') {\r\n        // alert('请您先实名认证');\r\n        return;\r\n      }\r\n      if (this.userInfo.otcCompanyInfo && this.userInfo.userCompanyInfo) {\r\n        if (this.userInfo.otcCompanyInfo.status !== '0') {\r\n          if (this.userInfo.userCompanyInfo === '0') {\r\n            // alert('请您申请成为商户');\r\n          }\r\n        }\r\n      }\r\n    },\r\n    initData() {\r\n      this.getAccountList();\r\n      if (this.market && this.otcPublicInfo) { this.initSymbolList(); }\r\n      if (this.otcPublicInfo) {\r\n        this.initLegalCurrencyList(); // 初始化法币\r\n        this.side = this.otcPublicInfo.defaultSeach; // 设置默认方向\r\n        this.initBuyPaysList(); // 初始化支付方式列表\r\n      }\r\n      if (this.userInfo) {\r\n        this.jurisdiction();\r\n        this.initSellPaysList();\r\n        this.isSh();\r\n      }\r\n    },\r\n    jurisdiction() {\r\n      // const arr = [\r\n      //   { text: '绑定谷歌验证', flag: this.OpenGoogle },\r\n      //   { text: '绑定手机验证', flag: this.OpenMobile },\r\n      // ];\r\n      // let userInfo = {\r\n      //   authLevel: 1,\r\n      //   nickName: '1',\r\n      //   otcCompanyInfo: { status: 1 },\r\n      //   userCompanyInfo: { status: 0 }\r\n      // }\r\n      const data = [];\r\n      // 请完成实名认证，设置昵称才能发布广告\r\n      let str = this.$t('otcRelease.jurisdictionTitle');\r\n      const {\r\n        otcCompanyInfo, userCompanyInfo, nickName, authLevel,\r\n      } = this.userInfo;\r\n      let statusKey = '';\r\n      let btnText = '';\r\n      let btnLink = '';\r\n      let pass = true;\r\n      // 实名认证\r\n      const authentication = this.$t('otcRelease.authentication');\r\n      if (authLevel.toString() === '1') {\r\n        data.push({ text: authentication, flag: true, key: 'authLevel' });\r\n      } else {\r\n        data.push({ text: authentication, flag: false, key: 'authLevel' });\r\n        statusKey = 'authLevel';\r\n        // 去认证\r\n        btnText = this.$t('otcRelease.DeCertification');\r\n        btnLink = '/personal';\r\n        pass = false;\r\n      }\r\n      // 设置昵称\r\n      const SetNickname = this.$t('otcRelease.SetNickname');\r\n      if (nickName && nickName.length) {\r\n        data.push({ text: SetNickname, flag: true, key: 'nickName' });\r\n      } else {\r\n        data.push({ text: SetNickname, flag: false, key: 'nickName' });\r\n        if (!statusKey.length) {\r\n          statusKey = 'nickName';\r\n          // 去设置\r\n          btnText = this.$t('otcRelease.ToSetUp');\r\n          btnLink = '/personal/userManagement';\r\n          pass = false;\r\n        }\r\n      }\r\n      // 申请商户\r\n      if (otcCompanyInfo.status.toString() !== '0') {\r\n        // 请完成实名认证，设置昵称并申请成为商家才能发布广告\r\n        str = this.$t('otcRelease.jurisdictionTitle2');\r\n        const ApplicationMerchant = this.$t('otcRelease.ApplicationMerchant');\r\n        if (userCompanyInfo.status.toString() !== '0') {\r\n          data.push({ text: ApplicationMerchant, flag: true, key: 'companyInfo' });\r\n        } else {\r\n          data.push({ text: ApplicationMerchant, flag: false, key: 'companyInfo' });\r\n          if (!statusKey.length) {\r\n            statusKey = 'companyInfo';\r\n            // 去申请\r\n            btnText = this.$t('otcRelease.ToApply');\r\n            btnLink = '/companyApplication';\r\n            pass = false;\r\n          }\r\n        }\r\n      }\r\n      const obj = {\r\n        data,\r\n        str,\r\n        statusKey,\r\n        btnText,\r\n        btnLink,\r\n        pass,\r\n        flag: !!statusKey.length,\r\n      };\r\n      this.jurisdictionObj = obj;\r\n    },\r\n    inputLineChange(value, name) {\r\n      this[name] = value;\r\n    },\r\n    // 获取列表\r\n    getAccountList() {\r\n      this.axios({\r\n        url: '/finance/otc_account_list',\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          this.accountList = data.data.allCoinMap;\r\n        }\r\n      });\r\n    },\r\n    // 初始化 数字货币列表\r\n    initSymbolList() {\r\n      const list = [];\r\n      let { coinList } = this.market;\r\n\r\n      if (Array.isArray(coinList)) {\r\n        coinList = coinList.sort((a, b) => a.sort - b.sort);\r\n      }\r\n\r\n      Object.keys(coinList).forEach((item, index) => {\r\n        if (coinList[item].otcOpen) {\r\n          // getCoinShowName(obj.name, this.market.coinList)\r\n          list.push({ name: item, index: index + 1 });\r\n        }\r\n      });\r\n      this.symbolList = list;\r\n      this.initSymbol();\r\n    },\r\n    // 设置默认的数字货币\r\n    initSymbol() {\r\n      this.symbolList.forEach((item) => {\r\n        if (item.name === this.otcPublicInfo.defaultCoin) {\r\n          this.symbol = item.index;\r\n        }\r\n      });\r\n    },\r\n    // 初始化交易的法币\r\n    initLegalCurrencyList() {\r\n      const list = [];\r\n      this.otcPublicInfo.paycoins.forEach((item) => {\r\n        list.push({ value: item.title, code: item.key });\r\n      });\r\n      this.legalCurrency = this.otcPublicInfo.otcDefaultPaycoin;\r\n      this.legalCurrencyList = list;\r\n    },\r\n    // 初始化支付方式列表\r\n    initBuyPaysList() {\r\n      this.buyPaysList = this.otcPublicInfo.payments;\r\n    },\r\n    // 初始化收款方式列表\r\n    initSellPaysList() {\r\n      this.axios({\r\n        url: '/otc/payment/find',\r\n        hostType: 'otc',\r\n        params: { isOpen: '1' },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          const list = data.data;\r\n          const newList = [];\r\n          const obj = {};\r\n          if (this.excheifFlag) {\r\n            list.forEach((ele, i) => {\r\n              if (!obj[list[i].payment]) {\r\n                newList.push(list[i]);\r\n                obj[list[i].payment] = true;\r\n              }\r\n            });\r\n            this.sellPaysList = newList;\r\n          } else {\r\n            this.sellPaysList = list;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 重置 数量/定价方式/最小限额/最大限额/付款时限\r\n    reset() {\r\n      this.number = ''; // 重置数量\r\n      this.pricingMethod = '1'; // 重置定价方式\r\n      this.autoPrice = ''; // 重置自定义价格\r\n      this.minPrice = ''; // 重置最小限额\r\n      this.maxPrice = ''; // 重置最大限额\r\n      this.tradeTime = '5'; // 重置付款时限\r\n      this.frequency = '0'; // 重置交易次数\r\n      this.days = '30'; // 重置失效时间\r\n      this.myBuyPaysList = []; // 重置已选支付方式\r\n      this.mySellPaysList = []; // 重置已选收款方式\r\n      this.leavingText = ''; // 广告留言\r\n      this.reply = '';\r\n    },\r\n    // 切换币种\r\n    symbolChange(item) {\r\n      if (this.symbol === item.index) { return; }\r\n      this.symbol = item.index;\r\n      this.side = this.otcPublicInfo.defaultSeach; // 重置广告类型\r\n      this.legalCurrency = this.otcPublicInfo.otcDefaultPaycoin; // 重置法币\r\n      if (this.otcRateFlag && this.excheifFlag) {\r\n        this.setBlance();\r\n      }\r\n      this.reset();\r\n    },\r\n    // 切换广告类型\r\n    sideChange(name) {\r\n      this.side = name;\r\n      this.legalCurrency = this.otcPublicInfo.otcDefaultPaycoin; // 重置法币\r\n      this.reset();\r\n      if (this.otcRateFlag && this.excheifFlag) { this.setBlance(); }\r\n    },\r\n    // 切换法币\r\n    legalCurrencyChange(item) {\r\n      this.legalCurrency = item.code;\r\n      if (this.otcRateFlag && this.excheifFlag) {\r\n        this.setBlance();\r\n      }\r\n      this.reset();\r\n    },\r\n    // 切换溢价方向\r\n    precentMethodChange(item) {\r\n      this.pricentMethod = item.code;\r\n    },\r\n    // 切换定价方式\r\n    pricingMethodChange(item) {\r\n      this.pricingMethod = item.code;\r\n      this.autoPrice = this.nowPrice;\r\n      this.precent = '';\r\n      this.pricentMethod = '1';\r\n    },\r\n    // 溢价\r\n    barChange(num) {\r\n      this.barNum = Number(num);\r\n    },\r\n    // 切换失效时间\r\n    daysChange(item) {\r\n      this.days = item.code;\r\n    },\r\n    // 支付方式点击\r\n    buyPayClick(item) {\r\n      if (this.myBuyPaysList.indexOf(item.key) !== -1) {\r\n        this.myBuyPaysList.splice(this.myBuyPaysList.indexOf(item.key), 1);\r\n      } else {\r\n        if (this.myBuyPaysList.length >= 3) {\r\n          // 最多可以选择三种支付方式\r\n          this.$bus.$emit('tip', { text: this.$t('otcRelease.threePayment'), type: 'warning' });\r\n          return;\r\n        }\r\n        this.myBuyPaysList.push(item.key);\r\n      }\r\n    },\r\n    // 收款方式点击\r\n    sellPayClick(item) {\r\n      if (this.mySellPaysList.indexOf(item.payment) !== -1) {\r\n        this.mySellPaysList.splice(this.mySellPaysList.indexOf(item.payment), 1);\r\n      } else {\r\n        this.mySellPaysList.push(item.payment);\r\n      }\r\n    },\r\n    confirm() {\r\n      if (!this.jurisdictionObj.pass) {\r\n        this.jurisdictionObj.flag = true;\r\n        return;\r\n      }\r\n      let priceParams = {};\r\n      // 价格\r\n      if (this.pricingMethod === '1') {\r\n        priceParams = {\r\n          price: this.precentPrice,\r\n          priceRate: Math.abs(this.precent),\r\n          priceRateType: (this.pricentMethod === '1') ? 2 : 3,\r\n        };\r\n      } else {\r\n        priceParams = {\r\n          price: this.autoPrice,\r\n          priceRate: 0,\r\n          priceRateType: 0,\r\n        };\r\n      }\r\n      const payments = [];\r\n      if (this.side === 'SELL') {\r\n        this.mySellPaysList.forEach((item) => {\r\n          payments.push({\r\n            payment: item,\r\n          });\r\n        });\r\n      } else {\r\n        this.myBuyPaysList.forEach((item) => {\r\n          payments.push({\r\n            payment: item,\r\n          });\r\n        });\r\n      }\r\n      const params = {\r\n        coin: this.showSymbol, // 交易币种\r\n        side: this.side, // 方向\r\n        payCoin: this.legalCurrency, // 法币\r\n        volume: this.number, // 数量\r\n        ...priceParams, // 价格\r\n        minTrade: this.minPrice, // 最小限额\r\n        maxTrade: this.maxPrice, // 最大限额\r\n        limitTime: this.tradeTime, // 交易期限\r\n        dealVolume: this.frequency, // 交易次数\r\n        days: this.days, // 失效时间\r\n        payments,\r\n        description: this.leavingText,\r\n        autoReply: this.reply,\r\n      };\r\n      this.confirmLoading = true;\r\n      this.axios({\r\n        url: 'otc/wanted_save',\r\n        hostType: 'otc',\r\n        params,\r\n      }).then((data) => {\r\n        this.confirmLoading = false;\r\n        if (data.code.toString() === '0') {\r\n          this.successDialogFlag = true;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    successDialogConfirm() {\r\n      this.initData();\r\n      this.reset();\r\n      this.successDialogFlag = false;\r\n    },\r\n    successDialogClose() {\r\n      this.$router.push('/');\r\n    },\r\n    // 获取法币汇率列表及开关\r\n    getOtcRateList() {\r\n      this.axios({\r\n        url: this.$store.state.url.common.otc_fee_rate_list,\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          this.otcRateFlag = Number(data.data.otc_fee_rate_type) === 2;\r\n          this.otcRateList = data.data.otc_fee_rate_list;\r\n          if (this.otcRateFlag && this.excheifFlag) { this.setBlance(); }\r\n        }\r\n      });\r\n    },\r\n    // 获取对应法币汇率\r\n    setBlance() {\r\n      if (this.accountList && this.accountList.length\r\n      && typeof (this.symbol) === 'number'\r\n      && this.market && this.market.coinList\r\n      && this.otcPublicInfo && this.otcRateList) {\r\n        this.accountList.forEach((item) => {\r\n          if (item.coinSymbol === this.showSymbol) {\r\n            const { normal } = item;\r\n            let symbolRate = 0;\r\n            let fix = 0;\r\n            // 获取手续费\r\n            this.otcRateList.forEach((citem) => {\r\n              if (citem.symbol === this.showSymbol\r\n               && citem.fiatCoin === this.legalCurrency) { symbolRate = citem.rate; }\r\n            });\r\n            // 获取精度\r\n            Object.keys(this.market.coinList).forEach((citem) => {\r\n              const { showPrecision, name } = this.market.coinList[citem];\r\n              if (name === this.showSymbol) { fix = showPrecision; }\r\n            });\r\n            this.blance = fixD(normal / (1 + symbolRate), fix);\r\n          }\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n"]}]}