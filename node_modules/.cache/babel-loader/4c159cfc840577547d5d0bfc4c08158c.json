{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/assets/coAccount/coAccount.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/assets/coAccount/coAccount.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { fixD, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'page-coAccount',\n  data: function data() {\n    return {\n      showFlag: false,\n      tabelInfoData: [],\n      // 列表元素数据\n      detailsData: {},\n      // 账户详情\n      tabelLoading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      transferSide: '1',\n      transferValue: '',\n      dialogConfirmLoading: false,\n      // openContract:true,\n      // transStatus:0,\n      symbol: null,\n      // 开通合约交易弹框\n      openFuturesDialogShow: false\n    };\n  },\n  filters: {\n    fixDFn: function fixDFn(v, that) {\n      return fixD(v, that.detailsData.showPrecision);\n    }\n  },\n  watch: {\n    // 监听 用户配置信息\n    openContract: function openContract(val) {\n      if (!val) {\n        this.openFuturesDialogShow = true;\n      }\n    }\n  },\n  computed: {\n    // 是否开通合约\n    openContract: function openContract() {\n      if (this.$store.state.future) {\n        return this.$store.state.future.openContract;\n      }\n\n      return true;\n    },\n    // 是否被冻结\n    transStatus: function transStatus() {\n      if (this.$store.state.future) {\n        return this.$store.state.future.transStatus;\n      }\n\n      return true;\n    },\n    // 币种信息\n    marginCoinInfor: function marginCoinInfor() {\n      if (this.$store.state.future.marginCoinInfor) {\n        return this.$store.state.future.marginCoinInfor;\n      }\n\n      return {};\n    },\n    // 合约列表\n    contractList: function contractList() {\n      if (this.$store.state.future.contractList) {\n        return this.$store.state.future.contractList;\n      }\n\n      return [];\n    },\n    userInfo: function userInfo() {\n      if (this.$store.state.baseData.userInfo) {\n        return this.$store.state.baseData.userInfo;\n      }\n\n      return {};\n    },\n    // 表格数据\n    tableData: function tableData() {\n      var _this = this;\n\n      var arr = [];\n      this.tabelInfoData.forEach(function (item) {\n        var precision = _this.marginCoinInfor[item.symbol].marginCoinPrecision;\n        arr.push({\n          id: JSON.stringify(item),\n          data: [item.symbol, // 币种\n          fixD(item.canUseAmount, precision), // 可用s\n          fixD(item.totalAmount, precision), // 总资产\n          fixD(item.totalMargin, precision), // 全仓保证金\n          fixD(item.isolateMargin, precision), // 逐仓保证金\n          fixD(item.lockAmount, precision), // 冻结保证金\n          // fixD(item.realizedAmount, precision), // 已实现盈亏\n          // fixD(item.unRealizedAmount, precision), // 未实现盈亏\n          [{\n            type: _this.transStatus ? 'button' : 'label',\n            text: _this.$t('futures.coAccount.transfer'),\n            // 划转\n            eventType: 'clickDialog',\n            classes: [_this.transStatus ? '' : 'tableNownStyle tableTithDraw b-2-cl']\n          }]]\n        });\n      });\n      return arr;\n    },\n    // 表格title\n    columns: function columns() {\n      return [{\n        title: this.$t('futures.coAccount.coin'),\n        width: '5%'\n      }, // 币种\n      {\n        title: this.$t('futures.coAccount.canUser'),\n        width: '15%'\n      }, // 可用\n      {\n        title: this.$t('futures.coAccount.allBalance'),\n        width: '15%'\n      }, // 总资产\n      {\n        title: this.$t('futures.coAccount.allMargin'),\n        width: '15%'\n      }, // 全仓保证金\n      {\n        title: this.$t('futures.coAccount.subMargin'),\n        width: '15%'\n      }, // 逐仓保证金\n      {\n        title: this.$t('futures.coAccount.lockMargin'),\n        width: '15%'\n      }, // 冻结保证金\n      // { title: '已实现盈亏', width: '10%' }, // 已实现盈亏\n      // { title: '未实现盈亏', width: '10%' }, // 未实现盈亏s\n      {\n        title: this.$t('futures.coAccount.opera'),\n        width: '10%'\n      } // 未实现盈亏\n      ];\n    },\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    }\n  },\n  methods: {\n    init: function init() {\n      // 请求合约PublicInfo\n      this.$store.dispatch('getFutorePublicInfo');\n\n      if (!this.openContract) {\n        this.openFuturesDialogShow = true;\n      }\n\n      this.getDetailData();\n    },\n    getDetailData: function getDetailData() {\n      var _this2 = this;\n\n      this.axios({\n        url: 'position/get_assets_list',\n        hostType: 'co',\n        params: {\n          onlyAccount: 1\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          if (data.data.accountList.length) {\n            _this2.tabelInfoData = data.data.accountList;\n          }\n        }\n\n        _this2.tabelLoading = false;\n      });\n    },\n    tableClick: function tableClick(type, data) {\n      if (type === 'clickDialog') {\n        this.symbol = JSON.parse(data).symbol;\n        this.showFlag = true;\n      }\n    },\n    // 开通合约交易\n    submit: function submit() {\n      this.openFuturesDialogShow = false;\n      this.getDetailData();\n    },\n    // 关闭弹窗\n    closeDialog: function closeDialog(data) {\n      if (data) {\n        this.getDetailData();\n      } // 关闭开通合约交易弹框\n\n\n      this.openFuturesDialogShow = false;\n      this.showFlag = false;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/assets/coAccount/coAccount.js"],"names":["fixD","colorMap","imgMap","name","data","showFlag","tabelInfoData","detailsData","tabelLoading","transferSide","transferValue","dialogConfirmLoading","symbol","openFuturesDialogShow","filters","fixDFn","v","that","showPrecision","watch","openContract","val","computed","$store","state","future","transStatus","marginCoinInfor","contractList","userInfo","baseData","tableData","arr","forEach","item","precision","marginCoinPrecision","push","id","JSON","stringify","canUseAmount","totalAmount","totalMargin","isolateMargin","lockAmount","type","text","$t","eventType","classes","columns","title","width","market","methods","init","dispatch","getDetailData","axios","url","hostType","params","onlyAccount","then","code","toString","accountList","length","tableClick","parse","submit","closeDialog"],"mappings":";;AAAA,SACEA,IADF,EACQC,QADR,EACkBC,MADlB,QAEO,SAFP;AAIA,eAAe;AACbC,EAAAA,IAAI,EAAE,gBADO;AAEbC,EAAAA,IAFa,kBAEN;AACL,WAAO;AACLC,MAAAA,QAAQ,EAAE,KADL;AAELC,MAAAA,aAAa,EAAE,EAFV;AAEc;AACnBC,MAAAA,WAAW,EAAE,EAHR;AAGY;AACjBC,MAAAA,YAAY,EAAE,IAJT;AAKLN,MAAAA,MAAM,EAANA,MALK;AAMLD,MAAAA,QAAQ,EAARA,QANK;AAOLQ,MAAAA,YAAY,EAAE,GAPT;AAQLC,MAAAA,aAAa,EAAE,EARV;AASLC,MAAAA,oBAAoB,EAAE,KATjB;AAUL;AACA;AACAC,MAAAA,MAAM,EAAE,IAZH;AAaL;AACAC,MAAAA,qBAAqB,EAAE;AAdlB,KAAP;AAgBD,GAnBY;AAoBbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MADO,kBACAC,CADA,EACGC,IADH,EACS;AACd,aAAOjB,IAAI,CAACgB,CAAD,EAAIC,IAAI,CAACV,WAAL,CAAiBW,aAArB,CAAX;AACD;AAHM,GApBI;AAyBbC,EAAAA,KAAK,EAAE;AACL;AACAC,IAAAA,YAFK,wBAEQC,GAFR,EAEa;AAChB,UAAI,CAACA,GAAL,EAAU;AACR,aAAKR,qBAAL,GAA6B,IAA7B;AACD;AACF;AANI,GAzBM;AAkCbS,EAAAA,QAAQ,EAAE;AACR;AACAF,IAAAA,YAFQ,0BAEO;AACb,UAAI,KAAKG,MAAL,CAAYC,KAAZ,CAAkBC,MAAtB,EAA8B;AAC5B,eAAO,KAAKF,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBL,YAAhC;AACD;;AACD,aAAO,IAAP;AACD,KAPO;AAQR;AACAM,IAAAA,WATQ,yBASM;AACZ,UAAI,KAAKH,MAAL,CAAYC,KAAZ,CAAkBC,MAAtB,EAA8B;AAC5B,eAAO,KAAKF,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBC,WAAhC;AACD;;AACD,aAAO,IAAP;AACD,KAdO;AAeR;AACAC,IAAAA,eAhBQ,6BAgBU;AAChB,UAAI,KAAKJ,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBE,eAA7B,EAA8C;AAC5C,eAAO,KAAKJ,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBE,eAAhC;AACD;;AACD,aAAO,EAAP;AACD,KArBO;AAsBR;AACAC,IAAAA,YAvBQ,0BAuBO;AACb,UAAI,KAAKL,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBG,YAA7B,EAA2C;AACzC,eAAO,KAAKL,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBG,YAAhC;AACD;;AACD,aAAO,EAAP;AACD,KA5BO;AA6BRC,IAAAA,QA7BQ,sBA6BG;AACT,UAAI,KAAKN,MAAL,CAAYC,KAAZ,CAAkBM,QAAlB,CAA2BD,QAA/B,EAAyC;AACvC,eAAO,KAAKN,MAAL,CAAYC,KAAZ,CAAkBM,QAAlB,CAA2BD,QAAlC;AACD;;AACD,aAAO,EAAP;AACD,KAlCO;AAmCR;AACAE,IAAAA,SApCQ,uBAoCI;AAAA;;AACV,UAAMC,GAAG,GAAG,EAAZ;AACA,WAAK1B,aAAL,CAAmB2B,OAAnB,CAA2B,UAACC,IAAD,EAAU;AACnC,YAAMC,SAAS,GAAG,KAAI,CAACR,eAAL,CAAqBO,IAAI,CAACtB,MAA1B,EAAkCwB,mBAApD;AACAJ,QAAAA,GAAG,CAACK,IAAJ,CAAS;AACPC,UAAAA,EAAE,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CADG;AAEP9B,UAAAA,IAAI,EAAE,CACJ8B,IAAI,CAACtB,MADD,EACS;AACbZ,UAAAA,IAAI,CAACkC,IAAI,CAACO,YAAN,EAAoBN,SAApB,CAFA,EAEgC;AACpCnC,UAAAA,IAAI,CAACkC,IAAI,CAACQ,WAAN,EAAmBP,SAAnB,CAHA,EAG+B;AACnCnC,UAAAA,IAAI,CAACkC,IAAI,CAACS,WAAN,EAAmBR,SAAnB,CAJA,EAI+B;AACnCnC,UAAAA,IAAI,CAACkC,IAAI,CAACU,aAAN,EAAqBT,SAArB,CALA,EAKiC;AACrCnC,UAAAA,IAAI,CAACkC,IAAI,CAACW,UAAN,EAAkBV,SAAlB,CANA,EAM8B;AAClC;AACA;AACA,WACE;AACEW,YAAAA,IAAI,EAAE,KAAI,CAACpB,WAAL,GAAmB,QAAnB,GAA8B,OADtC;AAEEqB,YAAAA,IAAI,EAAE,KAAI,CAACC,EAAL,CAAQ,4BAAR,CAFR;AAE+C;AAC7CC,YAAAA,SAAS,EAAE,aAHb;AAIEC,YAAAA,OAAO,EAAE,CACP,KAAI,CAACxB,WAAL,GACI,EADJ,GAEI,qCAHG;AAJX,WADF,CATI;AAFC,SAAT;AAyBD,OA3BD;AA4BA,aAAOM,GAAP;AACD,KAnEO;AAoER;AACAmB,IAAAA,OArEQ,qBAqEE;AACR,aAAO,CACL;AAAEC,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,wBAAR,CAAT;AAA4CK,QAAAA,KAAK,EAAE;AAAnD,OADK,EACsD;AAC3D;AAAED,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,2BAAR,CAAT;AAA+CK,QAAAA,KAAK,EAAE;AAAtD,OAFK,EAE0D;AAC/D;AAAED,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,8BAAR,CAAT;AAAkDK,QAAAA,KAAK,EAAE;AAAzD,OAHK,EAG6D;AAClE;AAAED,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,6BAAR,CAAT;AAAiDK,QAAAA,KAAK,EAAE;AAAxD,OAJK,EAI4D;AACjE;AAAED,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,6BAAR,CAAT;AAAiDK,QAAAA,KAAK,EAAE;AAAxD,OALK,EAK4D;AACjE;AAAED,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,8BAAR,CAAT;AAAkDK,QAAAA,KAAK,EAAE;AAAzD,OANK,EAM6D;AAClE;AACA;AACA;AAAED,QAAAA,KAAK,EAAE,KAAKJ,EAAL,CAAQ,yBAAR,CAAT;AAA6CK,QAAAA,KAAK,EAAE;AAApD,OATK,CASwD;AATxD,OAAP;AAWD,KAjFO;AAkFR;AACAC,IAAAA,MAnFQ,oBAmFC;AAAE,aAAO,KAAK/B,MAAL,CAAYC,KAAZ,CAAkBM,QAAlB,CAA2BwB,MAAlC;AAA2C;AAnF9C,GAlCG;AAuHbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,IADO,kBACA;AACL;AACA,WAAKjC,MAAL,CAAYkC,QAAZ,CAAqB,qBAArB;;AACA,UAAI,CAAC,KAAKrC,YAAV,EAAwB;AACtB,aAAKP,qBAAL,GAA6B,IAA7B;AACD;;AACD,WAAK6C,aAAL;AACD,KARM;AASPA,IAAAA,aATO,2BASS;AAAA;;AACd,WAAKC,KAAL,CAAW;AACTC,QAAAA,GAAG,EAAE,0BADI;AAETC,QAAAA,QAAQ,EAAE,IAFD;AAGTC,QAAAA,MAAM,EAAE;AACNC,UAAAA,WAAW,EAAE;AADP;AAHC,OAAX,EAMGC,IANH,CAMQ,UAAC5D,IAAD,EAAU;AAChB,YAAIA,IAAI,CAAC6D,IAAL,CAAUC,QAAV,OAAyB,GAA7B,EAAkC;AAChC,cAAI9D,IAAI,CAACA,IAAL,CAAU+D,WAAV,CAAsBC,MAA1B,EAAkC;AAChC,YAAA,MAAI,CAAC9D,aAAL,GAAqBF,IAAI,CAACA,IAAL,CAAU+D,WAA/B;AACD;AACF;;AACD,QAAA,MAAI,CAAC3D,YAAL,GAAoB,KAApB;AACD,OAbD;AAcD,KAxBM;AAyBP6D,IAAAA,UAzBO,sBAyBIvB,IAzBJ,EAyBU1C,IAzBV,EAyBgB;AACrB,UAAI0C,IAAI,KAAK,aAAb,EAA4B;AAC1B,aAAKlC,MAAL,GAAc2B,IAAI,CAAC+B,KAAL,CAAWlE,IAAX,EAAiBQ,MAA/B;AACA,aAAKP,QAAL,GAAgB,IAAhB;AACD;AACF,KA9BM;AA+BP;AACAkE,IAAAA,MAhCO,oBAgCE;AACP,WAAK1D,qBAAL,GAA6B,KAA7B;AACA,WAAK6C,aAAL;AACD,KAnCM;AAoCP;AACAc,IAAAA,WArCO,uBAqCKpE,IArCL,EAqCW;AAChB,UAAIA,IAAJ,EAAU;AACR,aAAKsD,aAAL;AACD,OAHe,CAIhB;;;AACA,WAAK7C,qBAAL,GAA6B,KAA7B;AACA,WAAKR,QAAL,GAAgB,KAAhB;AACD;AA5CM;AAvHI,CAAf","sourcesContent":["import {\r\n  fixD, colorMap, imgMap,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'page-coAccount',\r\n  data() {\r\n    return {\r\n      showFlag: false,\r\n      tabelInfoData: [], // 列表元素数据\r\n      detailsData: {}, // 账户详情\r\n      tabelLoading: true,\r\n      imgMap,\r\n      colorMap,\r\n      transferSide: '1',\r\n      transferValue: '',\r\n      dialogConfirmLoading: false,\r\n      // openContract:true,\r\n      // transStatus:0,\r\n      symbol: null,\r\n      // 开通合约交易弹框\r\n      openFuturesDialogShow: false,\r\n    };\r\n  },\r\n  filters: {\r\n    fixDFn(v, that) {\r\n      return fixD(v, that.detailsData.showPrecision);\r\n    },\r\n  },\r\n  watch: {\r\n    // 监听 用户配置信息\r\n    openContract(val) {\r\n      if (!val) {\r\n        this.openFuturesDialogShow = true;\r\n      }\r\n    },\r\n\r\n  },\r\n  computed: {\r\n    // 是否开通合约\r\n    openContract() {\r\n      if (this.$store.state.future) {\r\n        return this.$store.state.future.openContract;\r\n      }\r\n      return true;\r\n    },\r\n    // 是否被冻结\r\n    transStatus() {\r\n      if (this.$store.state.future) {\r\n        return this.$store.state.future.transStatus;\r\n      }\r\n      return true;\r\n    },\r\n    // 币种信息\r\n    marginCoinInfor() {\r\n      if (this.$store.state.future.marginCoinInfor) {\r\n        return this.$store.state.future.marginCoinInfor;\r\n      }\r\n      return {};\r\n    },\r\n    // 合约列表\r\n    contractList() {\r\n      if (this.$store.state.future.contractList) {\r\n        return this.$store.state.future.contractList;\r\n      }\r\n      return [];\r\n    },\r\n    userInfo() {\r\n      if (this.$store.state.baseData.userInfo) {\r\n        return this.$store.state.baseData.userInfo;\r\n      }\r\n      return {};\r\n    },\r\n    // 表格数据\r\n    tableData() {\r\n      const arr = [];\r\n      this.tabelInfoData.forEach((item) => {\r\n        const precision = this.marginCoinInfor[item.symbol].marginCoinPrecision;\r\n        arr.push({\r\n          id: JSON.stringify(item),\r\n          data: [\r\n            item.symbol, // 币种\r\n            fixD(item.canUseAmount, precision), // 可用s\r\n            fixD(item.totalAmount, precision), // 总资产\r\n            fixD(item.totalMargin, precision), // 全仓保证金\r\n            fixD(item.isolateMargin, precision), // 逐仓保证金\r\n            fixD(item.lockAmount, precision), // 冻结保证金\r\n            // fixD(item.realizedAmount, precision), // 已实现盈亏\r\n            // fixD(item.unRealizedAmount, precision), // 未实现盈亏\r\n            [\r\n              {\r\n                type: this.transStatus ? 'button' : 'label',\r\n                text: this.$t('futures.coAccount.transfer'), // 划转\r\n                eventType: 'clickDialog',\r\n                classes: [\r\n                  this.transStatus\r\n                    ? ''\r\n                    : 'tableNownStyle tableTithDraw b-2-cl',\r\n                ],\r\n              },\r\n            ],\r\n          ],\r\n        });\r\n      });\r\n      return arr;\r\n    },\r\n    // 表格title\r\n    columns() {\r\n      return [\r\n        { title: this.$t('futures.coAccount.coin'), width: '5%' }, // 币种\r\n        { title: this.$t('futures.coAccount.canUser'), width: '15%' }, // 可用\r\n        { title: this.$t('futures.coAccount.allBalance'), width: '15%' }, // 总资产\r\n        { title: this.$t('futures.coAccount.allMargin'), width: '15%' }, // 全仓保证金\r\n        { title: this.$t('futures.coAccount.subMargin'), width: '15%' }, // 逐仓保证金\r\n        { title: this.$t('futures.coAccount.lockMargin'), width: '15%' }, // 冻结保证金\r\n        // { title: '已实现盈亏', width: '10%' }, // 已实现盈亏\r\n        // { title: '未实现盈亏', width: '10%' }, // 未实现盈亏s\r\n        { title: this.$t('futures.coAccount.opera'), width: '10%' }, // 未实现盈亏\r\n      ];\r\n    },\r\n    // market 接口\r\n    market() { return this.$store.state.baseData.market; },\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 请求合约PublicInfo\r\n      this.$store.dispatch('getFutorePublicInfo');\r\n      if (!this.openContract) {\r\n        this.openFuturesDialogShow = true;\r\n      }\r\n      this.getDetailData();\r\n    },\r\n    getDetailData() {\r\n      this.axios({\r\n        url: 'position/get_assets_list',\r\n        hostType: 'co',\r\n        params: {\r\n          onlyAccount: 1,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          if (data.data.accountList.length) {\r\n            this.tabelInfoData = data.data.accountList;\r\n          }\r\n        }\r\n        this.tabelLoading = false;\r\n      });\r\n    },\r\n    tableClick(type, data) {\r\n      if (type === 'clickDialog') {\r\n        this.symbol = JSON.parse(data).symbol;\r\n        this.showFlag = true;\r\n      }\r\n    },\r\n    // 开通合约交易\r\n    submit() {\r\n      this.openFuturesDialogShow = false;\r\n      this.getDetailData();\r\n    },\r\n    // 关闭弹窗\r\n    closeDialog(data) {\r\n      if (data) {\r\n        this.getDetailData();\r\n      }\r\n      // 关闭开通合约交易弹框\r\n      this.openFuturesDialogShow = false;\r\n      this.showFlag = false;\r\n    },\r\n  },\r\n};\r\n"]}]}