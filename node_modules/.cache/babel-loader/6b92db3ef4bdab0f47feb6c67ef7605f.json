{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/lowerInfo/lowerInfo.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/lowerInfo/lowerInfo.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { imgMap, colorMap, formatTime, fixD } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      loading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      dataList: [],\n      cellHeight: 55,\n      headHeight: 30,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // 数据相关\n      listPage: {\n        count: 0,\n        // 总条数\n        page: 1,\n        // 当前page\n        pageSize: 10 // 每页显示\n\n      },\n      startTime: '',\n      endTime: '',\n      uidValue: '',\n      phoneValue: '',\n      findFlagLoad: false\n    };\n  },\n  computed: {\n    startTimeNum: function startTimeNum() {\n      return (new Date(this.startTime.replace(/-/g, '/')).getTime() / 1000).toString();\n    },\n    endTimeNum: function endTimeNum() {\n      return (new Date(this.endTime.replace(/-/g, '/')).getTime() / 1000).toString();\n    },\n    startTimeText: function startTimeText() {\n      return this.$t('broker.startTime');\n    },\n    endTimeText: function endTimeText() {\n      return this.$t('freeStaking.myPos.endTime');\n    },\n    navTab: function navTab() {\n      return [{\n        name: this.$t('brokerSystem.commissionNavTab[0]'),\n        index: 1\n      }, {\n        name: this.$t('brokerSystem.commissionNavTab[1]'),\n        index: 2\n      }];\n    },\n    usdtFix: function usdtFix() {\n      var fix = 0;\n\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\n        fix = this.market.coinList.USDT.showPrecision;\n      }\n\n      return fix;\n    },\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    columns: function columns() {\n      return [{\n        title: this.$t('brokerSystem.lowerTable[0]'),\n        align: 'left',\n        width: '100px',\n        classes: ''\n      }, {\n        title: this.$t('brokerSystem.lowerTable[1]')\n      }, {\n        title: this.$t('brokerSystem.lowerTable[2]')\n      }, // {\n      //   title: this.$t('brokerSystem.lowerTable[3]'),\n      //   width: '100px',\n      // },\n      // {\n      //   title: this.$t('brokerSystem.lowerTable[4]'),\n      // },\n      {\n        title: this.$t('brokerSystem.lowerTable[5]')\n      }, {\n        title: this.$t('brokerSystem.lowerTable[6]'),\n        width: '100px'\n      }, {\n        title: this.$t('brokerSystem.commissionTable[1]'),\n        width: '100px'\n      }, {\n        title: this.$t('brokerSystem.lowerTable[7]'),\n        width: '150px',\n        align: 'right'\n      }];\n    }\n  },\n  methods: {\n    pagechange: function pagechange(v) {\n      this.listPage.page = v;\n      this.getDate();\n    },\n    init: function init() {\n      this.startTime = this.getNowTime(this.getMonth(-1));\n      this.endTime = this.getNowTime(this.getMonth(0));\n      this.getDate();\n    },\n    getFix: function getFix(v) {\n      var fix = 2;\n\n      if (this.market && this.market.coinList && this.market.coinList[v]) {\n        fix = this.market.coinList[v].showPrecision;\n      }\n\n      return fix;\n    },\n    getDate: function getDate() {\n      var _this = this;\n\n      this.axios({\n        url: 'co/agent/user_list',\n        hostType: 'fe-increment-api',\n        params: {\n          page: this.listPage.page,\n          pageSize: this.listPage.pageSize,\n          startDate: formatTime(new Date(this.startTime).getTime()),\n          endDate: formatTime(new Date(this.endTime).getTime()),\n          uid: this.uidValue || undefined,\n          username: this.phoneValue || undefined // coin: this.coin === 'all' ? undefined : this.coin,\n\n        }\n      }).then(function (data) {\n        _this.loading = false;\n\n        if (data.code.toString() === '0') {\n          _this.setDate(data.data.mapList);\n\n          _this.listPage.count = data.data.count;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    setDate: function setDate(data) {\n      var _this2 = this;\n\n      // this.loading2 = false;\n      var arr = [];\n      data.forEach(function (item, index) {\n        var fix = _this2.getFix(item.coin.toUpperCase());\n\n        arr.push({\n          id: index,\n          data: [item.time ? formatTime(item.time) : '--', // 时间\n          item.uid, // uid\n          item.username, // 手机号\n          // item.nickname || '--', // 姓名\n          // item.type === 0\n          //   ? this.$t('brokerSystem.lowerTableList[0]') // '直客'\n          //   : this.$t('brokerSystem.lowerTableList[1]'), // '子经纪', // 类型\n          item.source === 1 ? _this2.$t('brokerSystem.lowerTableList[2]') // '好友邀请'\n          : _this2.$t('brokerSystem.lowerTableList[3]'), // '红包邀请', // 邀请方式\n          // 给上级返佣类型\n          item.type === 0 ? _this2.$t('brokerSystem.lowerTableList[4]') // '返佣'\n          : _this2.$t('brokerSystem.lowerTableList[5]'), // '分佣'\n          item.coin, fixD(item.amount, fix) // 数额\n          ]\n        });\n      });\n      this.dataList = arr;\n    },\n    getMonth: function getMonth(n) {\n      var date = new Date();\n      return date.setMonth(date.getMonth() + n);\n    },\n    getNowTime: function getNowTime() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var date = new Date(time);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n    },\n    startTimeSelect: function startTimeSelect(v) {\n      this.startTime = v;\n      this.loading = true;\n      this.listPage.page = 1;\n      this.getDate();\n    },\n    endTimeSelect: function endTimeSelect(v) {\n      this.endTime = v;\n      this.loading = true;\n      this.listPage.page = 1;\n      this.getDate();\n    },\n    currentType: function currentType(data) {\n      this.currentTab = data.index;\n    },\n    inputChanges: function inputChanges(value, name) {\n      var _this3 = this;\n\n      this[name] = value;\n      var now = new Date().getTime();\n      this.findFlagLoad = now;\n      this.loading = true;\n      setTimeout(function () {\n        if (_this3.findFlagLoad === now) {\n          _this3.listPage.page = 1;\n\n          _this3.getDate();\n        }\n      }, 300);\n    }\n  }\n};",null]}