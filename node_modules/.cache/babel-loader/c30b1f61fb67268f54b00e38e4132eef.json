{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/market/market/market.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/market/market/market.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { myStorage } from '@/utils';\nexport default {\n  name: 'Market',\n  data: function data() {\n    return {\n      // 滚动条配置\n      ops: {\n        rail: {\n          gutterOfSide: '0px'\n        }\n      },\n      // 筛选 货币对\n      listfilter: null,\n      // 表格加载LOADING\n      tableLoading: true,\n      // 表格 超过 20条出现滚动条\n      lineNumber: 15,\n      // 表头 Class\n      headClasses: 'c-3-bg',\n      bodyClasses: 'c-4-bg',\n      klineDataList: {},\n      marketDataObj: [],\n      marketDataList: [],\n      marketDataList_bar: [],\n      marketCurrent: null,\n      MainAreaFilter: [],\n      // 主区币种\n      CreateAreaFilter: [],\n      // 创新区币种\n      SeeAreaFilter: [],\n      // 观察区币种\n      hideAreaFilter: [],\n      // 隐藏区币种,\n      unsealAreaFilter: [],\n      // 解封区币种\n      halveAreaFilter: [],\n      // 减半区币种\n      MainAreaData: [],\n      hideAreaData: [],\n      CreateAreaData: [],\n      SeeAreaData: [],\n      unsealAreaData: [],\n      halveAreaData: [],\n      sortValue: 'sort',\n      // 排序类型\n      sortSell: false,\n      // 排序方向 true-正序 false-倒序\n      hoverIndex: null,\n      blockKey: 'all'\n    };\n  },\n  props: {\n    dataList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  filters: {\n    sortIcon: function sortIcon(v, sortValue, sortSell) {\n      var str = '#icon-a_17';\n\n      if (v === sortValue) {\n        if (sortSell) {\n          str = '#icon-a_17_1';\n        } else {\n          str = '#icon-a_17_2';\n        }\n      }\n\n      return str;\n    }\n  },\n  computed: {\n    dataLength: function dataLength() {\n      var _this = this;\n\n      var len = 0;\n      this.tableData.forEach(function (item) {\n        if (_this.tableData.length > 1) {\n          len += 1;\n        }\n\n        item.data.forEach(function () {\n          len += 1;\n        });\n      });\n      return len;\n    },\n    templateLayoutType: function templateLayoutType() {\n      return this.$store.state.baseData.templateLayoutType;\n    },\n    tableHeight: function tableHeight() {\n      // const h = 300;\n      // const spk = 25; // 条数\n      // if (this.dataLength > 5 && this.dataLength < spk) {\n      //   h = 58 * this.dataLength;\n      // } else if (this.dataLength >= spk) {\n      //   h = 58 * spk;\n      // }\n      var boxHeight = document.body.clientHeight;\n\n      if (this.templateLayoutType === '2') {\n        return boxHeight - 120;\n      }\n\n      return boxHeight - 177;\n    },\n    tableData: function tableData() {\n      var _this2 = this;\n\n      var arr = [];\n      var result = [];\n\n      if (this.halveAreaData.length) {\n        var data = this.dataSort(this.halveAreaData);\n        arr.push({\n          title: this.$t('trade.halving'),\n          titleIndex: 0,\n          data: data\n        });\n      }\n\n      if (this.MainAreaData.length) {\n        var _data = this.dataSort(this.MainAreaData);\n\n        arr.push({\n          title: this.$t('trade.maincon'),\n          titleIndex: 1,\n          data: _data\n        });\n      }\n\n      if (this.CreateAreaData.length) {\n        var _data2 = this.dataSort(this.CreateAreaData);\n\n        arr.push({\n          title: this.$t('trade.newcon'),\n          titleIndex: 2,\n          data: _data2\n        });\n      }\n\n      if (this.SeeAreaData.length) {\n        var _data3 = this.dataSort(this.SeeAreaData);\n\n        arr.push({\n          title: this.$t('trade.seecon'),\n          titleIndex: 3,\n          data: _data3\n        });\n      }\n\n      if (this.unsealAreaData.length) {\n        var _data4 = this.dataSort(this.unsealAreaData);\n\n        arr.push({\n          title: this.$t('trade.unseal'),\n          data: _data4\n        });\n      }\n\n      arr.forEach(function (el) {\n        var item = el;\n        var data = el.data.filter(function (e) {\n          return e.isShow || _this2.listfilter || _this2.marketCurrent === 'myMarket';\n        });\n\n        if (data.length) {\n          item.data = data;\n          var newItem = item;\n          item.data.forEach(function (citem, index) {\n            newItem.data[index].etfOpen = _this2.symbolAll[citem.id].etfOpen; // citem.etfOpen\n          });\n          result.push(newItem);\n        }\n      });\n      return result;\n    },\n    // 表头\n    columns: function columns() {\n      return [{\n        title: this.$t('home.market'),\n        // 市场\n        key: 'sort',\n        sortable: true\n      }, {\n        title: this.$t('home.close'),\n        // 最新价\n        key: 'closes',\n        sortable: true\n      }, {\n        title: this.$t('home.applies'),\n        // 涨跌幅\n        key: 'roses',\n        sortable: true\n      }, {\n        title: this.$t('home.height') // 最高价\n\n      }, {\n        title: this.$t('home.low') // 最低价\n\n      }, {\n        title: this.$t('home.H_volume') // 24H成交量\n\n      }, {\n        title: this.$t('home.H_turnover') // 24小时成交额\n\n      }];\n    },\n    // 全部市场\n    marketAllList: function marketAllList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.marketSort;\n      }\n\n      return [];\n    },\n    // market\n    market: function market() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.market;\n      }\n\n      return {};\n    },\n    // 全部币对列表\n    symbolAll: function symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    // 全部币种列表\n    coinList: function coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    }\n  },\n  watch: {\n    market: function market(v) {\n      if (Object.keys(v).length) {\n        this.filterArea();\n      }\n    },\n    listfilter: function listfilter(val) {\n      var data = this.marketDataList_bar;\n\n      if (val) {\n        var reg = new RegExp(val, 'gim');\n        data = this.marketDataList_bar.filter(function (item) {\n          return item.showName.match(reg);\n        });\n      }\n\n      this.setData(data, true);\n    },\n    dataList: function dataList(val) {\n      this.tableLoading = false;\n      this.marketDataList_bar = val;\n      var data = val;\n\n      if (this.listfilter) {\n        var reg = new RegExp(this.listfilter, 'gim');\n        data = this.marketDataList_bar.filter(function (item) {\n          return item.showName.match(reg);\n        });\n      }\n\n      this.setData(data);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  methods: {\n    init: function init() {\n      this.marketCurrent = myStorage.get('homeMarkTitle');\n\n      if (Object.keys(this.market).length) {\n        this.filterArea();\n      }\n    },\n    enter: function enter(index) {\n      this.hoverIndex = index;\n    },\n    leave: function leave() {\n      this.hoverIndex = null;\n    },\n    lineClassesH: function lineClassesH(index) {\n      if (index === this.hoverIndex) {\n        return 'c-4-bg';\n      }\n\n      return '';\n    },\n    dataSort: function dataSort(v) {\n      var _this3 = this;\n\n      if (this.sortValue.length) {\n        return v.sort(function (a, b) {\n          var first = a;\n          var end = b;\n\n          if (_this3.sortSell) {\n            first = b;\n            end = a;\n          }\n\n          switch (_this3.sortValue) {\n            case 'roses':\n              return (parseFloat(first.data[2][0].sortVal) || 0) - (parseFloat(end.data[2][0].sortVal) || 0);\n\n            case 'closes':\n              return (parseFloat(first.data[1][0].sortVal) || 0) - (parseFloat(end.data[1][0].sortVal) || 0);\n\n            default:\n              return (parseFloat(first.data[0][1].sortVal) || 0) - (parseFloat(end.data[0][1].sortVal) || 0);\n          }\n        });\n      }\n\n      return v;\n    },\n    sort: function sort(v) {\n      if (this.tableLoading) return;\n      if (!v.sortable) return;\n\n      if (this.sortValue !== v.key) {\n        this.sortValue = v.key;\n        this.sortSell = true;\n      } else {\n        this.sortSell = !this.sortSell;\n      }\n    },\n    setData: function setData(val) {\n      var _this4 = this;\n\n      var isSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var MainArea = []; // 主区\n\n      var CreateArea = []; // 创新区\n\n      var SeeArea = []; // 观察区\n\n      var hideArea = []; // 隐藏区\n\n      var unsealArea = []; // 解封区\n\n      var halveArea = []; // 减半区\n\n      val.forEach(function (item) {\n        if (_this4.MainAreaFilter.indexOf(item.id) !== -1) {\n          MainArea.push(item);\n        }\n\n        if (_this4.CreateAreaFilter.indexOf(item.id) !== -1) {\n          CreateArea.push(item);\n        }\n\n        if (_this4.SeeAreaFilter.indexOf(item.id) !== -1) {\n          SeeArea.push(item);\n        }\n\n        if (_this4.hideAreaFilter.indexOf(item.id) !== -1) {\n          hideArea.push(item);\n        }\n\n        if (_this4.unsealAreaFilter.indexOf(item.id) !== -1 && !isSearch) {\n          unsealArea.push(item);\n        }\n\n        if (_this4.halveAreaFilter.indexOf(item.id) !== -1) {\n          halveArea.push(item);\n        }\n      });\n      this.MainAreaData = MainArea;\n      this.CreateAreaData = CreateArea;\n      this.SeeAreaData = SeeArea;\n      this.hideAreaData = hideArea;\n      this.unsealAreaData = unsealArea;\n      this.halveAreaData = halveArea;\n    },\n    filterArea: function filterArea() {\n      var _this5 = this;\n\n      var MainAreaFilter = []; // 主区币种\n\n      var CreateAreaFilter = []; // 创新区币种\n\n      var SeeAreaFilter = []; // 观察区币种\n\n      var hideAreaFilter = []; // 隐藏区币种\n\n      var unsealAreaFilter = []; // 解封区币种\n\n      var halveAreaFilter = []; // 减半区币种\n\n      Object.keys(this.market).forEach(function (item) {\n        Object.keys(_this5.market[item]).forEach(function (citem) {\n          var _this5$market$item$ci = _this5.market[item][citem],\n              newcoinFlag = _this5$market$item$ci.newcoinFlag,\n              name = _this5$market$item$ci.name; // 解封区\n\n          if (_this5.coinList[name.split('/')[0]] && _this5.coinList[name.split('/')[0]].isOvercharge && _this5.coinList[name.split('/')[0]].isOvercharge.toString() === '1') {\n            unsealAreaFilter.push(citem);\n          } else if (newcoinFlag === 1) {\n            // 创新区\n            CreateAreaFilter.push(citem); // 观察区\n          } else if (newcoinFlag === 2) {\n            SeeAreaFilter.push(citem);\n          } else if (newcoinFlag === 0) {\n            MainAreaFilter.push(citem);\n          } else if (newcoinFlag === 3) {\n            halveAreaFilter.push(citem);\n          }\n        });\n      });\n      this.MainAreaFilter = MainAreaFilter;\n      this.CreateAreaFilter = CreateAreaFilter;\n      this.SeeAreaFilter = SeeAreaFilter;\n      this.hideAreaFilter = hideAreaFilter;\n      this.unsealAreaFilter = unsealAreaFilter;\n      this.halveAreaFilter = halveAreaFilter;\n    },\n    marketClick: function marketClick(symbol) {\n      this.$bus.$emit('SWITCH-STORE', symbol);\n    },\n    // 切换市场\n    switchMarket: function switchMarket(data) {\n      if (this.tableLoading) return;\n      this.listfilter = null;\n      this.marketCurrent = data;\n      this.tableLoading = true;\n      this.blockKey = 'all';\n\n      if (data !== 'myMarket') {\n        myStorage.set('homeMarkTitle', data);\n      }\n\n      this.$bus.$emit('SWITCH-MARKET', data);\n    },\n    bandLink: function bandLink(data) {\n      this.$bus.$emit('SWITCH-SYMBOL', data);\n      myStorage.set('sSymbolName', data);\n      myStorage.set('markTitle', data.split('/')[1]);\n    },\n    // 切换 区\n    switchKey: function switchKey(type) {\n      this.blockKey = type;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/market/market/market.js"],"names":["myStorage","name","data","ops","rail","gutterOfSide","listfilter","tableLoading","lineNumber","headClasses","bodyClasses","klineDataList","marketDataObj","marketDataList","marketDataList_bar","marketCurrent","MainAreaFilter","CreateAreaFilter","SeeAreaFilter","hideAreaFilter","unsealAreaFilter","halveAreaFilter","MainAreaData","hideAreaData","CreateAreaData","SeeAreaData","unsealAreaData","halveAreaData","sortValue","sortSell","hoverIndex","blockKey","props","dataList","type","Array","default","filters","sortIcon","v","str","computed","dataLength","len","tableData","forEach","item","length","templateLayoutType","$store","state","baseData","tableHeight","boxHeight","document","body","clientHeight","arr","result","dataSort","push","title","$t","titleIndex","el","filter","e","isShow","newItem","citem","index","etfOpen","symbolAll","id","columns","key","sortable","marketAllList","market","marketSort","coinList","watch","Object","keys","filterArea","val","reg","RegExp","showName","match","setData","beforeDestroy","clearInterval","timer","methods","init","get","enter","leave","lineClassesH","sort","a","b","first","end","parseFloat","sortVal","isSearch","MainArea","CreateArea","SeeArea","hideArea","unsealArea","halveArea","indexOf","newcoinFlag","split","isOvercharge","toString","marketClick","symbol","$bus","$emit","switchMarket","set","bandLink","switchKey"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,QADO;AAEbC,EAAAA,IAFa,kBAEN;AACL,WAAO;AACL;AACAC,MAAAA,GAAG,EAAE;AACHC,QAAAA,IAAI,EAAE;AACJC,UAAAA,YAAY,EAAE;AADV;AADH,OAFA;AAOL;AACAC,MAAAA,UAAU,EAAE,IARP;AASL;AACAC,MAAAA,YAAY,EAAE,IAVT;AAWL;AACAC,MAAAA,UAAU,EAAE,EAZP;AAaL;AACAC,MAAAA,WAAW,EAAE,QAdR;AAeLC,MAAAA,WAAW,EAAE,QAfR;AAgBLC,MAAAA,aAAa,EAAE,EAhBV;AAiBLC,MAAAA,aAAa,EAAE,EAjBV;AAkBLC,MAAAA,cAAc,EAAE,EAlBX;AAmBLC,MAAAA,kBAAkB,EAAE,EAnBf;AAoBLC,MAAAA,aAAa,EAAE,IApBV;AAqBLC,MAAAA,cAAc,EAAE,EArBX;AAqBe;AACpBC,MAAAA,gBAAgB,EAAE,EAtBb;AAsBiB;AACtBC,MAAAA,aAAa,EAAE,EAvBV;AAuBc;AACnBC,MAAAA,cAAc,EAAE,EAxBX;AAwBe;AACpBC,MAAAA,gBAAgB,EAAE,EAzBb;AAyBiB;AACtBC,MAAAA,eAAe,EAAE,EA1BZ;AA0BgB;AACrBC,MAAAA,YAAY,EAAE,EA3BT;AA4BLC,MAAAA,YAAY,EAAE,EA5BT;AA6BLC,MAAAA,cAAc,EAAE,EA7BX;AA8BLC,MAAAA,WAAW,EAAE,EA9BR;AA+BLC,MAAAA,cAAc,EAAE,EA/BX;AAgCLC,MAAAA,aAAa,EAAE,EAhCV;AAiCLC,MAAAA,SAAS,EAAE,MAjCN;AAiCc;AACnBC,MAAAA,QAAQ,EAAE,KAlCL;AAkCY;AACjBC,MAAAA,UAAU,EAAE,IAnCP;AAoCLC,MAAAA,QAAQ,EAAE;AApCL,KAAP;AAsCD,GAzCY;AA0CbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,IAAI,EAAEC,KADE;AAERC,MAAAA,OAAO,EAAE;AAAA,eAAM,EAAN;AAAA;AAFD;AADL,GA1CM;AAgDbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,oBACEC,CADF,EACKX,SADL,EACgBC,QADhB,EAC0B;AAC/B,UAAIW,GAAG,GAAG,YAAV;;AACA,UAAID,CAAC,KAAKX,SAAV,EAAqB;AACnB,YAAIC,QAAJ,EAAc;AACZW,UAAAA,GAAG,GAAG,cAAN;AACD,SAFD,MAEO;AACLA,UAAAA,GAAG,GAAG,cAAN;AACD;AACF;;AACD,aAAOA,GAAP;AACD;AAXM,GAhDI;AA6DbC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UADQ,wBACK;AAAA;;AACX,UAAIC,GAAG,GAAG,CAAV;AACA,WAAKC,SAAL,CAAeC,OAAf,CAAuB,UAACC,IAAD,EAAU;AAC/B,YAAI,KAAI,CAACF,SAAL,CAAeG,MAAf,GAAwB,CAA5B,EAA+B;AAC7BJ,UAAAA,GAAG,IAAI,CAAP;AACD;;AACDG,QAAAA,IAAI,CAAC5C,IAAL,CAAU2C,OAAV,CAAkB,YAAM;AACtBF,UAAAA,GAAG,IAAI,CAAP;AACD,SAFD;AAGD,OAPD;AAQA,aAAOA,GAAP;AACD,KAZO;AAaRK,IAAAA,kBAbQ,gCAaa;AACnB,aAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2BH,kBAAlC;AACD,KAfO;AAgBRI,IAAAA,WAhBQ,yBAgBM;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAMC,SAAS,GAAGC,QAAQ,CAACC,IAAT,CAAcC,YAAhC;;AACA,UAAI,KAAKR,kBAAL,KAA4B,GAAhC,EAAqC;AACnC,eAAOK,SAAS,GAAG,GAAnB;AACD;;AACD,aAAOA,SAAS,GAAG,GAAnB;AACD,KA7BO;AA8BRT,IAAAA,SA9BQ,uBA8BI;AAAA;;AACV,UAAMa,GAAG,GAAG,EAAZ;AACA,UAAMC,MAAM,GAAG,EAAf;;AACA,UAAI,KAAK/B,aAAL,CAAmBoB,MAAvB,EAA+B;AAC7B,YAAM7C,IAAI,GAAG,KAAKyD,QAAL,CAAc,KAAKhC,aAAnB,CAAb;AACA8B,QAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,UAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,eAAR,CADA;AAEPC,UAAAA,UAAU,EAAE,CAFL;AAGP7D,UAAAA,IAAI,EAAJA;AAHO,SAAT;AAKD;;AACD,UAAI,KAAKoB,YAAL,CAAkByB,MAAtB,EAA8B;AAC5B,YAAM7C,KAAI,GAAG,KAAKyD,QAAL,CAAc,KAAKrC,YAAnB,CAAb;;AACAmC,QAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,UAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,eAAR,CADA;AAEPC,UAAAA,UAAU,EAAE,CAFL;AAGP7D,UAAAA,IAAI,EAAJA;AAHO,SAAT;AAKD;;AACD,UAAI,KAAKsB,cAAL,CAAoBuB,MAAxB,EAAgC;AAC9B,YAAM7C,MAAI,GAAG,KAAKyD,QAAL,CAAc,KAAKnC,cAAnB,CAAb;;AACAiC,QAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,UAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,cAAR,CADA;AAEPC,UAAAA,UAAU,EAAE,CAFL;AAGP7D,UAAAA,IAAI,EAAJA;AAHO,SAAT;AAKD;;AACD,UAAI,KAAKuB,WAAL,CAAiBsB,MAArB,EAA6B;AAC3B,YAAM7C,MAAI,GAAG,KAAKyD,QAAL,CAAc,KAAKlC,WAAnB,CAAb;;AACAgC,QAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,UAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,cAAR,CADA;AAEPC,UAAAA,UAAU,EAAE,CAFL;AAGP7D,UAAAA,IAAI,EAAJA;AAHO,SAAT;AAKD;;AACD,UAAI,KAAKwB,cAAL,CAAoBqB,MAAxB,EAAgC;AAC9B,YAAM7C,MAAI,GAAG,KAAKyD,QAAL,CAAc,KAAKjC,cAAnB,CAAb;;AACA+B,QAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,UAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,cAAR,CADA;AAEP5D,UAAAA,IAAI,EAAJA;AAFO,SAAT;AAID;;AACDuD,MAAAA,GAAG,CAACZ,OAAJ,CAAY,UAACmB,EAAD,EAAQ;AAClB,YAAMlB,IAAI,GAAGkB,EAAb;AACA,YAAM9D,IAAI,GAAG8D,EAAE,CAAC9D,IAAH,CAAQ+D,MAAR,CAAe,UAACC,CAAD;AAAA,iBAAOA,CAAC,CAACC,MAAF,IAAY,MAAI,CAAC7D,UAAjB,IAA+B,MAAI,CAACS,aAAL,KAAuB,UAA7D;AAAA,SAAf,CAAb;;AAEA,YAAIb,IAAI,CAAC6C,MAAT,EAAiB;AACfD,UAAAA,IAAI,CAAC5C,IAAL,GAAYA,IAAZ;AACA,cAAMkE,OAAO,GAAGtB,IAAhB;AACAA,UAAAA,IAAI,CAAC5C,IAAL,CAAU2C,OAAV,CAAkB,UAACwB,KAAD,EAAQC,KAAR,EAAkB;AAClCF,YAAAA,OAAO,CAAClE,IAAR,CAAaoE,KAAb,EAAoBC,OAApB,GAA8B,MAAI,CAACC,SAAL,CAAeH,KAAK,CAACI,EAArB,EAAyBF,OAAvD,CADkC,CAElC;AACD,WAHD;AAIAb,UAAAA,MAAM,CAACE,IAAP,CAAYQ,OAAZ;AACD;AACF,OAbD;AAcA,aAAOV,MAAP;AACD,KAvFO;AAwFR;AACAgB,IAAAA,OAzFQ,qBAyFE;AACR,aAAO,CACL;AACEb,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,aAAR,CADT;AACiC;AAC/Ba,QAAAA,GAAG,EAAE,MAFP;AAGEC,QAAAA,QAAQ,EAAE;AAHZ,OADK,EAML;AACEf,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,YAAR,CADT;AACgC;AAC9Ba,QAAAA,GAAG,EAAE,QAFP;AAGEC,QAAAA,QAAQ,EAAE;AAHZ,OANK,EAWL;AACEf,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,cAAR,CADT;AACkC;AAChCa,QAAAA,GAAG,EAAE,OAFP;AAGEC,QAAAA,QAAQ,EAAE;AAHZ,OAXK,EAgBL;AACEf,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,aAAR,CADT,CACiC;;AADjC,OAhBK,EAmBL;AACED,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,UAAR,CADT,CAC8B;;AAD9B,OAnBK,EAsBL;AACED,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,eAAR,CADT,CACmC;;AADnC,OAtBK,EAyBL;AACED,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR,CADT,CACqC;;AADrC,OAzBK,CAAP;AA6BD,KAvHO;AAwHR;AACAe,IAAAA,aAzHQ,2BAyHQ;AACd,UAAI,KAAK5B,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2B2B,MAA/B,EAAuC;AACrC,eAAO,KAAK7B,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2B2B,MAA3B,CAAkCC,UAAzC;AACD;;AACD,aAAO,EAAP;AACD,KA9HO;AA+HR;AACAD,IAAAA,MAhIQ,oBAgIC;AACP,UAAI,KAAK7B,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2B2B,MAA/B,EAAuC;AACrC,eAAO,KAAK7B,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2B2B,MAA3B,CAAkCA,MAAzC;AACD;;AACD,aAAO,EAAP;AACD,KArIO;AAsIR;AACAN,IAAAA,SAvIQ,uBAuII;AACV,aAAO,KAAKvB,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2BqB,SAAlC;AACD,KAzIO;AA0IR;AACAQ,IAAAA,QA3IQ,sBA2IG;AACT,UAAI,KAAK/B,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,IAA8B,KAAKF,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2B2B,MAA7D,EAAqE;AACnE,eAAO,KAAK7B,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2B2B,MAA3B,CAAkCE,QAAzC;AACD;;AACD,aAAO,IAAP;AACD;AAhJO,GA7DG;AA+MbC,EAAAA,KAAK,EAAE;AACLH,IAAAA,MADK,kBACEvC,CADF,EACK;AACR,UAAI2C,MAAM,CAACC,IAAP,CAAY5C,CAAZ,EAAeQ,MAAnB,EAA2B;AACzB,aAAKqC,UAAL;AACD;AACF,KALI;AAML9E,IAAAA,UANK,sBAMM+E,GANN,EAMW;AACd,UAAInF,IAAI,GAAG,KAAKY,kBAAhB;;AACA,UAAIuE,GAAJ,EAAS;AACP,YAAMC,GAAG,GAAG,IAAIC,MAAJ,CAAWF,GAAX,EAAgB,KAAhB,CAAZ;AACAnF,QAAAA,IAAI,GAAG,KAAKY,kBAAL,CAAwBmD,MAAxB,CAA+B,UAACnB,IAAD;AAAA,iBAAUA,IAAI,CAAC0C,QAAL,CAAcC,KAAd,CAAoBH,GAApB,CAAV;AAAA,SAA/B,CAAP;AACD;;AACD,WAAKI,OAAL,CAAaxF,IAAb,EAAmB,IAAnB;AACD,KAbI;AAcL+B,IAAAA,QAdK,oBAcIoD,GAdJ,EAcS;AACZ,WAAK9E,YAAL,GAAoB,KAApB;AACA,WAAKO,kBAAL,GAA0BuE,GAA1B;AACA,UAAInF,IAAI,GAAGmF,GAAX;;AACA,UAAI,KAAK/E,UAAT,EAAqB;AACnB,YAAMgF,GAAG,GAAG,IAAIC,MAAJ,CAAW,KAAKjF,UAAhB,EAA4B,KAA5B,CAAZ;AACAJ,QAAAA,IAAI,GAAG,KAAKY,kBAAL,CAAwBmD,MAAxB,CAA+B,UAACnB,IAAD;AAAA,iBAAUA,IAAI,CAAC0C,QAAL,CAAcC,KAAd,CAAoBH,GAApB,CAAV;AAAA,SAA/B,CAAP;AACD;;AACD,WAAKI,OAAL,CAAaxF,IAAb;AACD;AAvBI,GA/MM;AAwObyF,EAAAA,aAxOa,2BAwOG;AACdC,IAAAA,aAAa,CAAC,KAAKC,KAAN,CAAb;AACD,GA1OY;AA2ObC,EAAAA,OAAO,EAAE;AACPC,IAAAA,IADO,kBACA;AACL,WAAKhF,aAAL,GAAqBf,SAAS,CAACgG,GAAV,CAAc,eAAd,CAArB;;AACA,UAAId,MAAM,CAACC,IAAP,CAAY,KAAKL,MAAjB,EAAyB/B,MAA7B,EAAqC;AACnC,aAAKqC,UAAL;AACD;AACF,KANM;AAOPa,IAAAA,KAPO,iBAOD3B,KAPC,EAOM;AACX,WAAKxC,UAAL,GAAkBwC,KAAlB;AACD,KATM;AAUP4B,IAAAA,KAVO,mBAUC;AACN,WAAKpE,UAAL,GAAkB,IAAlB;AACD,KAZM;AAaPqE,IAAAA,YAbO,wBAaM7B,KAbN,EAaa;AAClB,UAAIA,KAAK,KAAK,KAAKxC,UAAnB,EAA+B;AAC7B,eAAO,QAAP;AACD;;AACD,aAAO,EAAP;AACD,KAlBM;AAmBP6B,IAAAA,QAnBO,oBAmBEpB,CAnBF,EAmBK;AAAA;;AACV,UAAI,KAAKX,SAAL,CAAemB,MAAnB,EAA2B;AACzB,eAAOR,CAAC,CAAC6D,IAAF,CAAO,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACtB,cAAIC,KAAK,GAAGF,CAAZ;AACA,cAAIG,GAAG,GAAGF,CAAV;;AACA,cAAI,MAAI,CAACzE,QAAT,EAAmB;AACjB0E,YAAAA,KAAK,GAAGD,CAAR;AACAE,YAAAA,GAAG,GAAGH,CAAN;AACD;;AACD,kBAAQ,MAAI,CAACzE,SAAb;AACE,iBAAK,OAAL;AACE,qBAAO,CAAC6E,UAAU,CAACF,KAAK,CAACrG,IAAN,CAAW,CAAX,EAAc,CAAd,EAAiBwG,OAAlB,CAAV,IAAwC,CAAzC,KACFD,UAAU,CAACD,GAAG,CAACtG,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAewG,OAAhB,CAAV,IAAsC,CADpC,CAAP;;AAEF,iBAAK,QAAL;AACE,qBAAO,CAACD,UAAU,CAACF,KAAK,CAACrG,IAAN,CAAW,CAAX,EAAc,CAAd,EAAiBwG,OAAlB,CAAV,IAAwC,CAAzC,KACFD,UAAU,CAACD,GAAG,CAACtG,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAewG,OAAhB,CAAV,IAAsC,CADpC,CAAP;;AAEF;AACE,qBAAO,CAACD,UAAU,CAACF,KAAK,CAACrG,IAAN,CAAW,CAAX,EAAc,CAAd,EAAiBwG,OAAlB,CAAV,IAAwC,CAAzC,KACFD,UAAU,CAACD,GAAG,CAACtG,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAewG,OAAhB,CAAV,IAAsC,CADpC,CAAP;AARJ;AAWD,SAlBM,CAAP;AAmBD;;AACD,aAAOnE,CAAP;AACD,KA1CM;AA2CP6D,IAAAA,IA3CO,gBA2CF7D,CA3CE,EA2CC;AACN,UAAI,KAAKhC,YAAT,EAAuB;AACvB,UAAI,CAACgC,CAAC,CAACqC,QAAP,EAAiB;;AACjB,UAAI,KAAKhD,SAAL,KAAmBW,CAAC,CAACoC,GAAzB,EAA8B;AAC5B,aAAK/C,SAAL,GAAiBW,CAAC,CAACoC,GAAnB;AACA,aAAK9C,QAAL,GAAgB,IAAhB;AACD,OAHD,MAGO;AACL,aAAKA,QAAL,GAAgB,CAAC,KAAKA,QAAtB;AACD;AACF,KApDM;AAqDP6D,IAAAA,OArDO,mBAqDCL,GArDD,EAqDwB;AAAA;;AAAA,UAAlBsB,QAAkB,uEAAP,KAAO;AAC7B,UAAMC,QAAQ,GAAG,EAAjB,CAD6B,CACR;;AACrB,UAAMC,UAAU,GAAG,EAAnB,CAF6B,CAEN;;AACvB,UAAMC,OAAO,GAAG,EAAhB,CAH6B,CAGT;;AACpB,UAAMC,QAAQ,GAAG,EAAjB,CAJ6B,CAIR;;AACrB,UAAMC,UAAU,GAAG,EAAnB,CAL6B,CAKN;;AACvB,UAAMC,SAAS,GAAG,EAAlB,CAN6B,CAMP;;AACtB5B,MAAAA,GAAG,CAACxC,OAAJ,CAAY,UAACC,IAAD,EAAU;AACpB,YAAI,MAAI,CAAC9B,cAAL,CAAoBkG,OAApB,CAA4BpE,IAAI,CAAC2B,EAAjC,MAAyC,CAAC,CAA9C,EAAiD;AAC/CmC,UAAAA,QAAQ,CAAChD,IAAT,CAAcd,IAAd;AACD;;AACD,YAAI,MAAI,CAAC7B,gBAAL,CAAsBiG,OAAtB,CAA8BpE,IAAI,CAAC2B,EAAnC,MAA2C,CAAC,CAAhD,EAAmD;AACjDoC,UAAAA,UAAU,CAACjD,IAAX,CAAgBd,IAAhB;AACD;;AACD,YAAI,MAAI,CAAC5B,aAAL,CAAmBgG,OAAnB,CAA2BpE,IAAI,CAAC2B,EAAhC,MAAwC,CAAC,CAA7C,EAAgD;AAC9CqC,UAAAA,OAAO,CAAClD,IAAR,CAAad,IAAb;AACD;;AACD,YAAI,MAAI,CAAC3B,cAAL,CAAoB+F,OAApB,CAA4BpE,IAAI,CAAC2B,EAAjC,MAAyC,CAAC,CAA9C,EAAiD;AAC/CsC,UAAAA,QAAQ,CAACnD,IAAT,CAAcd,IAAd;AACD;;AACD,YAAI,MAAI,CAAC1B,gBAAL,CAAsB8F,OAAtB,CAA8BpE,IAAI,CAAC2B,EAAnC,MAA2C,CAAC,CAA5C,IAAiD,CAACkC,QAAtD,EAAgE;AAC9DK,UAAAA,UAAU,CAACpD,IAAX,CAAgBd,IAAhB;AACD;;AACD,YAAI,MAAI,CAACzB,eAAL,CAAqB6F,OAArB,CAA6BpE,IAAI,CAAC2B,EAAlC,MAA0C,CAAC,CAA/C,EAAkD;AAChDwC,UAAAA,SAAS,CAACrD,IAAV,CAAed,IAAf;AACD;AACF,OAnBD;AAoBA,WAAKxB,YAAL,GAAoBsF,QAApB;AACA,WAAKpF,cAAL,GAAsBqF,UAAtB;AACA,WAAKpF,WAAL,GAAmBqF,OAAnB;AACA,WAAKvF,YAAL,GAAoBwF,QAApB;AACA,WAAKrF,cAAL,GAAsBsF,UAAtB;AACA,WAAKrF,aAAL,GAAqBsF,SAArB;AACD,KAtFM;AAuFP7B,IAAAA,UAvFO,wBAuFM;AAAA;;AACX,UAAMpE,cAAc,GAAG,EAAvB,CADW,CACgB;;AAC3B,UAAMC,gBAAgB,GAAG,EAAzB,CAFW,CAEkB;;AAC7B,UAAMC,aAAa,GAAG,EAAtB,CAHW,CAGe;;AAC1B,UAAMC,cAAc,GAAG,EAAvB,CAJW,CAIgB;;AAC3B,UAAMC,gBAAgB,GAAG,EAAzB,CALW,CAKkB;;AAC7B,UAAMC,eAAe,GAAG,EAAxB,CANW,CAMiB;;AAC5B6D,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKL,MAAjB,EAAyBjC,OAAzB,CAAiC,UAACC,IAAD,EAAU;AACzCoC,QAAAA,MAAM,CAACC,IAAP,CAAY,MAAI,CAACL,MAAL,CAAYhC,IAAZ,CAAZ,EAA+BD,OAA/B,CAAuC,UAACwB,KAAD,EAAW;AAChD,sCAA8B,MAAI,CAACS,MAAL,CAAYhC,IAAZ,EAAkBuB,KAAlB,CAA9B;AAAA,cAAQ8C,WAAR,yBAAQA,WAAR;AAAA,cAAqBlH,IAArB,yBAAqBA,IAArB,CADgD,CAEhD;;AACA,cAAI,MAAI,CAAC+E,QAAL,CAAc/E,IAAI,CAACmH,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAd,KACG,MAAI,CAACpC,QAAL,CAAc/E,IAAI,CAACmH,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAd,EAAkCC,YADrC,IAEG,MAAI,CAACrC,QAAL,CAAc/E,IAAI,CAACmH,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAd,EAAkCC,YAAlC,CAA+CC,QAA/C,OAA8D,GAFrE,EAE0E;AACxElG,YAAAA,gBAAgB,CAACwC,IAAjB,CAAsBS,KAAtB;AACD,WAJD,MAIO,IAAI8C,WAAW,KAAK,CAApB,EAAuB;AAC5B;AACAlG,YAAAA,gBAAgB,CAAC2C,IAAjB,CAAsBS,KAAtB,EAF4B,CAG5B;AACD,WAJM,MAIA,IAAI8C,WAAW,KAAK,CAApB,EAAuB;AAC5BjG,YAAAA,aAAa,CAAC0C,IAAd,CAAmBS,KAAnB;AACD,WAFM,MAEA,IAAI8C,WAAW,KAAK,CAApB,EAAuB;AAC5BnG,YAAAA,cAAc,CAAC4C,IAAf,CAAoBS,KAApB;AACD,WAFM,MAEA,IAAI8C,WAAW,KAAK,CAApB,EAAuB;AAC5B9F,YAAAA,eAAe,CAACuC,IAAhB,CAAqBS,KAArB;AACD;AACF,SAlBD;AAmBD,OApBD;AAqBA,WAAKrD,cAAL,GAAsBA,cAAtB;AACA,WAAKC,gBAAL,GAAwBA,gBAAxB;AACA,WAAKC,aAAL,GAAqBA,aAArB;AACA,WAAKC,cAAL,GAAsBA,cAAtB;AACA,WAAKC,gBAAL,GAAwBA,gBAAxB;AACA,WAAKC,eAAL,GAAuBA,eAAvB;AACD,KAzHM;AA0HPkG,IAAAA,WA1HO,uBA0HKC,MA1HL,EA0Ha;AAClB,WAAKC,IAAL,CAAUC,KAAV,CAAgB,cAAhB,EAAgCF,MAAhC;AACD,KA5HM;AA6HP;AACAG,IAAAA,YA9HO,wBA8HMzH,IA9HN,EA8HY;AACjB,UAAI,KAAKK,YAAT,EAAuB;AACvB,WAAKD,UAAL,GAAkB,IAAlB;AACA,WAAKS,aAAL,GAAqBb,IAArB;AACA,WAAKK,YAAL,GAAoB,IAApB;AACA,WAAKwB,QAAL,GAAgB,KAAhB;;AACA,UAAI7B,IAAI,KAAK,UAAb,EAAyB;AACvBF,QAAAA,SAAS,CAAC4H,GAAV,CAAc,eAAd,EAA+B1H,IAA/B;AACD;;AACD,WAAKuH,IAAL,CAAUC,KAAV,CAAgB,eAAhB,EAAiCxH,IAAjC;AACD,KAxIM;AAyIP2H,IAAAA,QAzIO,oBAyIE3H,IAzIF,EAyIQ;AACb,WAAKuH,IAAL,CAAUC,KAAV,CAAgB,eAAhB,EAAiCxH,IAAjC;AACAF,MAAAA,SAAS,CAAC4H,GAAV,CAAc,aAAd,EAA6B1H,IAA7B;AACAF,MAAAA,SAAS,CAAC4H,GAAV,CAAc,WAAd,EAA2B1H,IAAI,CAACkH,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAA3B;AACD,KA7IM;AA8IP;AACAU,IAAAA,SA/IO,qBA+IG5F,IA/IH,EA+IS;AACd,WAAKH,QAAL,GAAgBG,IAAhB;AACD;AAjJM;AA3OI,CAAf","sourcesContent":["import { myStorage } from '@/utils';\n\nexport default {\n  name: 'Market',\n  data() {\n    return {\n      // 滚动条配置\n      ops: {\n        rail: {\n          gutterOfSide: '0px',\n        },\n      },\n      // 筛选 货币对\n      listfilter: null,\n      // 表格加载LOADING\n      tableLoading: true,\n      // 表格 超过 20条出现滚动条\n      lineNumber: 15,\n      // 表头 Class\n      headClasses: 'c-3-bg',\n      bodyClasses: 'c-4-bg',\n      klineDataList: {},\n      marketDataObj: [],\n      marketDataList: [],\n      marketDataList_bar: [],\n      marketCurrent: null,\n      MainAreaFilter: [], // 主区币种\n      CreateAreaFilter: [], // 创新区币种\n      SeeAreaFilter: [], // 观察区币种\n      hideAreaFilter: [], // 隐藏区币种,\n      unsealAreaFilter: [], // 解封区币种\n      halveAreaFilter: [], // 减半区币种\n      MainAreaData: [],\n      hideAreaData: [],\n      CreateAreaData: [],\n      SeeAreaData: [],\n      unsealAreaData: [],\n      halveAreaData: [],\n      sortValue: 'sort', // 排序类型\n      sortSell: false, // 排序方向 true-正序 false-倒序\n      hoverIndex: null,\n      blockKey: 'all',\n    };\n  },\n  props: {\n    dataList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  filters: {\n    sortIcon(v, sortValue, sortSell) {\n      let str = '#icon-a_17';\n      if (v === sortValue) {\n        if (sortSell) {\n          str = '#icon-a_17_1';\n        } else {\n          str = '#icon-a_17_2';\n        }\n      }\n      return str;\n    },\n  },\n  computed: {\n    dataLength() {\n      let len = 0;\n      this.tableData.forEach((item) => {\n        if (this.tableData.length > 1) {\n          len += 1;\n        }\n        item.data.forEach(() => {\n          len += 1;\n        });\n      });\n      return len;\n    },\n    templateLayoutType() {\n      return this.$store.state.baseData.templateLayoutType;\n    },\n    tableHeight() {\n      // const h = 300;\n      // const spk = 25; // 条数\n      // if (this.dataLength > 5 && this.dataLength < spk) {\n      //   h = 58 * this.dataLength;\n      // } else if (this.dataLength >= spk) {\n      //   h = 58 * spk;\n      // }\n      const boxHeight = document.body.clientHeight;\n      if (this.templateLayoutType === '2') {\n        return boxHeight - 120;\n      }\n      return boxHeight - 177;\n    },\n    tableData() {\n      const arr = [];\n      const result = [];\n      if (this.halveAreaData.length) {\n        const data = this.dataSort(this.halveAreaData);\n        arr.push({\n          title: this.$t('trade.halving'),\n          titleIndex: 0,\n          data,\n        });\n      }\n      if (this.MainAreaData.length) {\n        const data = this.dataSort(this.MainAreaData);\n        arr.push({\n          title: this.$t('trade.maincon'),\n          titleIndex: 1,\n          data,\n        });\n      }\n      if (this.CreateAreaData.length) {\n        const data = this.dataSort(this.CreateAreaData);\n        arr.push({\n          title: this.$t('trade.newcon'),\n          titleIndex: 2,\n          data,\n        });\n      }\n      if (this.SeeAreaData.length) {\n        const data = this.dataSort(this.SeeAreaData);\n        arr.push({\n          title: this.$t('trade.seecon'),\n          titleIndex: 3,\n          data,\n        });\n      }\n      if (this.unsealAreaData.length) {\n        const data = this.dataSort(this.unsealAreaData);\n        arr.push({\n          title: this.$t('trade.unseal'),\n          data,\n        });\n      }\n      arr.forEach((el) => {\n        const item = el;\n        const data = el.data.filter((e) => e.isShow || this.listfilter || this.marketCurrent === 'myMarket');\n\n        if (data.length) {\n          item.data = data;\n          const newItem = item;\n          item.data.forEach((citem, index) => {\n            newItem.data[index].etfOpen = this.symbolAll[citem.id].etfOpen;\n            // citem.etfOpen\n          });\n          result.push(newItem);\n        }\n      });\n      return result;\n    },\n    // 表头\n    columns() {\n      return [\n        {\n          title: this.$t('home.market'), // 市场\n          key: 'sort',\n          sortable: true,\n        },\n        {\n          title: this.$t('home.close'), // 最新价\n          key: 'closes',\n          sortable: true,\n        },\n        {\n          title: this.$t('home.applies'), // 涨跌幅\n          key: 'roses',\n          sortable: true,\n        },\n        {\n          title: this.$t('home.height'), // 最高价\n        },\n        {\n          title: this.$t('home.low'), // 最低价\n        },\n        {\n          title: this.$t('home.H_volume'), // 24H成交量\n        },\n        {\n          title: this.$t('home.H_turnover'), // 24小时成交额\n        },\n      ];\n    },\n    // 全部市场\n    marketAllList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.marketSort;\n      }\n      return [];\n    },\n    // market\n    market() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.market;\n      }\n      return {};\n    },\n    // 全部币对列表\n    symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    // 全部币种列表\n    coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n  },\n  watch: {\n    market(v) {\n      if (Object.keys(v).length) {\n        this.filterArea();\n      }\n    },\n    listfilter(val) {\n      let data = this.marketDataList_bar;\n      if (val) {\n        const reg = new RegExp(val, 'gim');\n        data = this.marketDataList_bar.filter((item) => item.showName.match(reg));\n      }\n      this.setData(data, true);\n    },\n    dataList(val) {\n      this.tableLoading = false;\n      this.marketDataList_bar = val;\n      let data = val;\n      if (this.listfilter) {\n        const reg = new RegExp(this.listfilter, 'gim');\n        data = this.marketDataList_bar.filter((item) => item.showName.match(reg));\n      }\n      this.setData(data);\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  methods: {\n    init() {\n      this.marketCurrent = myStorage.get('homeMarkTitle');\n      if (Object.keys(this.market).length) {\n        this.filterArea();\n      }\n    },\n    enter(index) {\n      this.hoverIndex = index;\n    },\n    leave() {\n      this.hoverIndex = null;\n    },\n    lineClassesH(index) {\n      if (index === this.hoverIndex) {\n        return 'c-4-bg';\n      }\n      return '';\n    },\n    dataSort(v) {\n      if (this.sortValue.length) {\n        return v.sort((a, b) => {\n          let first = a;\n          let end = b;\n          if (this.sortSell) {\n            first = b;\n            end = a;\n          }\n          switch (this.sortValue) {\n            case 'roses':\n              return (parseFloat(first.data[2][0].sortVal) || 0)\n                - (parseFloat(end.data[2][0].sortVal) || 0);\n            case 'closes':\n              return (parseFloat(first.data[1][0].sortVal) || 0)\n                - (parseFloat(end.data[1][0].sortVal) || 0);\n            default:\n              return (parseFloat(first.data[0][1].sortVal) || 0)\n                - (parseFloat(end.data[0][1].sortVal) || 0);\n          }\n        });\n      }\n      return v;\n    },\n    sort(v) {\n      if (this.tableLoading) return;\n      if (!v.sortable) return;\n      if (this.sortValue !== v.key) {\n        this.sortValue = v.key;\n        this.sortSell = true;\n      } else {\n        this.sortSell = !this.sortSell;\n      }\n    },\n    setData(val, isSearch = false) {\n      const MainArea = []; // 主区\n      const CreateArea = []; // 创新区\n      const SeeArea = []; // 观察区\n      const hideArea = []; // 隐藏区\n      const unsealArea = []; // 解封区\n      const halveArea = []; // 减半区\n      val.forEach((item) => {\n        if (this.MainAreaFilter.indexOf(item.id) !== -1) {\n          MainArea.push(item);\n        }\n        if (this.CreateAreaFilter.indexOf(item.id) !== -1) {\n          CreateArea.push(item);\n        }\n        if (this.SeeAreaFilter.indexOf(item.id) !== -1) {\n          SeeArea.push(item);\n        }\n        if (this.hideAreaFilter.indexOf(item.id) !== -1) {\n          hideArea.push(item);\n        }\n        if (this.unsealAreaFilter.indexOf(item.id) !== -1 && !isSearch) {\n          unsealArea.push(item);\n        }\n        if (this.halveAreaFilter.indexOf(item.id) !== -1) {\n          halveArea.push(item);\n        }\n      });\n      this.MainAreaData = MainArea;\n      this.CreateAreaData = CreateArea;\n      this.SeeAreaData = SeeArea;\n      this.hideAreaData = hideArea;\n      this.unsealAreaData = unsealArea;\n      this.halveAreaData = halveArea;\n    },\n    filterArea() {\n      const MainAreaFilter = []; // 主区币种\n      const CreateAreaFilter = []; // 创新区币种\n      const SeeAreaFilter = []; // 观察区币种\n      const hideAreaFilter = []; // 隐藏区币种\n      const unsealAreaFilter = []; // 解封区币种\n      const halveAreaFilter = []; // 减半区币种\n      Object.keys(this.market).forEach((item) => {\n        Object.keys(this.market[item]).forEach((citem) => {\n          const { newcoinFlag, name } = this.market[item][citem];\n          // 解封区\n          if (this.coinList[name.split('/')[0]]\n              && this.coinList[name.split('/')[0]].isOvercharge\n              && this.coinList[name.split('/')[0]].isOvercharge.toString() === '1') {\n            unsealAreaFilter.push(citem);\n          } else if (newcoinFlag === 1) {\n            // 创新区\n            CreateAreaFilter.push(citem);\n            // 观察区\n          } else if (newcoinFlag === 2) {\n            SeeAreaFilter.push(citem);\n          } else if (newcoinFlag === 0) {\n            MainAreaFilter.push(citem);\n          } else if (newcoinFlag === 3) {\n            halveAreaFilter.push(citem);\n          }\n        });\n      });\n      this.MainAreaFilter = MainAreaFilter;\n      this.CreateAreaFilter = CreateAreaFilter;\n      this.SeeAreaFilter = SeeAreaFilter;\n      this.hideAreaFilter = hideAreaFilter;\n      this.unsealAreaFilter = unsealAreaFilter;\n      this.halveAreaFilter = halveAreaFilter;\n    },\n    marketClick(symbol) {\n      this.$bus.$emit('SWITCH-STORE', symbol);\n    },\n    // 切换市场\n    switchMarket(data) {\n      if (this.tableLoading) return;\n      this.listfilter = null;\n      this.marketCurrent = data;\n      this.tableLoading = true;\n      this.blockKey = 'all';\n      if (data !== 'myMarket') {\n        myStorage.set('homeMarkTitle', data);\n      }\n      this.$bus.$emit('SWITCH-MARKET', data);\n    },\n    bandLink(data) {\n      this.$bus.$emit('SWITCH-SYMBOL', data);\n      myStorage.set('sSymbolName', data);\n      myStorage.set('markTitle', data.split('/')[1]);\n    },\n    // 切换 区\n    switchKey(type) {\n      this.blockKey = type;\n    },\n  },\n};\n"]}]}