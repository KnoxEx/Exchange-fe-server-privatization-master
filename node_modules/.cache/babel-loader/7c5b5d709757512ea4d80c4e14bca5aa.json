{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/views/agent/view.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/views/agent/view.vue","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport mixin from 'BlockChain-ui-privatization/PC/common-mixin/broker/view/view'; // import 'BlockChain-ui-privatization/PC/common-mixin/broker/view/view.styl';\n\nexport default {\n  mixins: [mixin],\n  name: 'agentView',\n  components: {},\n  data: function data() {\n    return {\n      teamCount: '',\n      // 团队人数\n      reward: '',\n      // 累计奖励\n      userRoleName: '',\n      // 合伙人\n      backSymbol: '',\n      labelList: [],\n      labelVar: 'TEAM-SUBSIDIARY',\n      dataList: [],\n      loading: false,\n      pageNum: 1,\n      pageSize: 10,\n      total: 0\n    };\n  },\n  computed: {\n    tableList: function tableList() {\n      var _this = this;\n\n      if (this.dataList && this.dataList.length) {\n        var dataArr = [];\n\n        if (this.labelVar === 'TEAM-SUBSIDIARY') {\n          this.dataList.forEach(function (item) {\n            dataArr.push({\n              id: item.registerTime,\n              data: [item.nickName, item.registerTime, item.account, item.authStatus == 1 ? _this.$t('agent.authed') : _this.$t('agent.unAuth'), item.teamNum, \"\".concat(item.holdAmount, \" \").concat(item.holdSymbol)]\n            });\n          });\n        } else if (this.labelVar === 'COMMISSION-RECORD') {\n          this.dataList.forEach(function (item) {\n            dataArr.push({\n              id: item.id,\n              data: [item.account, item.tradeTime, item.tradeUId, \"\".concat(item.backAmount, \" \").concat(item.backSymbol)]\n            });\n          });\n        }\n\n        return dataArr;\n      }\n\n      return [];\n    },\n    colums: function colums() {\n      var arr = [];\n\n      if (this.labelVar === 'TEAM-SUBSIDIARY') {\n        arr = [{\n          title: this.$t('agent.nickName'),\n          width: '150px'\n        }, {\n          title: this.$t('agent.regTime'),\n          width: '150px'\n        }, {\n          title: this.$t('agent.account'),\n          width: '200px'\n        }, {\n          title: this.$t('agent.authStatus'),\n          width: '150px'\n        }, {\n          title: this.$t('agent.teamNum'),\n          width: '150px'\n        }, {\n          title: this.$t('agent.holdAmount')\n        }];\n      } else if (this.labelVar === 'COMMISSION-RECORD') {\n        arr = [{\n          title: this.$t('agent.id'),\n          width: '200px'\n        }, {\n          title: this.$t('agent.tradeTime'),\n          width: '200px'\n        }, {\n          title: this.$t('agent.tradeUID'),\n          width: '200px'\n        }, {\n          title: this.$t('agent.backAmount')\n        }];\n      }\n\n      return arr;\n    }\n  },\n  mounted: function mounted() {\n    this.getLabel();\n    this.getBaseInfo();\n  },\n  methods: {\n    getLabel: function getLabel() {\n      var _this2 = this;\n\n      this.axios({\n        url: 'agent/labelList',\n        hostType: 'agent',\n        params: {},\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          // console.log(data)\n          _this2.labelList = data.data.sort(function (a, b) {\n            return a.sort - b.sort;\n          });\n          _this2.labelVar = _this2.labelList[0].labelVar;\n\n          _this2.getList();\n        }\n      });\n    },\n    getBaseInfo: function getBaseInfo() {\n      var _this3 = this;\n\n      this.axios({\n        url: 'agent/baseInfo',\n        hostType: 'agent',\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          // console.log(data)\n          if (data.data.attributeMap.length > 1) {\n            _this3.teamCount = data.data.attributeMap[0]['团队人数'];\n            _this3.reward = data.data.attributeMap[1]['累计奖励'];\n          }\n\n          _this3.userRoleName = data.data.userRoleName;\n          _this3.backSymbol = data.data.backSymbol;\n        }\n      });\n    },\n    getList: function getList() {\n      var _this4 = this;\n\n      var params = {};\n      this.loading = true;\n      this.axios({\n        url: 'agent/list',\n        hostType: 'agent',\n        params: {\n          pageSize: this.pageSize,\n          pageNum: this.pageNum,\n          labelVar: this.labelVar\n        },\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this4.pageNum = parseInt(data.data.pageNum) || 1;\n          _this4.total = parseInt(data.data.total);\n          _this4.dataList = data.data.data;\n        }\n\n        _this4.loading = false;\n      });\n    },\n    labelClick: function labelClick(labelVar) {\n      this.labelVar = labelVar;\n      this.pageNum = 1;\n      this.getList();\n    },\n    pagechange: function pagechange(num) {\n      this.pageNum = num;\n      this.getList();\n    }\n  }\n};",null]}