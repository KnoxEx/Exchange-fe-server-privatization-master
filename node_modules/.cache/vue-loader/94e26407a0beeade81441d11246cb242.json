{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/BlockChain-ui/PC/components/getCode/GetCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/components/getCode/GetCode.vue","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'c-getCode',\n  props: {\n    className: { default: '', type: String }, // 根节点class\n    // : { default: 100, type: Number }, // 倒计时时间\n    name: { default: '', type: String }, // name标示\n    buttonName: { default: 'codeClickButton', type: String }, // 获取验证码按钮name\n    codeFlag: { default: true, type: Boolean }, // 按钮是否可点击\n    autoStart: { default: true, type: Boolean }, // 按钮按下时 自动开始倒计时\n  },\n  data() {\n    return {\n      flag: true, // 是否可点击\n      mins: 0, // 倒计时仅展示\n      timer: null,\n      code: 60,\n    };\n  },\n  watch: {\n    codeFlag(newValue) {\n      if (newValue) {\n        this.clear();\n      } else {\n        this.startTime();\n      }\n    },\n  },\n  created() {\n    this.$bus.$emit('getCode-clear');\n    this.$bus.$on('getCode-clear', (name) => {\n      if (name === this.name) {\n        this.clear();\n      }\n    });\n    this.$bus.$emit('getCode-start');\n    this.$bus.$on('getCode-start', (name) => {\n      if (name === this.name) {\n        this.startTime();\n      }\n    });\n  },\n  methods: {\n    codeClick() {\n      this.$emit('click', this.name);\n      if (this.autoStart) {\n        this.startTime();\n      }\n    },\n    startTime() {\n      this.clear();\n      this.flag = false;\n      this.mins = this.code;\n      this.mins -= 1;\n      this.timer = setInterval(() => {\n        this.mins -= 1;\n        if (this.mins === 0) {\n          this.clear();\n        }\n      }, 1000);\n    },\n    clear() {\n      this.$emit('clear');\n      this.flag = true;\n      clearInterval(this.timer);\n    },\n  },\n  beforeDestroy() {\n    this.clear();\n  },\n};\n",{"version":3,"sources":["GetCode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GetCode.vue","sourceRoot":"../BlockChain-ui/PC/components/getCode","sourcesContent":["// Created by 任泽阳 on 18/12/06. // 获取验证码组件 //\n*****************************\n<template>\n  <section class='common-getCode' :class='className'>\n    <!-- 获取验证码 -->\n    <c-button\n      type='text'\n      height='30px'\n      v-if='flag'\n      @click='codeClick'\n      :name='buttonName'\n      >{{ $t('components.getCode.button') }}</c-button\n    >\n    <!-- 后重新获取 -->\n    <div class='times b-2-cl' v-else>\n      {{ mins }}s {{ $t('components.getCode.after') }}\n    </div>\n  </section>\n</template>\n<script>\nexport default {\n  name: 'c-getCode',\n  props: {\n    className: { default: '', type: String }, // 根节点class\n    // : { default: 100, type: Number }, // 倒计时时间\n    name: { default: '', type: String }, // name标示\n    buttonName: { default: 'codeClickButton', type: String }, // 获取验证码按钮name\n    codeFlag: { default: true, type: Boolean }, // 按钮是否可点击\n    autoStart: { default: true, type: Boolean }, // 按钮按下时 自动开始倒计时\n  },\n  data() {\n    return {\n      flag: true, // 是否可点击\n      mins: 0, // 倒计时仅展示\n      timer: null,\n      code: 60,\n    };\n  },\n  watch: {\n    codeFlag(newValue) {\n      if (newValue) {\n        this.clear();\n      } else {\n        this.startTime();\n      }\n    },\n  },\n  created() {\n    this.$bus.$emit('getCode-clear');\n    this.$bus.$on('getCode-clear', (name) => {\n      if (name === this.name) {\n        this.clear();\n      }\n    });\n    this.$bus.$emit('getCode-start');\n    this.$bus.$on('getCode-start', (name) => {\n      if (name === this.name) {\n        this.startTime();\n      }\n    });\n  },\n  methods: {\n    codeClick() {\n      this.$emit('click', this.name);\n      if (this.autoStart) {\n        this.startTime();\n      }\n    },\n    startTime() {\n      this.clear();\n      this.flag = false;\n      this.mins = this.code;\n      this.mins -= 1;\n      this.timer = setInterval(() => {\n        this.mins -= 1;\n        if (this.mins === 0) {\n          this.clear();\n        }\n      }, 1000);\n    },\n    clear() {\n      this.$emit('clear');\n      this.flag = true;\n      clearInterval(this.timer);\n    },\n  },\n  beforeDestroy() {\n    this.clear();\n  },\n};\n</script>\n<style lang='stylus' scoped>\n.common-getCode {\n  height: 30px;\n  .times {\n    font-size: 12px;\n    line-height: 30px;\n    cursor: no-drop;\n    user-select: none;\n    text-align: center;\n  }\n}\n</style>\n"]}]}