{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/modules/trade/index/mixin.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/modules/trade/index/mixin.js","mtime":1630472983000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// mapState\nimport { mapState } from 'vuex';\nimport _worker from '@/utils/webWorker'; // 24小时行情\n\nimport { fixD, myStorage, imgMap, colorMap, setCookie, getCookie } from '@/utils';\nexport default {\n  name: 'trade',\n  data: function data() {\n    return {\n      markTitleClass: 'markTitle',\n      symbolNameClass: 'sSymbolName',\n      imgMap: imgMap,\n      colorMap: colorMap,\n      routerPathClass: 'trade',\n      // 是否是收起状态\n      shrink: false,\n      // 24小时行情 是否是收起状态\n      marketShrink: false,\n      // 窗口宽度\n      screenWidth: null,\n      // 延迟执行\n      windowOnResizeFire: true,\n      // 宽度分割\n      mediaWidth: 1820,\n      // shuju\n      marketData: null,\n      // MywebSocket\n      MywebSocket: null,\n      // 当前市场\n      marketCurrent: null,\n      // 当前币对\n      symbolCurrent: null,\n      // 当前币对列表\n      symbolCurrentList: [],\n      // 深度级别\n      depthClasses: '0',\n      // 深度值\n      depthValue: null,\n      // 图表遮罩\n      coverKlineBox: null,\n      routeSymbol: this.$route.params.symbol,\n      isFull: null,\n      tradeLimitData: null,\n      tradeAlertState: false,\n      etfDialog: false,\n      etfUrl: '',\n      etfName: '',\n      etfTimer: null,\n      etfPrice: '--',\n      lTime: null,\n      lastTimeS: myStorage.get('lastTimeS')\n    };\n  },\n  computed: _objectSpread(_objectSpread({\n    fundRate: function fundRate() {\n      var publicInfo = this.$store.state.baseData.publicInfo;\n      var str = '';\n\n      if (publicInfo && publicInfo.fundRate) {\n        str = publicInfo.fundRate;\n      }\n\n      return str;\n    },\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    }\n  }, mapState({\n    baseInfo: function baseInfo(_ref) {\n      var baseData = _ref.baseData;\n      this.marketData = baseData.market; // 获取当前市场\n\n      this.marketCurrent = myStorage.get(this.markTitleClass); // 获取当前币对\n\n      this.symbolCurrent = myStorage.get(this.symbolNameClass);\n      return baseData;\n    },\n    hasTradeLimitOpen: function hasTradeLimitOpen(_ref2) {\n      var baseData = _ref2.baseData;\n      return baseData.has_trade_limit_open;\n    }\n  })), {}, {\n    // 全部币种列表\n    coinList: function coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    symbolAll: function symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    trade_board_is_fold: function trade_board_is_fold() {\n      return this.$store.state.baseData.trade_board_is_fold;\n    },\n    // 当前币对精度计算的值\n    fixValue: function fixValue() {\n      if (this.symbolAll && this.symbolCurrent) {\n        var symbol = this.symbolAll[this.symbolCurrent];\n        return {\n          priceFix: symbol.price,\n          volumeFix: symbol.volume\n        };\n      }\n\n      return {\n        priceFix: 2,\n        volumeFix: 8\n      };\n    },\n    tradeLimitAlertText: function tradeLimitAlertText() {\n      var text = '';\n\n      if (this.tradeLimitData) {\n        var symbol = this.$route.params.symbol.split('_')[0];\n        var _this$tradeLimitData = this.tradeLimitData,\n            tradeLimtBuyInfo = _this$tradeLimitData.trade_limit_buy_info,\n            tradeLimitSellInfo = _this$tradeLimitData.trade_limit_sell_info,\n            tradeSymbolSellLimit = _this$tradeLimitData.trade_symbol_sell_limit,\n            tradeSymbolBuyLimit = _this$tradeLimitData.trade_symbol_buy_limit; // 该币对限制每日交易数量\n\n        text = \"\".concat(this.$t('tradeLimt.tradeLimit_text_everyDayCount')); // 单日最大买入量为：\n\n        var txt1 = \"\".concat(this.$t('tradeLimt.tradeLimit_text_everyDayBuy') + fixD(tradeSymbolBuyLimit, this.fixValue.volumeFix) + symbol + this.$t('tradeLimt.tradeLimit_text_everyDayBuy_end'), \"\\uFF0C\"); // 单日最大卖出量为：\n\n        var txt2 = \"\".concat(this.$t('tradeLimt.tradeLimit_text_everyDaySell') + fixD(tradeSymbolSellLimit, this.fixValue.volumeFix) + symbol + this.$t('tradeLimt.tradeLimit_text_everyDaySell_end')); // 未限制买入交易\n\n        var txt3 = this.$t('tradeLimt.tradeLimit_text_noLimitBuy'); // 未限制卖出交易\n\n        var txt4 = this.$t('tradeLimt.tradeLimit_text_noLimitSell');\n        text += tradeLimtBuyInfo ? txt1 : txt3;\n        text += tradeLimitSellInfo ? txt2 : txt4;\n      }\n\n      return text;\n    },\n    templateLayoutType: function templateLayoutType() {\n      return this.$store.state.baseData.templateLayoutType;\n    },\n    worker: function worker() {\n      return _worker();\n    },\n    // 是否Login\n    isLogin: function isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    // Market 数据\n    marketList: function marketList() {\n      return this.marketData ? this.marketData.market : null;\n    },\n    // 当前币对列表\n    symbolList: function symbolList() {\n      var _this = this;\n\n      // 如果 当前市场 是 自选市场\n      if (this.marketCurrent === 'myMarket') {\n        var mySymbol = myStorage.get('mySymbol') || [];\n        var marketList = {};\n\n        if (mySymbol.length) {\n          mySymbol.forEach(function (item) {\n            if (item && _this.symbolAll[item]) {\n              marketList[item] = _this.symbolAll[item];\n            }\n          });\n        }\n\n        return marketList;\n      }\n\n      if (this.marketList && this.marketCurrent) {\n        return this.marketList[this.marketCurrent];\n      }\n\n      return null;\n    },\n    // 汇率单位\n    rateData: function rateData() {\n      return this.$store.state.baseData.rate;\n    },\n    // 设置 收缩版本 还是展开版\n    leftClasses: function leftClasses() {\n      return this.marketShrink ? 'left-shrinks' : 'left-expand';\n    },\n    currentSymbolCase: function currentSymbolCase() {\n      if (this.symbolCurrent) {\n        var symbolArr = this.symbolCurrent.toLowerCase().split('/');\n        return symbolArr[0] + symbolArr[1];\n      }\n\n      return null;\n    },\n    copySymbolCurrent: function copySymbolCurrent() {\n      return this.symbolCurrent;\n    }\n  }),\n  watch: {\n    market: {\n      immediate: true,\n      handler: function handler(v) {\n        if (v) {\n          this.init();\n          this.initEtfDialog();\n        }\n      }\n    },\n    copySymbolCurrent: {\n      immediate: true,\n      handler: function handler(v) {\n        if (v) {\n          this.initEtfDialog();\n        }\n      }\n    },\n    trade_board_is_fold: {\n      handler: function handler() {\n        var _this2 = this;\n\n        if (this.trade_board_is_fold) {\n          setTimeout(function () {\n            if (_this2.screenWidth <= _this2.mediaWidth) {\n              _this2.$bus.$emit('extend');\n            }\n          }, 0);\n        }\n      },\n      immediate: true\n    },\n    hasTradeLimitOpen: function hasTradeLimitOpen(val) {\n      if (val && this.currentSymbolCase) {\n        this.getTradeLimitInfo(this.currentSymbolCase);\n      }\n    },\n    // 监听 获取到数据\n    marketData: function marketData(val) {\n      if (val.wsUrl) {\n        // 创建WS\n        this.worker.postMessage({\n          type: 'CREAT_WEBSOCKET',\n          data: {\n            wsUrl: val.wsUrl,\n            lan: this.$store.state.baseData.lan,\n            rate: this.rateData,\n            symbolAll: this.symbolAll\n          }\n        });\n      }\n    },\n    // 监听 当前市场的切换\n    marketCurrent: function marketCurrent(val, oldVla) {\n      if (oldVla) {\n        // 存储 上一次选中的市场\n        this.oldMarket = oldVla;\n      } else {\n        this.oldMarket = val;\n      }\n    },\n    // 监听 当前选中货币对的改变\n    symbolCurrent: function symbolCurrent(val, oldVla) {\n      var _this3 = this;\n\n      if (val && this.symbolAll) {\n        this.getJz(); // const sSymbolShowName = this.symbolAll[val].showName || val;\n\n        var sSymbolShowName = this.symbolAll[val].showName || val;\n        var sSymbol = sSymbolShowName.replace('/', '_');\n\n        if (this.symbolAll[val].etfOpen) {\n          myStorage.set(this.markTitleClass, 'ETF');\n        }\n\n        this.$router.push(\"/\".concat(this.routerPathClass, \"/\").concat(sSymbol));\n        this.$bus.$emit('SYMBOL_CURRENT', val);\n      }\n\n      if (this.hasTradeLimitOpen) {\n        var symbol = val.replace('/', '').toLocaleLowerCase();\n        this.getTradeLimitInfo(symbol);\n      }\n\n      if (oldVla && this.MywebSocket) {\n        if (this.oldMarket !== val.split('/')[1]) {\n          // 如果 切换了市场 又切换了币对 就 停止 上一个币对的 24小时行情 send\n          this.webSocketSend('Market', 'unsub', val, _defineProperty({}, oldVla, this.symbolAll[oldVla]));\n        } // 停止 上一个币对的 实时成交 send\n\n\n        this.webSocketSend('Trade', 'unsub', oldVla); // 发送 实时成交 数据 Send\n\n        this.webSocketSend('Trade', 'req', val);\n        this.webSocketSend('Trade', 'sub', val); // 取消订阅 上一个币对的K线数据\n\n        this.webSocketKlineSend('unsub', oldVla, this.lastTimeS); // 发送 K线历史数据 send\n\n        this.webSocketKlineSend('req', val, this.lastTimeS); // 发送 K线实时数据 send\n\n        this.webSocketKlineSend('sub', val, this.lastTimeS);\n        this.depthClasses = '0';\n        setTimeout(function () {\n          // 发送 盘口深度 数据 Send\n          _this3.webSocketSend('Depth', 'unsub', oldVla, _this3.depthClasses);\n\n          if (_this3.depthClasses !== '0') {\n            _this3.webSocketSend('Depth', 'unsub', oldVla, '0');\n          }\n\n          _this3.webSocketSend('Depth', 'sub', val, _this3.depthClasses);\n        });\n      }\n    },\n    // 监听 当前币对列表的变化\n    symbolList: function symbolList(val, oldVla) {\n      this.$bus.$emit('SYMBOL_LIST', val);\n\n      if (this.MywebSocket) {\n        // 发送 24小时行情实时数据 Send -- unsub\n        this.webSocketSend('Market', 'unsub', this.symbolCurrent, oldVla); // 发送 24小时行情实时数据 Send -- sub\n\n        this.webSocketSend('Market', 'sub', this.symbolCurrent, val);\n      }\n    },\n    // 监听 webSocket 创建成功\n    MywebSocket: function MywebSocket(val) {\n      if (val) {\n        // 发送 24小时行情历史数据 Send\n        this.webSocketSend('Review', null, this.symbolCurrent, this.symbolList); // 发送 24小时行情实时数据 Send\n\n        this.webSocketSend('Market', 'sub', this.symbolCurrent, this.symbolList); // 发送 实时成交 数据 Send\n\n        this.webSocketSend('Trade', 'req', this.symbolCurrent);\n        this.webSocketSend('Trade', 'sub', this.symbolCurrent); // 发送 盘口深度数据 Send\n\n        this.webSocketSend('Depth', 'sub', this.symbolCurrent, this.depthClasses); // 发送 K线历史数据 send\n\n        this.webSocketKlineSend('req', this.symbolCurrent, this.lastTimeS); // 发送 K线实时数据 send\n\n        this.webSocketKlineSend('sub', this.symbolCurrent, this.lastTimeS);\n      }\n    },\n    // 监听 货币汇率单位\n    rateData: function rateData(val) {\n      if (val) {\n        this.$bus.$emit('RATE_DATA', val);\n      }\n    },\n    // 监听 深度切换\n    depthClasses: function depthClasses(val, oldVal) {\n      var _this4 = this;\n\n      setTimeout(function () {\n        if (oldVal) {\n          if (oldVal !== '0') {\n            _this4.webSocketSend('Depth', 'unsub', _this4.symbolCurrent, oldVal);\n          }\n        }\n\n        _this4.webSocketSend('Depth', 'sub', _this4.symbolCurrent, val);\n      });\n    },\n    // 监听K线刻度的变化\n    lastTimeS: function lastTimeS(data, olddata) {\n      // 取消订阅 上一个币对的K线数据\n      this.webSocketKlineSend('unsub', this.symbolCurrent, olddata); // 发送 K线历史数据 send\n\n      this.webSocketKlineSend('req', this.symbolCurrent, data); // 发送 K线实时数据 send\n\n      this.webSocketKlineSend('sub', this.symbolCurrent, data);\n    }\n  },\n  methods: {\n    getJz: function getJz() {\n      var _this5 = this;\n\n      var flag = false;\n      clearInterval(this.etfTimer);\n\n      if (this.symbolCurrent && this.symbolAll) {\n        flag = !!this.symbolAll[this.symbolCurrent].etfOpen;\n      }\n\n      this.etfPrice = '--';\n      if (!flag) return; // console.log()\n\n      this.getJzAxios(this.symbolCurrent);\n      this.etfTimer = setInterval(function () {\n        _this5.getJzAxios();\n      }, 3000);\n    },\n    getJzAxios: function getJzAxios() {\n      var _this6 = this;\n\n      var arr = this.symbolCurrent.split('/');\n      this.axios({\n        url: '/etfAct/netValue',\n        method: 'post',\n        params: {\n          base: arr[0],\n          quote: arr[1]\n        }\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this6.etfPrice = data.data.price; // if (data.data.fundRate) {\n          //   this.fundRate = data.data.fundRate;\n          // }\n          // this.etfUrl = data.data.faqUrl;\n          // this.etfName = data.data.domainName;\n        } else {// this.$bus.$emit('tip', { text: data.msg, type: 'error' });\n        }\n      });\n    },\n    createdInit: function createdInit() {\n      var _this7 = this;\n\n      this.axios({\n        url: 'etfAct/faqInfo' // method: 'get',\n\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this7.etfUrl = data.data.faqUrl;\n          _this7.etfName = data.data.domainName;\n        } else {\n          _this7.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    initEtfDialog: function initEtfDialog() {\n      if (this.symbolAll && this.copySymbolCurrent) {\n        var symbol = this.copySymbolCurrent;\n\n        if (this.symbolAll && this.symbolAll[symbol] && this.symbolAll[symbol].etfOpen && !getCookie('etfDialog')) {\n          this.etfDialog = true;\n        }\n      }\n    },\n    etfDialogConfirm: function etfDialogConfirm() {\n      this.etfDialog = false;\n      setCookie('etfDialog', true);\n    },\n    hideTradeAlert: function hideTradeAlert() {\n      this.tradeAlertState = false;\n    },\n    getTradeLimitInfo: function getTradeLimitInfo(symbol) {\n      var _this8 = this;\n\n      this.axios({\n        url: 'order/trade_limit_info',\n        params: {\n          symbol: symbol\n        },\n        method: 'post'\n      }).then(function (res) {\n        if (res.code !== '0') return;\n        var data = res.data;\n        Object.keys(data).forEach(function (key) {\n          data[key] = Number(data[key]);\n        });\n\n        if (_this8.currentSymbolCase === symbol) {\n          var sellInfo = Number(data.trade_limit_sell_info);\n          var buyInfo = Number(data.trade_limit_buy_info);\n          _this8.tradeLimitData = data;\n          _this8.tradeAlertState = Boolean(sellInfo || buyInfo);\n        }\n      });\n    },\n    init: function init() {\n      var _this9 = this;\n\n      this.getJz();\n\n      if (this.routeSymbol) {\n        var symbolNameClassCion = this.routeSymbol.split('_')[0];\n        var markTitleClassCion = this.routeSymbol.split('_')[1];\n        var symbolNameClass = this.routeSymbol.split('_')[0];\n        var markTitleClass = this.routeSymbol.split('_')[1];\n        var coinLisArr = Object.keys(this.coinList);\n        coinLisArr.forEach(function (item) {\n          var showName = _this9.coinList[item].showName;\n\n          if (showName === markTitleClass) {\n            markTitleClassCion = item;\n          }\n\n          if (showName === symbolNameClass) {\n            symbolNameClassCion = item;\n          }\n        });\n        var symbol = \"\".concat(symbolNameClassCion, \"/\").concat(markTitleClassCion);\n\n        if (this.symbolAll[symbol] && this.symbolAll[symbol].etfOpen) {\n          markTitleClassCion = 'ETF';\n        }\n\n        if (markTitleClassCion && symbolNameClassCion) {\n          myStorage.set(this.markTitleClass, markTitleClassCion);\n          myStorage.set(this.symbolNameClass, symbol);\n        }\n      } else {\n        var sSymbolName = myStorage.get(this.symbolNameClass);\n\n        if (sSymbolName) {\n          var sSymbolShowName = this.symbolAll[sSymbolName].showName || sSymbolName;\n          var sSymbol = sSymbolShowName.replace('/', '_');\n          this.$router.push(\"/\".concat(this.routerPathClass, \"/\").concat(sSymbol));\n        }\n      }\n\n      this.screenWidth = document.body.clientWidth;\n\n      if (this.screenWidth <= this.mediaWidth) {\n        this.shrink = true;\n        this.marketShrink = true;\n      } // 监听 窗口的大小改变\n\n\n      this.$bus.$on('WINFOW_ON_RESIIZE', function () {\n        // this.$bus.$emit('WINFOW_ON_RESIIZE', );\n        if (_this9.windowOnResizeFire) {\n          _this9.screenWidth = document.body.clientWidth;\n\n          if (_this9.screenWidth <= _this9.mediaWidth) {\n            // 如果 屏幕窗口 小于阈值 设置成收起模式\n            _this9.shrink = true;\n            _this9.marketShrink = true;\n          } else {\n            // 如果 屏幕窗口 大于阈值 设置成展开模式\n            _this9.shrink = false;\n            _this9.marketShrink = false;\n          }\n\n          _this9.windowOnResizeFire = false; // 0.3秒之后将标志位重置\n\n          setTimeout(function () {\n            _this9.windowOnResizeFire = true;\n          });\n        }\n      });\n      this.listenBusEvent();\n\n      this.worker.onmessage = function (event) {\n        var data = event.data; // 监听 WebSocket 链接成功\n\n        if (data.type === 'WEBSOCKET_ON_OPEN') {\n          _this9.MywebSocket = data.data.type;\n\n          _this9.$bus.$emit('WEBSOCKET_ON_OPEN', _this9.MywebSocket);\n        } // 监听 WS 数据\n\n\n        if (data.type === 'WEBSOCKET_DATA') {\n          _this9.listenWSData(data.data);\n        }\n      };\n    },\n    listenBusEvent: function listenBusEvent() {\n      var _this10 = this;\n\n      // 监听 市场切换\n      this.$bus.$on('ON_MARKET_SWITCH', function (data) {\n        _this10.marketCurrent = data;\n      }); // 监听 币对切换\n\n      this.$bus.$on('ON_SYMBOL_SWITCH', function (data) {\n        myStorage.set(_this10.markTitleClass, _this10.marketCurrent);\n        myStorage.set(_this10.symbolNameClass, data);\n        _this10.symbolCurrent = data;\n\n        if (_this10.isLogin) {\n          _this10.$store.dispatch('assetsExchangeData', {\n            auto: false,\n            coinSymbols: data.replace('/', ',')\n          });\n        }\n      }); // 监听 深度级别的切换\n\n      this.$bus.$on('DEPTH_CLASSES', function (data) {\n        _this10.depthClasses = data;\n      }); // 监听 深度级别的值\n\n      this.$bus.$on('DEPTH_VALUE', function (data) {\n        _this10.depthValue = data;\n      }); // 监听 kline 发送Send\n\n      this.$bus.$on('WEBSOCKET_KLINE_SEND', function (data) {\n        _this10.worker.postMessage({\n          type: 'WEBSOCKET_KLINE_SEND',\n          data: data\n        });\n      });\n      this.$bus.$on('LTIME', function (data) {\n        _this10.lTime = data;\n      });\n      this.$bus.$on('LAST-TIMES', function (data) {\n        _this10.lastTimeS = data;\n      });\n    },\n    listenWSData: function listenWSData(data) {\n      var type = data.type,\n          WsData = data.WsData;\n      this.$bus.$emit(type, WsData);\n\n      if (type === 'KLINE_DATA_REQ') {\n        this.$store.dispatch('kLinwReqData', WsData);\n      }\n\n      if (type === 'KLINE_DATA_SUB') {\n        this.$store.dispatch('kLinwSubData', WsData);\n      }\n\n      if (type === 'TRADE_DATA') {\n        this.worker.postMessage({\n          type: 'TRADE_QUEUE_DATA',\n          data: WsData.queueDataList\n        });\n      }\n    },\n    webSocketSend: function webSocketSend(type, sendType, symbolData, symbolList) {\n      this.worker.postMessage({\n        type: 'WEBSOCKET_SEND',\n        data: {\n          type: type,\n          sendType: sendType,\n          symbolData: symbolData,\n          symbolList: symbolList,\n          depthValue: this.depthValue\n        }\n      });\n    },\n    // 隐藏基本版 临时注释掉\n    // type, symbolData, lastTimeS\n    webSocketKlineSend: function webSocketKlineSend() {// const lastTimeSval = lastTimeS === 'Line' ? '1min' : lastTimeS;\n      // const arr = symbolData.split('/');\n      // const symbol = `${arr[0].toLowerCase()}${arr[1].toLowerCase()}`;\n      // this.worker.postMessage({\n      //   type: 'WEBSOCKET_KLINE_SEND',\n      //   data: {\n      //     type,\n      //     symbol,\n      //     lastTimeS: lastTimeSval,\n      //     lTime: this.lTime,\n      //     number: 150,\n      //   },\n      // });\n    },\n    shrinkBlock: function shrinkBlock() {\n      this.marketShrink = !this.marketShrink;\n    },\n    serachShrinkBlock: function serachShrinkBlock() {\n      this.marketShrink = false;\n    },\n    ondblclick: function ondblclick() {\n      return false;\n    },\n    onclickfun: function onclickfun(e) {\n      // 显示和隐藏币币交易页面 TradingView 的遮罩\n      if (e.target.className === 'coverKlineBox') {\n        this.coverKlineBox = e.target;\n      }\n\n      if (e.target.className === 'coverKlineBox') {\n        this.coverKlineBox.style.display = 'none';\n      } else if (this.coverKlineBox) {\n        this.coverKlineBox.style.display = 'block';\n        this.coverKlineBox = null;\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/modules/trade/index/mixin.js"],"names":["mapState","worker","fixD","myStorage","imgMap","colorMap","setCookie","getCookie","name","data","markTitleClass","symbolNameClass","routerPathClass","shrink","marketShrink","screenWidth","windowOnResizeFire","mediaWidth","marketData","MywebSocket","marketCurrent","symbolCurrent","symbolCurrentList","depthClasses","depthValue","coverKlineBox","routeSymbol","$route","params","symbol","isFull","tradeLimitData","tradeAlertState","etfDialog","etfUrl","etfName","etfTimer","etfPrice","lTime","lastTimeS","get","computed","fundRate","publicInfo","$store","state","baseData","str","market","baseInfo","hasTradeLimitOpen","has_trade_limit_open","coinList","symbolAll","trade_board_is_fold","fixValue","priceFix","price","volumeFix","volume","tradeLimitAlertText","text","split","tradeLimtBuyInfo","trade_limit_buy_info","tradeLimitSellInfo","trade_limit_sell_info","tradeSymbolSellLimit","trade_symbol_sell_limit","tradeSymbolBuyLimit","trade_symbol_buy_limit","$t","txt1","txt2","txt3","txt4","templateLayoutType","isLogin","marketList","symbolList","mySymbol","length","forEach","item","rateData","rate","leftClasses","currentSymbolCase","symbolArr","toLowerCase","copySymbolCurrent","watch","immediate","handler","v","init","initEtfDialog","setTimeout","$bus","$emit","val","getTradeLimitInfo","wsUrl","postMessage","type","lan","oldVla","oldMarket","getJz","sSymbolShowName","showName","sSymbol","replace","etfOpen","set","$router","push","toLocaleLowerCase","webSocketSend","webSocketKlineSend","oldVal","olddata","methods","flag","clearInterval","getJzAxios","setInterval","arr","axios","url","method","base","quote","then","code","createdInit","faqUrl","domainName","msg","etfDialogConfirm","hideTradeAlert","res","Object","keys","key","Number","sellInfo","buyInfo","Boolean","symbolNameClassCion","markTitleClassCion","coinLisArr","sSymbolName","document","body","clientWidth","$on","listenBusEvent","onmessage","event","listenWSData","dispatch","auto","coinSymbols","WsData","queueDataList","sendType","symbolData","shrinkBlock","serachShrinkBlock","ondblclick","onclickfun","e","target","className","style","display"],"mappings":"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","sourcesContent":["// mapState\nimport { mapState } from 'vuex';\nimport worker from '@/utils/webWorker';\n// 24小时行情\nimport {\n  fixD,\n  myStorage,\n  imgMap,\n  colorMap,\n  setCookie,\n  getCookie,\n} from '@/utils';\n\nexport default {\n  name: 'trade',\n  data() {\n    return {\n      markTitleClass: 'markTitle',\n      symbolNameClass: 'sSymbolName',\n      imgMap,\n      colorMap,\n      routerPathClass: 'trade',\n      // 是否是收起状态\n      shrink: false,\n      // 24小时行情 是否是收起状态\n      marketShrink: false,\n      // 窗口宽度\n      screenWidth: null,\n      // 延迟执行\n      windowOnResizeFire: true,\n      // 宽度分割\n      mediaWidth: 1820,\n      // shuju\n      marketData: null,\n      // MywebSocket\n      MywebSocket: null,\n      // 当前市场\n      marketCurrent: null,\n      // 当前币对\n      symbolCurrent: null,\n      // 当前币对列表\n      symbolCurrentList: [],\n      // 深度级别\n      depthClasses: '0',\n      // 深度值\n      depthValue: null,\n      // 图表遮罩\n      coverKlineBox: null,\n      routeSymbol: this.$route.params.symbol,\n      isFull: null,\n      tradeLimitData: null,\n      tradeAlertState: false,\n      etfDialog: false,\n      etfUrl: '',\n      etfName: '',\n      etfTimer: null,\n      etfPrice: '--',\n      lTime: null,\n      lastTimeS: myStorage.get('lastTimeS'),\n    };\n  },\n  computed: {\n    fundRate() {\n      const { publicInfo } = this.$store.state.baseData;\n      let str = '';\n      if (publicInfo && publicInfo.fundRate) {\n        str = publicInfo.fundRate;\n      }\n      return str;\n    },\n    // market 接口\n    market() { return this.$store.state.baseData.market; },\n    ...mapState({\n      baseInfo({ baseData }) {\n        this.marketData = baseData.market;\n        // 获取当前市场\n        this.marketCurrent = myStorage.get(this.markTitleClass);\n        // 获取当前币对\n        this.symbolCurrent = myStorage.get(this.symbolNameClass);\n        return baseData;\n      },\n      hasTradeLimitOpen({ baseData }) {\n        return baseData.has_trade_limit_open;\n      },\n    }),\n    // 全部币种列表\n    coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    trade_board_is_fold() {\n      return this.$store.state.baseData.trade_board_is_fold;\n    },\n    // 当前币对精度计算的值\n    fixValue() {\n      if (this.symbolAll && this.symbolCurrent) {\n        const symbol = this.symbolAll[this.symbolCurrent];\n        return {\n          priceFix: symbol.price,\n          volumeFix: symbol.volume,\n        };\n      }\n      return {\n        priceFix: 2,\n        volumeFix: 8,\n      };\n    },\n    tradeLimitAlertText() {\n      let text = '';\n      if (this.tradeLimitData) {\n        const symbol = this.$route.params.symbol.split('_')[0];\n        const {\n          trade_limit_buy_info: tradeLimtBuyInfo,\n          trade_limit_sell_info: tradeLimitSellInfo,\n          trade_symbol_sell_limit: tradeSymbolSellLimit,\n          trade_symbol_buy_limit: tradeSymbolBuyLimit,\n        } = this.tradeLimitData;\n\n        // 该币对限制每日交易数量\n        text = `${this.$t('tradeLimt.tradeLimit_text_everyDayCount')}`;\n        // 单日最大买入量为：\n        const txt1 = `${this.$t('tradeLimt.tradeLimit_text_everyDayBuy') + fixD(tradeSymbolBuyLimit, this.fixValue.volumeFix) + symbol + this.$t('tradeLimt.tradeLimit_text_everyDayBuy_end')}，`;\n        // 单日最大卖出量为：\n        const txt2 = `${this.$t('tradeLimt.tradeLimit_text_everyDaySell') + fixD(tradeSymbolSellLimit, this.fixValue.volumeFix) + symbol + this.$t('tradeLimt.tradeLimit_text_everyDaySell_end')}`;\n        // 未限制买入交易\n        const txt3 = this.$t('tradeLimt.tradeLimit_text_noLimitBuy');\n        // 未限制卖出交易\n        const txt4 = this.$t('tradeLimt.tradeLimit_text_noLimitSell');\n\n        text += (tradeLimtBuyInfo ? txt1 : txt3);\n        text += (tradeLimitSellInfo ? txt2 : txt4);\n      }\n\n      return text;\n    },\n    templateLayoutType() {\n      return this.$store.state.baseData.templateLayoutType;\n    },\n    worker() {\n      return worker();\n    },\n    // 是否Login\n    isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    // Market 数据\n    marketList() {\n      return this.marketData ? this.marketData.market : null;\n    },\n    // 当前币对列表\n    symbolList() {\n      // 如果 当前市场 是 自选市场\n      if (this.marketCurrent === 'myMarket') {\n        const mySymbol = myStorage.get('mySymbol') || [];\n        const marketList = {};\n        if (mySymbol.length) {\n          mySymbol.forEach((item) => {\n            if (item && this.symbolAll[item]) {\n              marketList[item] = this.symbolAll[item];\n            }\n          });\n        }\n        return marketList;\n      }\n      if (this.marketList && this.marketCurrent) {\n        return this.marketList[this.marketCurrent];\n      }\n      return null;\n    },\n    // 汇率单位\n    rateData() {\n      return this.$store.state.baseData.rate;\n    },\n    // 设置 收缩版本 还是展开版\n    leftClasses() {\n      return this.marketShrink ? 'left-shrinks' : 'left-expand';\n    },\n    currentSymbolCase() {\n      if (this.symbolCurrent) {\n        const symbolArr = this.symbolCurrent.toLowerCase().split('/');\n        return symbolArr[0] + symbolArr[1];\n      }\n      return null;\n    },\n    copySymbolCurrent() {\n      return this.symbolCurrent;\n    },\n  },\n  watch: {\n    market: {\n      immediate: true,\n      handler(v) {\n        if (v) {\n          this.init();\n          this.initEtfDialog();\n        }\n      },\n    },\n    copySymbolCurrent: {\n      immediate: true,\n      handler(v) {\n        if (v) { this.initEtfDialog(); }\n      },\n    },\n    trade_board_is_fold: {\n      handler() {\n        if (this.trade_board_is_fold) {\n          setTimeout(() => {\n            if (this.screenWidth <= this.mediaWidth) {\n              this.$bus.$emit('extend');\n            }\n          }, 0);\n        }\n      },\n      immediate: true,\n    },\n    hasTradeLimitOpen(val) {\n      if (val && this.currentSymbolCase) {\n        this.getTradeLimitInfo(this.currentSymbolCase);\n      }\n    },\n    // 监听 获取到数据\n    marketData(val) {\n      if (val.wsUrl) {\n        // 创建WS\n        this.worker.postMessage({\n          type: 'CREAT_WEBSOCKET',\n          data: {\n            wsUrl: val.wsUrl,\n            lan: this.$store.state.baseData.lan,\n            rate: this.rateData,\n            symbolAll: this.symbolAll,\n          },\n        });\n      }\n    },\n    // 监听 当前市场的切换\n    marketCurrent(val, oldVla) {\n      if (oldVla) {\n        // 存储 上一次选中的市场\n        this.oldMarket = oldVla;\n      } else {\n        this.oldMarket = val;\n      }\n    },\n    // 监听 当前选中货币对的改变\n    symbolCurrent(val, oldVla) {\n      if (val && this.symbolAll) {\n        this.getJz();\n        // const sSymbolShowName = this.symbolAll[val].showName || val;\n        const sSymbolShowName = this.symbolAll[val].showName || val;\n        const sSymbol = sSymbolShowName.replace('/', '_');\n        if (this.symbolAll[val].etfOpen) {\n          myStorage.set(this.markTitleClass, 'ETF');\n        }\n        this.$router.push(`/${this.routerPathClass}/${sSymbol}`);\n        this.$bus.$emit('SYMBOL_CURRENT', val);\n      }\n      if (this.hasTradeLimitOpen) {\n        const symbol = val.replace('/', '').toLocaleLowerCase();\n        this.getTradeLimitInfo(symbol);\n      }\n      if (oldVla && this.MywebSocket) {\n        if (this.oldMarket !== val.split('/')[1]) {\n          // 如果 切换了市场 又切换了币对 就 停止 上一个币对的 24小时行情 send\n          this.webSocketSend('Market', 'unsub', val, { [oldVla]: this.symbolAll[oldVla] });\n        }\n        // 停止 上一个币对的 实时成交 send\n        this.webSocketSend('Trade', 'unsub', oldVla);\n        // 发送 实时成交 数据 Send\n        this.webSocketSend('Trade', 'req', val);\n        this.webSocketSend('Trade', 'sub', val);\n        // 取消订阅 上一个币对的K线数据\n        this.webSocketKlineSend('unsub', oldVla, this.lastTimeS);\n        // 发送 K线历史数据 send\n        this.webSocketKlineSend('req', val, this.lastTimeS);\n        // 发送 K线实时数据 send\n        this.webSocketKlineSend('sub', val, this.lastTimeS);\n        this.depthClasses = '0';\n        setTimeout(() => {\n          // 发送 盘口深度 数据 Send\n          this.webSocketSend('Depth', 'unsub', oldVla, this.depthClasses);\n          if (this.depthClasses !== '0') {\n            this.webSocketSend('Depth', 'unsub', oldVla, '0');\n          }\n          this.webSocketSend('Depth', 'sub', val, this.depthClasses);\n        });\n      }\n    },\n    // 监听 当前币对列表的变化\n    symbolList(val, oldVla) {\n      this.$bus.$emit('SYMBOL_LIST', val);\n      if (this.MywebSocket) {\n        // 发送 24小时行情实时数据 Send -- unsub\n        this.webSocketSend('Market', 'unsub', this.symbolCurrent, oldVla);\n        // 发送 24小时行情实时数据 Send -- sub\n        this.webSocketSend('Market', 'sub', this.symbolCurrent, val);\n      }\n    },\n    // 监听 webSocket 创建成功\n    MywebSocket(val) {\n      if (val) {\n        // 发送 24小时行情历史数据 Send\n        this.webSocketSend('Review', null, this.symbolCurrent, this.symbolList);\n        // 发送 24小时行情实时数据 Send\n        this.webSocketSend('Market', 'sub', this.symbolCurrent, this.symbolList);\n        // 发送 实时成交 数据 Send\n        this.webSocketSend('Trade', 'req', this.symbolCurrent);\n        this.webSocketSend('Trade', 'sub', this.symbolCurrent);\n        // 发送 盘口深度数据 Send\n        this.webSocketSend('Depth', 'sub', this.symbolCurrent, this.depthClasses);\n        // 发送 K线历史数据 send\n        this.webSocketKlineSend('req', this.symbolCurrent, this.lastTimeS);\n        // 发送 K线实时数据 send\n        this.webSocketKlineSend('sub', this.symbolCurrent, this.lastTimeS);\n      }\n    },\n    // 监听 货币汇率单位\n    rateData(val) {\n      if (val) {\n        this.$bus.$emit('RATE_DATA', val);\n      }\n    },\n    // 监听 深度切换\n    depthClasses(val, oldVal) {\n      setTimeout(() => {\n        if (oldVal) {\n          if (oldVal !== '0') {\n            this.webSocketSend('Depth', 'unsub', this.symbolCurrent, oldVal);\n          }\n        }\n        this.webSocketSend('Depth', 'sub', this.symbolCurrent, val);\n      });\n    },\n    // 监听K线刻度的变化\n    lastTimeS(data, olddata) {\n      // 取消订阅 上一个币对的K线数据\n      this.webSocketKlineSend('unsub', this.symbolCurrent, olddata);\n      // 发送 K线历史数据 send\n      this.webSocketKlineSend('req', this.symbolCurrent, data);\n      // 发送 K线实时数据 send\n      this.webSocketKlineSend('sub', this.symbolCurrent, data);\n    },\n  },\n  methods: {\n    getJz() {\n      let flag = false;\n      clearInterval(this.etfTimer);\n      if (this.symbolCurrent && this.symbolAll) {\n        flag = !!this.symbolAll[this.symbolCurrent].etfOpen;\n      }\n      this.etfPrice = '--';\n      if (!flag) return;\n      // console.log()\n      this.getJzAxios(this.symbolCurrent);\n      this.etfTimer = setInterval(() => {\n        this.getJzAxios();\n      }, 3000);\n    },\n    getJzAxios() {\n      const arr = this.symbolCurrent.split('/');\n      this.axios({\n        url: '/etfAct/netValue',\n        method: 'post',\n        params: {\n          base: arr[0],\n          quote: arr[1],\n        },\n      }).then((data) => {\n        if (data.code === '0') {\n          this.etfPrice = data.data.price;\n          // if (data.data.fundRate) {\n          //   this.fundRate = data.data.fundRate;\n          // }\n          // this.etfUrl = data.data.faqUrl;\n          // this.etfName = data.data.domainName;\n        } else {\n          // this.$bus.$emit('tip', { text: data.msg, type: 'error' });\n        }\n      });\n    },\n    createdInit() {\n      this.axios({\n        url: 'etfAct/faqInfo',\n        // method: 'get',\n      }).then((data) => {\n        if (data.code === '0') {\n          this.etfUrl = data.data.faqUrl;\n          this.etfName = data.data.domainName;\n        } else {\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\n        }\n      });\n    },\n    initEtfDialog() {\n      if (this.symbolAll && this.copySymbolCurrent) {\n        const symbol = this.copySymbolCurrent;\n        if (this.symbolAll\n          && this.symbolAll[symbol]\n          && this.symbolAll[symbol].etfOpen\n          && !getCookie('etfDialog')) {\n          this.etfDialog = true;\n        }\n      }\n    },\n    etfDialogConfirm() {\n      this.etfDialog = false;\n      setCookie('etfDialog', true);\n    },\n    hideTradeAlert() {\n      this.tradeAlertState = false;\n    },\n    getTradeLimitInfo(symbol) {\n      this.axios({\n        url: 'order/trade_limit_info',\n        params: {\n          symbol,\n        },\n        method: 'post',\n      }).then((res) => {\n        if (res.code !== '0') return;\n\n        const { data } = res;\n        Object.keys(data).forEach((key) => {\n          data[key] = Number(data[key]);\n        });\n\n        if (this.currentSymbolCase === symbol) {\n          const sellInfo = Number(data.trade_limit_sell_info);\n          const buyInfo = Number(data.trade_limit_buy_info);\n          this.tradeLimitData = data;\n          this.tradeAlertState = Boolean(sellInfo || buyInfo);\n        }\n      });\n    },\n    init() {\n      this.getJz();\n      if (this.routeSymbol) {\n        let symbolNameClassCion = this.routeSymbol.split('_')[0];\n        let markTitleClassCion = this.routeSymbol.split('_')[1];\n        const symbolNameClass = this.routeSymbol.split('_')[0];\n        const markTitleClass = this.routeSymbol.split('_')[1];\n        const coinLisArr = Object.keys(this.coinList);\n        coinLisArr.forEach((item) => {\n          const { showName } = this.coinList[item];\n          if (showName === markTitleClass) {\n            markTitleClassCion = item;\n          }\n          if (showName === symbolNameClass) {\n            symbolNameClassCion = item;\n          }\n        });\n        const symbol = `${symbolNameClassCion}/${markTitleClassCion}`;\n        if (this.symbolAll[symbol] && this.symbolAll[symbol].etfOpen) {\n          markTitleClassCion = 'ETF';\n        }\n        if (markTitleClassCion && symbolNameClassCion) {\n          myStorage.set(this.markTitleClass, markTitleClassCion);\n          myStorage.set(this.symbolNameClass, symbol);\n        }\n      } else {\n        const sSymbolName = myStorage.get(this.symbolNameClass);\n        if (sSymbolName) {\n          const sSymbolShowName = this.symbolAll[sSymbolName].showName || sSymbolName;\n          const sSymbol = sSymbolShowName.replace('/', '_');\n          this.$router.push(`/${this.routerPathClass}/${sSymbol}`);\n        }\n      }\n\n      this.screenWidth = document.body.clientWidth;\n      if (this.screenWidth <= this.mediaWidth) {\n        this.shrink = true;\n        this.marketShrink = true;\n      }\n      // 监听 窗口的大小改变\n      this.$bus.$on('WINFOW_ON_RESIIZE', () => {\n        // this.$bus.$emit('WINFOW_ON_RESIIZE', );\n        if (this.windowOnResizeFire) {\n          this.screenWidth = document.body.clientWidth;\n          if (this.screenWidth <= this.mediaWidth) {\n            // 如果 屏幕窗口 小于阈值 设置成收起模式\n            this.shrink = true;\n            this.marketShrink = true;\n          } else {\n            // 如果 屏幕窗口 大于阈值 设置成展开模式\n            this.shrink = false;\n            this.marketShrink = false;\n          }\n          this.windowOnResizeFire = false;\n          // 0.3秒之后将标志位重置\n          setTimeout(() => {\n            this.windowOnResizeFire = true;\n          });\n        }\n      });\n      this.listenBusEvent();\n      this.worker.onmessage = (event) => {\n        const { data } = event;\n        // 监听 WebSocket 链接成功\n        if (data.type === 'WEBSOCKET_ON_OPEN') {\n          this.MywebSocket = data.data.type;\n          this.$bus.$emit('WEBSOCKET_ON_OPEN', this.MywebSocket);\n        }\n        // 监听 WS 数据\n        if (data.type === 'WEBSOCKET_DATA') {\n          this.listenWSData(data.data);\n        }\n      };\n    },\n    listenBusEvent() {\n      // 监听 市场切换\n      this.$bus.$on('ON_MARKET_SWITCH', (data) => {\n        this.marketCurrent = data;\n      });\n      // 监听 币对切换\n      this.$bus.$on('ON_SYMBOL_SWITCH', (data) => {\n        myStorage.set(this.markTitleClass, this.marketCurrent);\n        myStorage.set(this.symbolNameClass, data);\n        this.symbolCurrent = data;\n\n        if (this.isLogin) {\n          this.$store.dispatch('assetsExchangeData', {\n            auto: false,\n            coinSymbols: data.replace('/', ','),\n          });\n        }\n      });\n      // 监听 深度级别的切换\n      this.$bus.$on('DEPTH_CLASSES', (data) => {\n        this.depthClasses = data;\n      });\n      // 监听 深度级别的值\n      this.$bus.$on('DEPTH_VALUE', (data) => {\n        this.depthValue = data;\n      });\n      // 监听 kline 发送Send\n      this.$bus.$on('WEBSOCKET_KLINE_SEND', (data) => {\n        this.worker.postMessage({\n          type: 'WEBSOCKET_KLINE_SEND',\n          data,\n        });\n      });\n      this.$bus.$on('LTIME', (data) => {\n        this.lTime = data;\n      });\n      this.$bus.$on('LAST-TIMES', (data) => {\n        this.lastTimeS = data;\n      });\n    },\n    listenWSData(data) {\n      const { type, WsData } = data;\n      this.$bus.$emit(type, WsData);\n\n      if (type === 'KLINE_DATA_REQ') {\n        this.$store.dispatch('kLinwReqData', WsData);\n      }\n      if (type === 'KLINE_DATA_SUB') {\n        this.$store.dispatch('kLinwSubData', WsData);\n      }\n\n      if (type === 'TRADE_DATA') {\n        this.worker.postMessage({\n          type: 'TRADE_QUEUE_DATA',\n          data: WsData.queueDataList,\n        });\n      }\n    },\n    webSocketSend(type, sendType, symbolData, symbolList) {\n      this.worker.postMessage({\n        type: 'WEBSOCKET_SEND',\n        data: {\n          type,\n          sendType,\n          symbolData,\n          symbolList,\n          depthValue: this.depthValue,\n        },\n      });\n    },\n    // 隐藏基本版 临时注释掉\n    // type, symbolData, lastTimeS\n    webSocketKlineSend() {\n      // const lastTimeSval = lastTimeS === 'Line' ? '1min' : lastTimeS;\n      // const arr = symbolData.split('/');\n      // const symbol = `${arr[0].toLowerCase()}${arr[1].toLowerCase()}`;\n      // this.worker.postMessage({\n      //   type: 'WEBSOCKET_KLINE_SEND',\n      //   data: {\n      //     type,\n      //     symbol,\n      //     lastTimeS: lastTimeSval,\n      //     lTime: this.lTime,\n      //     number: 150,\n      //   },\n      // });\n    },\n    shrinkBlock() {\n      this.marketShrink = !this.marketShrink;\n    },\n    serachShrinkBlock() {\n      this.marketShrink = false;\n    },\n    ondblclick() {\n      return false;\n    },\n    onclickfun(e) {\n      // 显示和隐藏币币交易页面 TradingView 的遮罩\n      if (e.target.className === 'coverKlineBox') {\n        this.coverKlineBox = e.target;\n      }\n      if (e.target.className === 'coverKlineBox') {\n        this.coverKlineBox.style.display = 'none';\n      } else if (this.coverKlineBox) {\n        this.coverKlineBox.style.display = 'block';\n        this.coverKlineBox = null;\n      }\n    },\n  },\n};\n"]}]}