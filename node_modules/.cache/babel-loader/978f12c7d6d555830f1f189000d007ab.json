{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/commission/commission.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/commission/commission.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { imgMap, colorMap, fixD, formatTime } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      currentTab: 1,\n      lineHeight: '55',\n      marginRight: 50,\n      // 距离右边的距离\n      loading1: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      loading2: true,\n      dataList: [],\n      dataList2: [],\n      cellHeight: 55,\n      headHeight: 30,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // 分页器1\n      list1Page: {\n        count: 0,\n        // 总条数\n        page: 1,\n        // 当前page\n        pageSize: 10 // 每页显示\n\n      },\n      // 分页器2\n      list2Page: {\n        count: 0,\n        // 总条数\n        page: 1,\n        // 当前page\n        pageSize: 10 // 每页显示\n\n      },\n      startTime: '',\n      endTime: '',\n      coin: 'all',\n      coinList: []\n    };\n  },\n  watch: {\n    market: {\n      immediate: true,\n      handler: function handler(v) {\n        if (v) {\n          this.init();\n        }\n      }\n    }\n  },\n  computed: {\n    usdtFix: function usdtFix() {\n      var fix = 2;\n\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\n        fix = this.market.coinList.USDT.showPrecision;\n      }\n\n      return fix;\n    },\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    sideList: function sideList() {\n      return [// 方向选择列表\n      // 全部\n      {\n        code: 'all',\n        value: this.$t('order.exchangeOrder.all')\n      }, // 买入\n      {\n        code: 'buy',\n        value: this.$t('order.exchangeOrder.buy')\n      }, // 卖出\n      {\n        code: 'sell',\n        value: this.$t('order.exchangeOrder.sell')\n      }];\n    },\n    startTimeNum: function startTimeNum() {\n      return (new Date(this.startTime.replace(/-/g, '/')).getTime() / 1000).toString();\n    },\n    endTimeNum: function endTimeNum() {\n      return (new Date(this.endTime.replace(/-/g, '/')).getTime() / 1000).toString();\n    },\n    startTimeText: function startTimeText() {\n      return this.$t('broker.startTime');\n    },\n    endTimeText: function endTimeText() {\n      return this.$t('freeStaking.myPos.endTime');\n    },\n    navTab: function navTab() {\n      return [{\n        name: this.$t('brokerSystem.commissionNavTab[0]'),\n        index: 1\n      }, {\n        name: this.$t('brokerSystem.commissionNavTab[1]'),\n        index: 2\n      }];\n    },\n    columns: function columns() {\n      return [{\n        title: this.$t('brokerSystem.commissionTable[1]'),\n        align: 'left',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[2]'),\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[3]'),\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[4]'),\n        align: 'right',\n        width: ''\n      }];\n    },\n    columns2: function columns2() {\n      return [{\n        title: this.$t('brokerSystem.commissionTable[0]'),\n        align: 'left',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[1]'),\n        align: 'center',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[2]'),\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[3]'),\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[4]'),\n        width: ''\n      }, {\n        title: this.$t('brokerSystem.commissionTable[5]'),\n        align: 'right',\n        width: ''\n      }];\n    }\n  },\n  methods: {\n    init: function init() {\n      this.startTime = this.getNowTime(this.getMonth(-1));\n      this.endTime = this.getNowTime(this.getMonth(0)); // const arr = [\n      //   { code: 'all', value: this.$t('order.exchangeOrder.all') },\n      // ];\n      // Object.keys(this.market.coinList).forEach((v) => {\n      //   const even = this.market.coinList[v];\n      //   arr.push({\n      //     code: even.showName || even.name,\n      //     value: even.name,\n      //   });\n      // });\n      // this.coinList = arr;\n\n      this.getList1();\n    },\n    pagechange1: function pagechange1(v) {\n      this.list1Page.page = v;\n      this.getList1();\n    },\n    pagechange2: function pagechange2(v) {\n      this.list2Page.page = v;\n      this.getList2();\n    },\n    getList1: function getList1() {\n      var _this = this;\n\n      // const data = {\n      //   mapList: [\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\n      //   ]\n      // }\n      this.axios({\n        url: 'co/agent/bonus_survey',\n        hostType: 'fe-increment-api',\n        params: {\n          page: this.list1Page.page,\n          pageSize: this.list1Page.pageSize\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          _this.setList1(data.data.mapList);\n\n          _this.list1Page.count = data.data.count;\n\n          _this.setV2(data.data.mapList);\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    setV2: function setV2(data) {\n      var arr = [{\n        code: 'all',\n        value: this.$t('order.exchangeOrder.all')\n      }];\n      data.forEach(function (v) {\n        arr.push({\n          code: v.coin,\n          value: v.coin\n        });\n      });\n      this.coinList = arr;\n      this.getList2();\n    },\n    getFix: function getFix(v) {\n      var fix = 2;\n\n      if (this.market && this.market.coinList && this.market.coinList[v]) {\n        fix = this.market.coinList[v].showPrecision;\n      }\n\n      return fix;\n    },\n    setList1: function setList1(data) {\n      var _this2 = this;\n\n      this.loading1 = false;\n      var arr = [];\n      data.forEach(function (item, index) {\n        var fix = _this2.getFix(item.coin.toUpperCase());\n\n        arr.push({\n          id: index,\n          data: [item.coin, fixD(item.amount_return, fix), fixD(item.amount_sub, fix), fixD(item.amount_total, fix)]\n        });\n      });\n      this.dataList = arr;\n    },\n    getList2: function getList2() {\n      var _this3 = this;\n\n      this.axios({\n        url: 'co/agent/bonus_record',\n        hostType: 'fe-increment-api',\n        params: {\n          page: this.list2Page.page,\n          pageSize: this.list2Page.pageSize,\n          start_time: formatTime(new Date(this.startTime).getTime()),\n          end_time: formatTime(new Date(this.endTime).getTime()),\n          coin: this.coin === 'all' ? undefined : this.coin\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          _this3.setList2(data.data.mapList);\n\n          _this3.list2Page.count = data.data.count;\n        } else {\n          _this3.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      }); // const data = [\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\n      // ]\n    },\n    setList2: function setList2(data) {\n      var _this4 = this;\n\n      this.loading2 = false;\n      var arr = [];\n      data.forEach(function (item, index) {\n        var fix = _this4.getFix(item.coin.toUpperCase());\n\n        arr.push({\n          id: index,\n          data: [item.time ? formatTime(item.time) : '--', // 时间\n          item.coin, // 币种\n          fixD(item.amount_return, fix), // 直推佣金\n          fixD(item.amount_sub, fix), // 子经纪分佣\n          fixD(item.amount_total, fix), // 累计佣金\n          _this4.$t('brokerSystem.commissionTable[6]')]\n        });\n      });\n      this.dataList2 = arr;\n    },\n    getMonth: function getMonth(n) {\n      var date = new Date();\n      return date.setMonth(date.getMonth() + n);\n    },\n    getNowTime: function getNowTime() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var date = new Date(time);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n    },\n    startTimeSelect: function startTimeSelect(v) {\n      this.startTime = v;\n      this.loading2 = true;\n      this.list2Page.page = 1;\n      this.getList2();\n    },\n    endTimeSelect: function endTimeSelect(v) {\n      this.endTime = v;\n      this.loading2 = true;\n      this.list2Page.page = 1;\n      this.getList2();\n    },\n    currentType: function currentType(data) {\n      this.currentTab = data.index;\n    },\n    coinChange: function coinChange(item) {\n      this.coin = item.code;\n      this.loading2 = true;\n      this.list2Page.page = 1;\n      this.getList2();\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/commission/commission.js"],"names":["imgMap","colorMap","fixD","formatTime","data","currentTab","lineHeight","marginRight","loading1","loading2","dataList","dataList2","cellHeight","headHeight","lineNumber","classes","headClasses","bodyClasses","lineClass","list1Page","count","page","pageSize","list2Page","startTime","endTime","coin","coinList","watch","market","immediate","handler","v","init","computed","usdtFix","fix","USDT","showPrecision","$store","state","baseData","sideList","code","value","$t","startTimeNum","Date","replace","getTime","toString","endTimeNum","startTimeText","endTimeText","navTab","name","index","columns","title","align","width","columns2","methods","getNowTime","getMonth","getList1","pagechange1","pagechange2","getList2","axios","url","hostType","params","then","setList1","mapList","setV2","$bus","$emit","text","msg","type","arr","forEach","push","getFix","item","toUpperCase","id","amount_return","amount_sub","amount_total","start_time","end_time","undefined","setList2","time","n","date","setMonth","year","getFullYear","month","day","getDate","startTimeSelect","endTimeSelect","currentType","coinChange"],"mappings":"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","sourcesContent":["import {\r\n  imgMap, colorMap, fixD, formatTime,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentTab: 1,\r\n      lineHeight: '55',\r\n      marginRight: 50, // 距离右边的距离\r\n      loading1: true,\r\n      imgMap,\r\n      colorMap,\r\n      loading2: true,\r\n      dataList: [],\r\n      dataList2: [],\r\n      cellHeight: 55,\r\n      headHeight: 30,\r\n      lineNumber: 10,\r\n      classes: '',\r\n      headClasses: '',\r\n      bodyClasses: '',\r\n      lineClass: '',\r\n      // 分页器1\r\n      list1Page: {\r\n        count: 0, // 总条数\r\n        page: 1, // 当前page\r\n        pageSize: 10, // 每页显示\r\n      },\r\n      // 分页器2\r\n      list2Page: {\r\n        count: 0, // 总条数\r\n        page: 1, // 当前page\r\n        pageSize: 10, // 每页显示\r\n      },\r\n      startTime: '',\r\n      endTime: '',\r\n      coin: 'all',\r\n      coinList: [],\r\n    };\r\n  },\r\n  watch: {\r\n    market: {\r\n      immediate: true,\r\n      handler(v) {\r\n        if (v) { this.init(); }\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    usdtFix() {\r\n      let fix = 2;\r\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\r\n        fix = this.market.coinList.USDT.showPrecision;\r\n      }\r\n      return fix;\r\n    },\r\n    market() { return this.$store.state.baseData.market; },\r\n    sideList() {\r\n      return [ // 方向选择列表\r\n        // 全部\r\n        { code: 'all', value: this.$t('order.exchangeOrder.all') },\r\n        // 买入\r\n        { code: 'buy', value: this.$t('order.exchangeOrder.buy') },\r\n        // 卖出\r\n        { code: 'sell', value: this.$t('order.exchangeOrder.sell') },\r\n      ];\r\n    },\r\n    startTimeNum() {\r\n      return (new Date(this.startTime.replace(/-/g, '/')).getTime() / 1000).toString();\r\n    },\r\n    endTimeNum() {\r\n      return (new Date(this.endTime.replace(/-/g, '/')).getTime() / 1000).toString();\r\n    },\r\n    startTimeText() {\r\n      return this.$t('broker.startTime');\r\n    },\r\n    endTimeText() {\r\n      return this.$t('freeStaking.myPos.endTime');\r\n    },\r\n    navTab() {\r\n      return [\r\n        {\r\n          name: this.$t('brokerSystem.commissionNavTab[0]'),\r\n          index: 1,\r\n        },\r\n        {\r\n          name: this.$t('brokerSystem.commissionNavTab[1]'),\r\n          index: 2,\r\n        },\r\n      ];\r\n    },\r\n    columns() {\r\n      return [\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[1]'),\r\n          align: 'left',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[2]'),\r\n          align: 'center',\r\n          width: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[3]'),\r\n          align: 'center',\r\n          width: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[4]'),\r\n          align: 'right',\r\n          width: '',\r\n        },\r\n      ];\r\n    },\r\n    columns2() {\r\n      return [\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[0]'),\r\n          align: 'left',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[1]'),\r\n          align: 'center',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[2]'),\r\n          align: 'center',\r\n          width: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[3]'),\r\n          align: 'center',\r\n          width: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[4]'),\r\n          width: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[5]'),\r\n          align: 'right',\r\n          width: '',\r\n        },\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.startTime = this.getNowTime(this.getMonth(-1));\r\n      this.endTime = this.getNowTime(this.getMonth(0));\r\n      // const arr = [\r\n      //   { code: 'all', value: this.$t('order.exchangeOrder.all') },\r\n      // ];\r\n      // Object.keys(this.market.coinList).forEach((v) => {\r\n      //   const even = this.market.coinList[v];\r\n      //   arr.push({\r\n      //     code: even.showName || even.name,\r\n      //     value: even.name,\r\n      //   });\r\n      // });\r\n      // this.coinList = arr;\r\n      this.getList1();\r\n    },\r\n    pagechange1(v) {\r\n      this.list1Page.page = v;\r\n      this.getList1();\r\n    },\r\n    pagechange2(v) {\r\n      this.list2Page.page = v;\r\n      this.getList2();\r\n    },\r\n    getList1() {\r\n      // const data = {\r\n      //   mapList: [\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //     { coin: 'USDT', amount_total: '1', amount_return: '2', amount_sub: '3', },\r\n      //   ]\r\n      // }\r\n      this.axios({\r\n        url: 'co/agent/bonus_survey',\r\n        hostType: 'fe-increment-api',\r\n        params: {\r\n          page: this.list1Page.page,\r\n          pageSize: this.list1Page.pageSize,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          this.setList1(data.data.mapList);\r\n          this.list1Page.count = data.data.count;\r\n          this.setV2(data.data.mapList);\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    setV2(data) {\r\n      const arr = [\r\n        { code: 'all', value: this.$t('order.exchangeOrder.all') },\r\n      ];\r\n      data.forEach((v) => {\r\n        arr.push({\r\n          code: v.coin,\r\n          value: v.coin,\r\n        });\r\n      });\r\n      this.coinList = arr;\r\n      this.getList2();\r\n    },\r\n    getFix(v) {\r\n      let fix = 2;\r\n      if (this.market && this.market.coinList && this.market.coinList[v]) {\r\n        fix = this.market.coinList[v].showPrecision;\r\n      }\r\n      return fix;\r\n    },\r\n    setList1(data) {\r\n      this.loading1 = false;\r\n      const arr = [];\r\n      data.forEach((item, index) => {\r\n        const fix = this.getFix(item.coin.toUpperCase());\r\n        arr.push({\r\n          id: index,\r\n          data: [\r\n            item.coin,\r\n            fixD(item.amount_return, fix),\r\n            fixD(item.amount_sub, fix),\r\n            fixD(item.amount_total, fix),\r\n          ],\r\n        });\r\n      });\r\n      this.dataList = arr;\r\n    },\r\n    getList2() {\r\n      this.axios({\r\n        url: 'co/agent/bonus_record',\r\n        hostType: 'fe-increment-api',\r\n        params: {\r\n          page: this.list2Page.page,\r\n          pageSize: this.list2Page.pageSize,\r\n          start_time: formatTime(new Date(this.startTime).getTime()),\r\n          end_time: formatTime(new Date(this.endTime).getTime()),\r\n          coin: this.coin === 'all' ? undefined : this.coin,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          this.setList2(data.data.mapList);\r\n          this.list2Page.count = data.data.count;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n      // const data = [\r\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\r\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\r\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\r\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\r\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\r\n      //   { coin: 'USDT', amount_total: '123', amount_return: '13', amount_sub: 123, time: 123 },\r\n      // ]\r\n    },\r\n    setList2(data) {\r\n      this.loading2 = false;\r\n      const arr = [];\r\n      data.forEach((item, index) => {\r\n        const fix = this.getFix(item.coin.toUpperCase());\r\n        arr.push({\r\n          id: index,\r\n          data: [\r\n            item.time ? formatTime(item.time) : '--', // 时间\r\n            item.coin, // 币种\r\n            fixD(item.amount_return, fix), // 直推佣金\r\n            fixD(item.amount_sub, fix), // 子经纪分佣\r\n            fixD(item.amount_total, fix), // 累计佣金\r\n            this.$t('brokerSystem.commissionTable[6]'),\r\n          ],\r\n        });\r\n      });\r\n      this.dataList2 = arr;\r\n    },\r\n    getMonth(n) {\r\n      const date = new Date();\r\n      return date.setMonth(date.getMonth() + n);\r\n    },\r\n    getNowTime(time = '') {\r\n      const date = new Date(time);\r\n      const year = date.getFullYear();\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n\r\n      return `${year}-${month}-${day}`;\r\n    },\r\n    startTimeSelect(v) {\r\n      this.startTime = v;\r\n      this.loading2 = true;\r\n      this.list2Page.page = 1;\r\n      this.getList2();\r\n    },\r\n    endTimeSelect(v) {\r\n      this.endTime = v;\r\n      this.loading2 = true;\r\n      this.list2Page.page = 1;\r\n      this.getList2();\r\n    },\r\n    currentType(data) {\r\n      this.currentTab = data.index;\r\n    },\r\n    coinChange(item) {\r\n      this.coin = item.code;\r\n      this.loading2 = true;\r\n      this.list2Page.page = 1;\r\n      this.getList2();\r\n    },\r\n  },\r\n};\r\n"]}]}