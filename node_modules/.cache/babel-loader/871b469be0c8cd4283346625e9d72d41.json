{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/brokerSystem/overviewChars/overviewChars.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/brokerSystem/overviewChars/overviewChars.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport { colorMap, getHex, fixD } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      charsBar: null,\n      chartLine: null,\n      amountTotal: '--',\n      // 总数额\n      amountYesterday: '--',\n      // 昨天数额\n      amountYesterdayRate: '--',\n      // 昨天同比上日率\n      amountBYesterday: '--',\n      // 前天数额\n      amountBYesterdayRate: '--' // 前日同比上日率\n\n    };\n  },\n  props: {\n    reqReady: {\n      default: false,\n      type: Boolean\n    },\n    reqData: {\n      default: function _default() {},\n      type: Object\n    }\n  },\n  filters: {\n    rateFilter: function rateFilter(v) {\n      var num = parseFloat(v);\n      var str = '';\n\n      if (\"\".concat(num) === 'NaN') {\n        str = '--';\n      } else {\n        var vs = '';\n\n        if (num > 0) {\n          vs = '+';\n        }\n\n        str = \"\".concat(vs).concat(v, \"%\");\n      }\n\n      return str;\n    }\n  },\n  watch: {\n    reqReady: {\n      immediate: true,\n      handler: function handler(v) {\n        if (v) {\n          this.reqSet();\n        }\n      }\n    }\n  },\n  computed: {\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    usdtFix: function usdtFix() {\n      var fix = 0;\n\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\n        fix = this.market.coinList.USDT.showPrecision;\n      }\n\n      return fix;\n    }\n  },\n  methods: {\n    getRateClass: function getRateClass(v) {\n      var str = '';\n      var num = parseFloat(v);\n\n      if (num > 0) {\n        str = 'u-1-cl';\n      } else if (num < 0) {\n        str = 'u-4-cl';\n      } else {\n        str = '';\n      }\n\n      return str;\n    },\n    reqSet: function reqSet() {\n      this.setBonusData();\n      this.setBarData();\n      this.setLineData();\n    },\n    setBonusData: function setBonusData() {\n      var data = this.reqData.bonus_info;\n      this.amountTotal = fixD(data.amount_total, this.usdtFix); // 总数额\n\n      this.amountYesterday = fixD(data.amount_yesterday, this.usdtFix); // 昨天数额\n\n      this.amountBYesterday = fixD(data.amount_b_yesterday, this.usdtFix); // 前天数额\n\n      this.amountYesterdayRate = data.amount_yesterday_rate; // 昨天同比上日率\n\n      this.amountBYesterdayRate = data.amount_b_yesterday_rate; // 前日同比上日率\n    },\n    setLineData: function setLineData() {\n      var _this = this;\n\n      var data = this.reqData.bonus_week;\n      var timeArr = [];\n      var valueArr = [];\n      var tv = [this.$t('brokerSystem.weeks[0]'), this.$t('brokerSystem.weeks[1]'), this.$t('brokerSystem.weeks[2]'), this.$t('brokerSystem.weeks[3]'), this.$t('brokerSystem.weeks[4]'), this.$t('brokerSystem.weeks[5]'), this.$t('brokerSystem.weeks[6]')];\n      data.forEach(function (even) {\n        var newDate = new Date(even.time);\n        var m = newDate.getMonth() + 1;\n        var d = newDate.getDate();\n        var w = tv[newDate.getDay()];\n        timeArr.push({\n          value: \"\".concat(m, \"/\").concat(d, \" \").concat(w),\n          textStyle: {\n            align: 'center'\n          }\n        });\n        valueArr.push(fixD(even.amount, _this.usdtFix));\n      });\n\n      if (timeArr.length) {\n        timeArr[0].textStyle.align = 'left';\n        timeArr[timeArr.length - 1].textStyle.align = 'right';\n      }\n\n      this.chartLine.setOption({\n        xAxis: {\n          data: timeArr\n        },\n        series: [{\n          data: valueArr\n        }]\n      });\n    },\n    setBarData: function setBarData() {\n      var data = this.reqData.bonus_info;\n      this.charsBar.setOption({\n        legend: {\n          data: [this.$t('brokerSystem.charts[0]'), this.$t('brokerSystem.charts[1]')]\n        },\n        series: [{\n          data: [{\n            value: fixD(data.amount_return, this.usdtFix),\n            name: this.$t('brokerSystem.charts[0]'),\n            itemStyle: {\n              color: colorMap['u-8-bg']\n            }\n          }, {\n            value: fixD(data.amount_sub, this.usdtFix),\n            name: this.$t('brokerSystem.charts[1]'),\n            itemStyle: {\n              color: colorMap['a-13-bg']\n            }\n          }]\n        }]\n      });\n    },\n    init: function init() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.initChartsBar();\n\n        _this2.initChartsLine();\n      });\n    },\n    initChartsBar: function initChartsBar() {\n      this.charsBar = window.echarts.init(document.getElementById('overviewChars-bar'));\n      this.charsBar.setOption({\n        tooltip: {\n          trigger: 'item',\n          formatter: '{c} ({d}%)'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 140,\n          top: 40,\n          selectedMode: false,\n          data: [this.$t('brokerSystem.charts[0]'), this.$t('brokerSystem.charts[1]')],\n          textStyle: {\n            color: colorMap['b-2-cl']\n          }\n        },\n        series: [{\n          // name: '访问来源',\n          type: 'pie',\n          radius: ['80%', '100%'],\n          avoidLabelOverlap: false,\n          hoverAnimation: false,\n          // 是否开启 hover 在扇区上的放大动画效果。\n          center: [70, 70],\n          width: 140,\n          height: 140,\n          label: {\n            normal: {\n              show: false,\n              position: 'center'\n            },\n            emphasis: {\n              show: true,\n              textStyle: {\n                fontSize: '14',\n                fontWeight: 'bold',\n                color: colorMap['b-2-cl']\n              }\n            }\n          },\n          labelLine: {\n            normal: {\n              show: false\n            }\n          }\n        }]\n      });\n    },\n    initChartsLine: function initChartsLine() {\n      var _this3 = this;\n\n      this.chartLine = window.echarts.init(document.getElementById('overviewChars-line'));\n      var bg = {\n        normal: {\n          color: new window.echarts.graphic.LinearGradient(0, 0, 0, 1, [// { offset: 0, color: getHex(colorMap['u-8-bg']) },\n          // { offset: 1, color: getHex(colorMap['a-5-bg']) },\n          {\n            offset: 0,\n            color: colorMap['a-13-bg']\n          }, {\n            offset: 1,\n            color: colorMap['a-17-bg']\n          }])\n        }\n      };\n      this.chartLine.setOption({\n        // trigger: 'axis', // 不限时弹层\n        tooltip: {\n          trigger: 'axis',\n          // 不限时弹层\n          axisPointer: {\n            // 显示随手指移动的刻度线\n            type: 'cross',\n            crossStyle: {\n              width: 2,\n              color: getHex(colorMap['b-2-cl']),\n              type: 'cross'\n            }\n          }\n        },\n        grid: {\n          show: true,\n          borderWidth: 0,\n          borderColor: getHex(colorMap['a-3-bd']),\n          containLabel: true,\n          left: 5,\n          top: 40,\n          right: 5,\n          bottom: 0\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          axisPointer: {\n            show: true,\n            type: 'line',\n            lineStyle: {\n              color: getHex(colorMap['b-2-cl']),\n              width: 2,\n              type: 'dotted'\n            }\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl'])\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          } // data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n\n        },\n        yAxis: [{\n          type: 'value',\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl']),\n            formatter: function formatter(value) {\n              return fixD(value, _this3.usdtFix);\n            }\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          }\n        }],\n        series: [{\n          // data: [0, 1, 0, 1, 0, 1, 0],\n          type: 'line',\n          areaStyle: bg,\n          lineStyle: {\n            color: getHex(colorMap['u-8-bd'])\n          },\n          itemStyle: {\n            color: getHex(colorMap['u-8-bd']),\n            borderWidth: 0,\n            opacity: 0\n          }\n        }]\n      });\n    }\n  }\n};",null]}