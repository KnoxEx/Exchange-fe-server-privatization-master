{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/components/modules/coTrade/component/form-input.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/components/modules/coTrade/component/form-input.vue","mtime":1641907318062},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { fixInput } from '@/utils';\n// import Utils from '@/utils/coUtils.js';\n\nexport default {\n  name: 'form-input',\n  props: {\n    isMarket: {\n      default: false,\n      type: Boolean,\n    },\n    fix: {\n      default: 2,\n      type: [Number, String],\n    },\n    default: {\n      default: '',\n      type: [Number, String],\n    },\n    unit: {\n      default: '',\n      type: String,\n    },\n    title: {\n      default: '',\n      type: String,\n    },\n    placeHolder: {\n      default: '',\n      type: String,\n    },\n    haveMarket: {\n      default: false,\n      type: Boolean,\n    },\n    isVol: {\n      default: false,\n      type: Boolean,\n    },\n    isPercentage: {\n      default: '',\n      type: [Number, String],\n    },\n    isError: {\n      default: null,\n      type: [Number, String],\n    },\n    promptText: {\n      default: '',\n      type: String,\n    },\n\n  },\n  data() {\n    return {\n      value: '',\n      inputClass: '',\n      isFocus: false,\n    };\n  },\n  computed: {\n    coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    coinUnit() {\n      return this.$store.state.swap.coinUnit;\n    },\n    valueUnit() {\n      return this.$store.state.swap.valueUnit;\n    },\n  },\n  watch: {\n    default(val) {\n      this.value = val;\n    },\n    isError(val) {\n      this.inputClass = val ? 'a-19-bd' : 'a-3-bd';\n    },\n    isMarket(val) {\n      if (!val) {\n        setTimeout(() => {\n          this.$refs.formInput.focus();\n        });\n      }\n    },\n  },\n  mounted() {\n    this.value = this.default;\n    this.inputClass = this.isError ? 'a-19-bd' : 'a-3-bd';\n  },\n  methods: {\n    focusInputClass(flag) {\n      if (!this.isError) {\n        this.inputClass = 'a-12-bd';\n        if (flag) {\n          this.isFocus = flag;\n        }\n      }\n    },\n    blurinputClass() {\n      if (!this.isError) {\n        this.isFocus = false;\n        this.inputClass = 'a-3-bd';\n      }\n    },\n    mouseoutInputClass() {\n      if (!this.isError && !this.isFocus) {\n        this.inputClass = 'a-3-bd';\n      }\n    },\n    selectMarket() {\n      this.$emit('selectMarket');\n    },\n    focusInput() {\n      setTimeout(() => {\n        this.$refs.formInput.focus();\n      });\n    },\n    clearPercentage() {\n      this.$emit('clearPercentage');\n      setTimeout(() => {\n        this.$refs.formInput.focus();\n      });\n    },\n    newFixInput(val, fix) {\n      return fixInput(val, fix);\n      // if (fix > 0) {\n      //   return r\n      // } else {\n      //   return Utils.retainDecimals(val, { decimal: 0 })\n      // }\n    },\n    handleInput(val) {\n      let data;\n      let valus = val;\n      const str = val;\n      if (str.length >= 10) {\n        valus = str.substring(0, 12);\n      }\n      if (!this.isVol) {\n        data = this.newFixInput(valus, this.fix);\n      } else {\n        data = this.volChange(valus);\n      }\n      this.value = data;\n      this.$emit('tradeChangeValue', data);\n    },\n    // 量改变事件\n    volChange(val) {\n      if (val) {\n        return this.newFixInput(val, this.fix);\n      }\n      return '';\n    },\n  },\n};\n",{"version":3,"sources":["form-input.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form-input.vue","sourceRoot":"app/view/src/components/modules/coTrade/component","sourcesContent":["<template>\n  <div class=\"select-price\" :class=\"{'haveMarket' : haveMarket}\">\n    <div\n      class=\"form-control a-3-bd\"\n      v-if=\"!isMarket\"\n      @click=\"focusInput\"\n      :style=\"{ width: haveMarket ? '210px' : '100%' }\"\n      :class=\"inputClass\">\n      <span class=\"title a-1-bd\" v-if=\"title\" :class=\"{'promptText' : promptText}\">\n        {{ title }}\n        <p v-if=\"promptText\" class=\"tip-text2 a-5-bg a-3-bd\" v-html=\"promptText\"></p>\n      </span>\n      <span class=\"title b-1-cl\" v-else>{{ placeHolder }}</span>\n      <span class=\"unit b-1-cl\">{{ unit }}</span>\n      <div class=\"percentage-vol a-3-bd\" v-if=\"isPercentage\" @click=\"clearPercentage\">\n        {{isPercentage}}%\n      </div>\n      <input\n        v-show=\"!isPercentage\"\n        type=\"text\"\n        class=\"b-1-cl\"\n        v-model=\"value\"\n        ref=\"formInput\"\n        @mouseenter=\"focusInputClass(false)\"\n        @mouseout=\"mouseoutInputClass\"\n        @input=\"handleInput($event.target.value)\"\n        @focus=\"focusInputClass(true)\"\n        @blur=\"blurinputClass\"\n        :placeholder=\"placeHolder\"\n      />\n    </div>\n    <!-- 当时市场价格 -->\n    <div class=\"market-price a-3-bd\" v-if=\"isMarket && haveMarket\" @click=\"selectMarket\">\n      <!-- 当时市场价格 -->\n      {{this.$t('futures.tradeForm.text52')}}\n    </div>\n    <a\n      class=\"a-3-bd market-price-btn\"\n      v-if=\"haveMarket\"\n      :class=\"isMarket ? 'a-12-bd b-4-cl' : 'a-3-bd'\"\n      @click=\"selectMarket\">\n       <!-- 市价 -->\n       {{this.$t('futures.tradeForm.mPrice')}}\n      </a>\n  </div>\n</template>\n<script>\nimport { fixInput } from '@/utils';\n// import Utils from '@/utils/coUtils.js';\n\nexport default {\n  name: 'form-input',\n  props: {\n    isMarket: {\n      default: false,\n      type: Boolean,\n    },\n    fix: {\n      default: 2,\n      type: [Number, String],\n    },\n    default: {\n      default: '',\n      type: [Number, String],\n    },\n    unit: {\n      default: '',\n      type: String,\n    },\n    title: {\n      default: '',\n      type: String,\n    },\n    placeHolder: {\n      default: '',\n      type: String,\n    },\n    haveMarket: {\n      default: false,\n      type: Boolean,\n    },\n    isVol: {\n      default: false,\n      type: Boolean,\n    },\n    isPercentage: {\n      default: '',\n      type: [Number, String],\n    },\n    isError: {\n      default: null,\n      type: [Number, String],\n    },\n    promptText: {\n      default: '',\n      type: String,\n    },\n\n  },\n  data() {\n    return {\n      value: '',\n      inputClass: '',\n      isFocus: false,\n    };\n  },\n  computed: {\n    coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    coinUnit() {\n      return this.$store.state.swap.coinUnit;\n    },\n    valueUnit() {\n      return this.$store.state.swap.valueUnit;\n    },\n  },\n  watch: {\n    default(val) {\n      this.value = val;\n    },\n    isError(val) {\n      this.inputClass = val ? 'a-19-bd' : 'a-3-bd';\n    },\n    isMarket(val) {\n      if (!val) {\n        setTimeout(() => {\n          this.$refs.formInput.focus();\n        });\n      }\n    },\n  },\n  mounted() {\n    this.value = this.default;\n    this.inputClass = this.isError ? 'a-19-bd' : 'a-3-bd';\n  },\n  methods: {\n    focusInputClass(flag) {\n      if (!this.isError) {\n        this.inputClass = 'a-12-bd';\n        if (flag) {\n          this.isFocus = flag;\n        }\n      }\n    },\n    blurinputClass() {\n      if (!this.isError) {\n        this.isFocus = false;\n        this.inputClass = 'a-3-bd';\n      }\n    },\n    mouseoutInputClass() {\n      if (!this.isError && !this.isFocus) {\n        this.inputClass = 'a-3-bd';\n      }\n    },\n    selectMarket() {\n      this.$emit('selectMarket');\n    },\n    focusInput() {\n      setTimeout(() => {\n        this.$refs.formInput.focus();\n      });\n    },\n    clearPercentage() {\n      this.$emit('clearPercentage');\n      setTimeout(() => {\n        this.$refs.formInput.focus();\n      });\n    },\n    newFixInput(val, fix) {\n      return fixInput(val, fix);\n      // if (fix > 0) {\n      //   return r\n      // } else {\n      //   return Utils.retainDecimals(val, { decimal: 0 })\n      // }\n    },\n    handleInput(val) {\n      let data;\n      let valus = val;\n      const str = val;\n      if (str.length >= 10) {\n        valus = str.substring(0, 12);\n      }\n      if (!this.isVol) {\n        data = this.newFixInput(valus, this.fix);\n      } else {\n        data = this.volChange(valus);\n      }\n      this.value = data;\n      this.$emit('tradeChangeValue', data);\n    },\n    // 量改变事件\n    volChange(val) {\n      if (val) {\n        return this.newFixInput(val, this.fix);\n      }\n      return '';\n    },\n  },\n};\n</script>\n<style scoped lang=\"stylus\">\n.select-price {\n  display: flex;\n  margin-top: 12px;\n  .b-1-cl {\n    color: #828ea1;\n  }\n  .form-control {\n    height: 40px;\n    line-height 38px;\n    border-radius: 2px;\n    border-width: 1px;\n    border-style: solid;\n    font-size: 14px;\n    position: relative;\n    box-sizing: border-box;\n    // display: flex;\n    &.a-3-bd {\n      border-color: #828ea1;\n    }\n    input {\n      padding: 0px 8px;\n      width: 220px;\n      height: 100%;\n      font-size: 14px;\n      float: right;\n      text-align: right;\n    }\n    .percentage-vol {\n      padding: 0px 8px;\n      width: 220px;\n      height: 100%;\n      font-size: 14px;\n      float: right;\n      text-align: right;\n    }\n\n    input::-webkit-input-placeholder,\n    input:-moz-placeholder,\n    input::-moz-placeholder, input:-ms-input-placeholder {\n      font-size: 14px;\n    }\n\n    .unit {\n      float: right;\n      padding-right:8px;\n    }\n    span {\n      color: #828ea1;\n    }\n    span.title {\n      position: absolute;\n      left: 8px;\n    }\n  }\n  .market-price {\n    width: 210px;\n    height: 40px;\n    line-height: 40px;\n    border-radius: 2px;\n    border-width: 1px;\n    border-style: solid;\n    font-size: 14px;\n    padding: 0px 8px;\n    cursor: not-allowed;\n    box-sizing: border-box;\n  }\n\n\n  .market-price-btn {\n    display: block;\n    width: 68px;\n    height: 38px;\n    line-height: 40px;\n    margin-left: 10px;\n    border-radius: 2px;\n    border-width: 1px;\n    border-style: solid;\n    text-align: center;\n    user-select: none;\n    border-color: #828ea1;\n  }\n  .tip-text2 {\n    display: none;\n    width: 200px;\n    padding: 20px;\n    position: absolute;\n    left: 0px;\n    top: 18px;\n    z-index: 10;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.2);\n    line-height: 1.5;\n    border-width: 1px;\n    border-style: solid;\n  }\n  .promptText {\n    border-bottom-style: dashed;\n    border-bottom-width: 1px;\n    position: relative;\n    line-height: 18px;\n    cursor: pointer;\n    top: 10px;\n    &:hover {\n      .tip-text2 {\n        display: block;\n      }\n    }\n  }\n}\n.haveMarket .form-control {\n input {\n   width: 120px;\n }\n}\n</style>\n"]}]}