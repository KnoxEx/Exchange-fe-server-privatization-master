{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/personal/advertisingManagement/advertisingManagement.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/personal/advertisingManagement/advertisingManagement.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { formatTime, fixD, imgMap, colorMap, getCoinShowName } from '@/utils';\nexport default {\n  name: 'advertisingManagement',\n  watch: {\n    otcPersonAds: function otcPersonAds(_otcPersonAds) {\n      if (_otcPersonAds !== null) {\n        if (this.publicInfo) {\n          this.loading = false;\n          this.count = _otcPersonAds.data.count;\n          this.dataProcessin(_otcPersonAds.data.adList, this.$store.state.baseData.market);\n        }\n      }\n    },\n    otcCloseWanted: function otcCloseWanted(_otcCloseWanted) {\n      if (_otcCloseWanted !== null) {\n        this.dialogConfirmLoading = false;\n\n        if (_otcCloseWanted.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcCloseWanted.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n\n          if (this.currentTab === 1) {\n            var info = {\n              uid: this.uid,\n              pageSize: this.pageSize,\n              page: this.page,\n              adType: 'buy'\n            };\n            this.$store.dispatch('otcPersonAds', info);\n          } else {\n            var _info = {\n              uid: this.uid,\n              pageSize: this.pageSize,\n              page: this.page,\n              adType: 'sell'\n            };\n            this.$store.dispatch('otcPersonAds', _info);\n          }\n\n          this.dialogFlag = false;\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcCloseWanted.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n          this.$bus.$emit('getCode-clear', 'phone');\n        }\n      }\n    },\n    userInfo: function userInfo(_userInfo) {\n      if (_userInfo) {\n        this.uid = _userInfo.id;\n        var info = {\n          uid: this.uid,\n          pageSize: this.pageSize,\n          page: this.page\n        };\n        this.$store.dispatch('otcPersonAds', info);\n      }\n    }\n  },\n  computed: {\n    navTab: function navTab() {\n      return [{\n        name: this.$t('personal.advertisingManagement.navTab')[0],\n        index: 1\n      }, {\n        name: this.$t('personal.advertisingManagement.navTab')[1],\n        index: 2\n      }];\n    },\n    baseData: function baseData() {\n      return this.$store.state.baseData;\n    },\n    otcPersonAds: function otcPersonAds() {\n      return this.$store.state.personal.otcPersonAds;\n    },\n    otcCloseWanted: function otcCloseWanted() {\n      return this.$store.state.personal.otcCloseWanted;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    otcLinkUrl: function otcLinkUrl() {\n      var obj = {\n        url: '',\n        type: '' // 1为push 2为herf\n\n      }; // 开发\n\n      if (process.env.NODE_ENV === 'development') {\n        obj.url = '';\n        obj.type = '1'; // 线上\n      } else if (window.HOSTAPI === 'ex' && this.baseData.publicInfo) {\n        obj.url = this.$store.state.baseData.publicInfo.url.otcUrl;\n        obj.type = '2';\n      } else if (window.HOSTAPI === 'otc') {\n        obj.url = '';\n        obj.type = '1';\n      }\n\n      return obj;\n    }\n  },\n  data: function data() {\n    return {\n      // table loading\n      titleText: this.$t('personal.dialog.closeAd'),\n      imgMap: imgMap,\n      colorMap: colorMap,\n      loading: false,\n      // uid\n      uid: '',\n      // 横向导航参数\n      currentTab: 1,\n      marginRight: 48,\n      // 距离右边的距离\n      lineHeight: '55',\n      // table相关\n      columns: [{\n        title: this.$t('personal.advertisingManagement.columns')[0],\n        align: 'left',\n        width: '120px',\n        classes: ''\n      }, {\n        title: this.$t('personal.advertisingManagement.columns')[1],\n        align: 'right',\n        width: '100px'\n      }, {\n        title: this.$t('personal.advertisingManagement.columns')[2],\n        align: 'right',\n        width: '100px'\n      }, {\n        title: this.$t('personal.advertisingManagement.columns')[3],\n        align: 'right',\n        width: '150px'\n      }, {\n        title: this.$t('personal.advertisingManagement.columns')[4],\n        align: 'right',\n        width: '100px'\n      }, {\n        title: this.$t('personal.advertisingManagement.columns')[5],\n        align: 'right',\n        width: '100px'\n      }, {\n        title: this.$t('personal.advertisingManagement.columns')[6],\n        align: 'right',\n        width: '100px'\n      }],\n      dataList: [],\n      cellHeight: 55,\n      headHeight: 30,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // page相关\n      count: 0,\n      page: 1,\n      pageSize: 10,\n      // 弹框相关\n      dialogFlag: false,\n      dialogConfirmLoading: false,\n      dialogConfirmDisabled: false,\n      // 要关闭的广告id\n      advertId: ''\n    };\n  },\n  methods: {\n    init: function init() {\n      var userInfo = this.$store.state.baseData.userInfo;\n\n      if (userInfo !== null) {\n        this.loading = true;\n        this.uid = userInfo.id;\n        var info = {\n          uid: this.uid,\n          pageSize: this.pageSize,\n          page: this.page\n        };\n        this.$store.dispatch('otcPersonAds', info);\n      }\n    },\n    dataProcessin: function dataProcessin(list, market) {\n      var _this = this;\n\n      var dataList = [];\n\n      if (list !== null) {\n        list.forEach(function (obj) {\n          dataList.push({\n            id: [obj.advertId, _this.uid],\n            data: [formatTime(obj.createTime), obj.advertId, getCoinShowName(obj.coin, market.coinList), fixD(obj.price, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision) + obj.payCoin, fixD(obj.volume, market.coinList[obj.coin].showPrecision), _this.stateHand(obj.status), [{\n              type: 'button',\n              text: _this.$t('personal.tool.view'),\n              iconClass: [''],\n              eventType: 'view',\n              classes: ''\n            }, {\n              // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n              type: _this.typeShow(obj.status),\n              text: _this.showText(obj.status),\n              iconClass: [''],\n              eventType: _this.eventType(obj.status),\n              classes: [_this.showClasses(obj.status)]\n            }]]\n          });\n        });\n        this.dataList = dataList;\n      }\n    },\n    currentType: function currentType(data) {\n      this.currentTab = data.index;\n      this.loading = true;\n\n      if (this.currentTab === 1) {\n        var info = {\n          uid: this.uid,\n          pageSize: this.pageSize,\n          page: this.page,\n          adType: 'buy'\n        };\n        this.$store.dispatch('otcPersonAds', info);\n      } else {\n        var _info2 = {\n          uid: this.uid,\n          pageSize: this.pageSize,\n          page: this.page,\n          adType: 'sell'\n        };\n        this.$store.dispatch('otcPersonAds', _info2);\n      }\n    },\n    closeData: function closeData(type, id) {\n      if (type === 'close') {\n        var _ref = [true, id[0]];\n        this.dialogFlag = _ref[0];\n        this.advertId = _ref[1];\n      } else if (type === 'view') {\n        if (this.otcLinkUrl.type === '1') {\n          this.$router.push(\"\".concat(this.otcLinkUrl.url, \"/otcTrade?orderId=\").concat(id[0], \"&userId=\").concat(id[1]));\n        } else if (this.otcLinkUrl.type === '2') {\n          window.location.href = \"\".concat(this.otcLinkUrl.url, \"/otcTrade?orderId=\").concat(id[0], \"&userId=\").concat(id[1]);\n        }\n      }\n    },\n    dialogClose: function dialogClose() {\n      this.dialogFlag = false;\n    },\n    dialogConfirm: function dialogConfirm() {\n      this.dialogConfirmLoading = true;\n      var info = {\n        advertId: this.advertId\n      };\n      this.$store.dispatch('otcCloseWanted', info);\n    },\n    pagechange: function pagechange(page) {\n      this.page = page;\n      var adType = 'buy';\n\n      if (this.currentTab !== 1) {\n        adType = 'sell';\n      }\n\n      var info = {\n        uid: this.uid,\n        pageSize: this.pageSize,\n        page: this.page,\n        adType: adType\n      };\n      this.$store.dispatch('otcPersonAds', info);\n    },\n    stateHand: function stateHand(num) {\n      switch (num) {\n        case 1:\n          return this.$t('personal.state.release');\n\n        case 2:\n          return this.$t('personal.state.trading');\n\n        case 3:\n          return this.$t('personal.state.overdue');\n\n        default:\n          return this.$t('personal.state.close');\n      }\n    },\n    showText: function showText(num) {\n      switch (num) {\n        case 1:\n          return this.$t('personal.state.close');\n\n        case 2:\n          return this.$t('personal.state.trading');\n\n        case 3:\n          return this.$t('personal.state.overdue');\n\n        default:\n          return this.$t('personal.state.closed');\n      }\n    },\n    eventType: function eventType(num) {\n      switch (num) {\n        case 1:\n          return 'close';\n\n        default:\n          return '';\n      }\n    },\n    showClasses: function showClasses(num) {\n      switch (num) {\n        case 1:\n          return '';\n\n        default:\n          return 'b-2-cl banned-click';\n      }\n    },\n    typeShow: function typeShow(num) {\n      switch (num) {\n        case 1:\n          return 'button';\n\n        default:\n          return 'label';\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/personal/advertisingManagement/advertisingManagement.js"],"names":["formatTime","fixD","imgMap","colorMap","getCoinShowName","name","watch","otcPersonAds","publicInfo","loading","count","data","dataProcessin","adList","$store","state","baseData","market","otcCloseWanted","dialogConfirmLoading","text","$bus","$emit","msg","type","dispatch","currentTab","info","uid","pageSize","page","adType","dialogFlag","userInfo","id","computed","navTab","$t","index","personal","otcLinkUrl","obj","url","process","env","NODE_ENV","window","HOSTAPI","otcUrl","titleText","marginRight","lineHeight","columns","title","align","width","classes","dataList","cellHeight","headHeight","lineNumber","headClasses","bodyClasses","lineClass","dialogConfirmDisabled","advertId","methods","init","list","forEach","push","createTime","coin","coinList","price","fiatPrecision","payCoin","toLowerCase","Number","defaultFiatPrecision","volume","showPrecision","stateHand","status","iconClass","eventType","typeShow","showText","showClasses","currentType","closeData","$router","location","href","dialogClose","dialogConfirm","pagechange","num"],"mappings":"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","sourcesContent":["import {\r\n  formatTime, fixD, imgMap, colorMap, getCoinShowName,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'advertisingManagement',\r\n  watch: {\r\n    otcPersonAds(otcPersonAds) {\r\n      if (otcPersonAds !== null) {\r\n        if (this.publicInfo) {\r\n          this.loading = false;\r\n          this.count = otcPersonAds.data.count;\r\n          this.dataProcessin(otcPersonAds.data.adList, this.$store.state.baseData.market);\r\n        }\r\n      }\r\n    },\r\n    otcCloseWanted(otcCloseWanted) {\r\n      if (otcCloseWanted !== null) {\r\n        this.dialogConfirmLoading = false;\r\n        if (otcCloseWanted.text === 'success') {\r\n          this.$bus.$emit('tip', { text: otcCloseWanted.msg, type: 'success' });\r\n          this.$store.dispatch('resetType');\r\n          if (this.currentTab === 1) {\r\n            const info = {\r\n              uid: this.uid,\r\n              pageSize: this.pageSize,\r\n              page: this.page,\r\n              adType: 'buy',\r\n            };\r\n            this.$store.dispatch('otcPersonAds', info);\r\n          } else {\r\n            const info = {\r\n              uid: this.uid,\r\n              pageSize: this.pageSize,\r\n              page: this.page,\r\n              adType: 'sell',\r\n            };\r\n            this.$store.dispatch('otcPersonAds', info);\r\n          }\r\n          this.dialogFlag = false;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: otcCloseWanted.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n          this.$bus.$emit('getCode-clear', 'phone');\r\n        }\r\n      }\r\n    },\r\n    userInfo(userInfo) {\r\n      if (userInfo) {\r\n        this.uid = userInfo.id;\r\n        const info = { uid: this.uid, pageSize: this.pageSize, page: this.page };\r\n        this.$store.dispatch('otcPersonAds', info);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    navTab() {\r\n      return [\r\n        {\r\n          name: this.$t('personal.advertisingManagement.navTab')[0],\r\n          index: 1,\r\n        },\r\n        {\r\n          name: this.$t('personal.advertisingManagement.navTab')[1],\r\n          index: 2,\r\n        },\r\n      ];\r\n    },\r\n    baseData() { return this.$store.state.baseData; },\r\n    otcPersonAds() {\r\n      return this.$store.state.personal.otcPersonAds;\r\n    },\r\n    otcCloseWanted() {\r\n      return this.$store.state.personal.otcCloseWanted;\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    publicInfo() {\r\n      return this.$store.state.baseData.publicInfo;\r\n    },\r\n    otcLinkUrl() {\r\n      const obj = {\r\n        url: '',\r\n        type: '', // 1为push 2为herf\r\n      };\r\n      // 开发\r\n      if (process.env.NODE_ENV === 'development') {\r\n        obj.url = '';\r\n        obj.type = '1';\r\n        // 线上\r\n      } else if (window.HOSTAPI === 'ex' && this.baseData.publicInfo) {\r\n        obj.url = this.$store.state.baseData.publicInfo.url.otcUrl;\r\n        obj.type = '2';\r\n      } else if (window.HOSTAPI === 'otc') {\r\n        obj.url = '';\r\n        obj.type = '1';\r\n      }\r\n      return obj;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // table loading\r\n      titleText: this.$t('personal.dialog.closeAd'),\r\n      imgMap,\r\n      colorMap,\r\n      loading: false,\r\n      // uid\r\n      uid: '',\r\n      // 横向导航参数\r\n      currentTab: 1,\r\n      marginRight: 48, // 距离右边的距离\r\n      lineHeight: '55',\r\n      // table相关\r\n      columns: [\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[0],\r\n          align: 'left',\r\n          width: '120px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[1],\r\n          align: 'right',\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[2],\r\n          align: 'right',\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[3],\r\n          align: 'right',\r\n          width: '150px',\r\n        },\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[4],\r\n          align: 'right',\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[5],\r\n          align: 'right',\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('personal.advertisingManagement.columns')[6],\r\n          align: 'right',\r\n          width: '100px',\r\n        },\r\n      ],\r\n      dataList: [],\r\n      cellHeight: 55,\r\n      headHeight: 30,\r\n      lineNumber: 10,\r\n      classes: '',\r\n      headClasses: '',\r\n      bodyClasses: '',\r\n      lineClass: '',\r\n      // page相关\r\n      count: 0,\r\n      page: 1,\r\n      pageSize: 10,\r\n      // 弹框相关\r\n      dialogFlag: false,\r\n      dialogConfirmLoading: false,\r\n      dialogConfirmDisabled: false,\r\n      // 要关闭的广告id\r\n      advertId: '',\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      const { userInfo } = this.$store.state.baseData;\r\n      if (userInfo !== null) {\r\n        this.loading = true;\r\n        this.uid = userInfo.id;\r\n        const info = { uid: this.uid, pageSize: this.pageSize, page: this.page };\r\n        this.$store.dispatch('otcPersonAds', info);\r\n      }\r\n    },\r\n    dataProcessin(list, market) {\r\n      const dataList = [];\r\n      if (list !== null) {\r\n        list.forEach((obj) => {\r\n          dataList.push(\r\n            {\r\n              id: [obj.advertId, this.uid],\r\n              data: [\r\n                formatTime(obj.createTime),\r\n                obj.advertId,\r\n                getCoinShowName(obj.coin, market.coinList),\r\n                fixD(obj.price, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]\r\n                  ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()])\r\n                  : this.$store.state.baseData.defaultFiatPrecision) + obj.payCoin,\r\n                fixD(obj.volume, market.coinList[obj.coin].showPrecision),\r\n                this.stateHand(obj.status),\r\n                [\r\n                  {\r\n                    type: 'button',\r\n                    text: this.$t('personal.tool.view'),\r\n                    iconClass: [''],\r\n                    eventType: 'view',\r\n                    classes: '',\r\n                  },\r\n                  {\r\n                    // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                    type: this.typeShow(obj.status),\r\n                    text: this.showText(obj.status),\r\n                    iconClass: [''],\r\n                    eventType: this.eventType(obj.status),\r\n                    classes: [this.showClasses(obj.status)],\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n          );\r\n        });\r\n        this.dataList = dataList;\r\n      }\r\n    },\r\n    currentType(data) {\r\n      this.currentTab = data.index;\r\n      this.loading = true;\r\n      if (this.currentTab === 1) {\r\n        const info = {\r\n          uid: this.uid,\r\n          pageSize: this.pageSize,\r\n          page: this.page,\r\n          adType: 'buy',\r\n        };\r\n        this.$store.dispatch('otcPersonAds', info);\r\n      } else {\r\n        const info = {\r\n          uid: this.uid,\r\n          pageSize: this.pageSize,\r\n          page: this.page,\r\n          adType: 'sell',\r\n        };\r\n        this.$store.dispatch('otcPersonAds', info);\r\n      }\r\n    },\r\n    closeData(type, id) {\r\n      if (type === 'close') {\r\n        [this.dialogFlag, this.advertId] = [true, id[0]];\r\n      } else if (type === 'view') {\r\n        if (this.otcLinkUrl.type === '1') {\r\n          this.$router.push(`${this.otcLinkUrl.url}/otcTrade?orderId=${id[0]}&userId=${id[1]}`);\r\n        } else if (this.otcLinkUrl.type === '2') {\r\n          window.location.href = `${this.otcLinkUrl.url}/otcTrade?orderId=${id[0]}&userId=${id[1]}`;\r\n        }\r\n      }\r\n    },\r\n    dialogClose() {\r\n      this.dialogFlag = false;\r\n    },\r\n    dialogConfirm() {\r\n      this.dialogConfirmLoading = true;\r\n      const info = { advertId: this.advertId };\r\n      this.$store.dispatch('otcCloseWanted', info);\r\n    },\r\n    pagechange(page) {\r\n      this.page = page;\r\n      let adType = 'buy';\r\n      if (this.currentTab !== 1) {\r\n        adType = 'sell';\r\n      }\r\n      const info = {\r\n        uid: this.uid,\r\n        pageSize: this.pageSize,\r\n        page: this.page,\r\n        adType,\r\n      };\r\n      this.$store.dispatch('otcPersonAds', info);\r\n    },\r\n    stateHand(num) {\r\n      switch (num) {\r\n        case 1:\r\n          return this.$t('personal.state.release');\r\n        case 2:\r\n          return this.$t('personal.state.trading');\r\n        case 3:\r\n          return this.$t('personal.state.overdue');\r\n        default:\r\n          return this.$t('personal.state.close');\r\n      }\r\n    },\r\n    showText(num) {\r\n      switch (num) {\r\n        case 1:\r\n          return this.$t('personal.state.close');\r\n        case 2:\r\n          return this.$t('personal.state.trading');\r\n        case 3:\r\n          return this.$t('personal.state.overdue');\r\n        default:\r\n          return this.$t('personal.state.closed');\r\n      }\r\n    },\r\n    eventType(num) {\r\n      switch (num) {\r\n        case 1:\r\n          return 'close';\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n    showClasses(num) {\r\n      switch (num) {\r\n        case 1:\r\n          return '';\r\n        default:\r\n          return 'b-2-cl banned-click';\r\n      }\r\n    },\r\n    typeShow(num) {\r\n      switch (num) {\r\n        case 1:\r\n          return 'button';\r\n        default:\r\n          return 'label';\r\n      }\r\n    },\r\n  },\r\n};\r\n"]}]}