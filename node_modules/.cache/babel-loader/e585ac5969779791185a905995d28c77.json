{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/api/http/axios.js","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/api/http/axios.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.regexp.to-string\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport { getCookie, logImg } from '@/utils';\nimport bus from \"../bus\";\nvar ignoreCode = {\n  10002: true,\n  10003: true,\n  10004: true,\n  10005: true,\n  10006: true,\n  10007: true,\n  10008: true,\n  10009: true,\n  10010: true,\n  10011: true,\n  10012: true,\n  10013: true,\n  10014: true,\n  10015: true,\n  10016: true,\n  10017: true,\n  10018: true,\n  10019: true,\n  10020: true,\n  10021: true,\n  10022: true,\n  10023: true,\n  10024: true,\n  10025: true,\n  10026: true,\n  10027: true,\n  10028: true,\n  10029: true,\n  10030: true,\n  10031: true,\n  10032: true,\n  10033: true,\n  10034: true,\n  10035: true,\n  10036: true,\n  10037: true,\n  10038: true,\n  10039: true,\n  10040: true,\n  10041: true,\n  10043: true,\n  10044: true,\n  10045: true,\n  10046: true,\n  10047: true,\n  10048: true,\n  10049: true,\n  10050: true,\n  10051: true,\n  10052: true,\n  10053: true,\n  10054: true,\n  10055: true,\n  10056: true,\n  10057: true,\n  10058: true,\n  10059: true,\n  10060: true,\n  10061: true,\n  10062: true,\n  10063: true,\n  10065: true,\n  10066: true,\n  10067: true,\n  10068: true,\n  10069: true,\n  10070: true,\n  10071: true,\n  10072: true,\n  10073: true,\n  10074: true,\n  10075: true,\n  10076: true,\n  10077: true,\n  10078: true,\n  10079: true,\n  10080: true,\n  10081: true,\n  10086: true,\n  10087: true,\n  10088: true,\n  10089: true,\n  10090: true,\n  10091: true,\n  10092: true,\n  10093: true,\n  10094: true,\n  10095: true,\n  10096: true,\n  10097: true,\n  10098: true,\n  10099: true,\n  10100: true,\n  10101: true,\n  10102: true,\n  10103: true,\n  10104: true,\n  10200: true,\n  10201: true,\n  10202: true,\n  10203: true,\n  10204: true,\n  10205: true,\n  11001: true,\n  101114: true,\n  10042: true,\n  10064: true,\n  0: true\n}; // import md5 from 'js-md5'\n\nvar formatTime = function formatTime(dateTime) {\n  var date = new Date(dateTime);\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1;\n  var day = date.getDate();\n  var hours = date.getHours();\n  var minutes = date.getMinutes();\n  var seconds = date.getSeconds();\n\n  function s(t) {\n    return t < 10 ? \"0\".concat(t) : t;\n  }\n\n  return \"\".concat(year, \"-\").concat(s(month), \"-\").concat(s(day), \" \").concat(s(hours), \":\").concat(s(minutes), \":\").concat(s(seconds));\n}; // 参数\n\n\nvar formatParams = function formatParams() {\n  var acParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var data;\n  var _window$secur = window.secur,\n      org = _window$secur.org,\n      device = _window$secur.device,\n      language = _window$secur.language,\n      platform = _window$secur.platform,\n      timezone = _window$secur.timezone,\n      adblock = _window$secur.adblock,\n      userAgent = _window$secur.userAgent,\n      plugins = _window$secur.plugins,\n      sessionStorage = _window$secur.sessionStorage,\n      localStorage = _window$secur.localStorage,\n      indexedDb = _window$secur.indexedDb,\n      touchSupport = _window$secur.touchSupport,\n      fonts = _window$secur.fonts,\n      availableScreenResolution = _window$secur.availableScreenResolution,\n      screenResolution = _window$secur.screenResolution;\n  var infoOrg = org;\n\n  if (process.env.NODE_ENV === 'development') {\n    infoOrg = 'www.fe.com';\n  }\n\n  var securityInfo = JSON.stringify({\n    id: '',\n    org: infoOrg,\n    timestamp: formatTime(new Date().getTime()),\n    userAgent: userAgent,\n    availableScreenResolution: availableScreenResolution,\n    screenResolution: screenResolution,\n    touchSupport: touchSupport,\n    sessionStorage: sessionStorage,\n    localStorage: localStorage,\n    indexedDb: indexedDb,\n    plugins: plugins,\n    fonts: fonts,\n    adblock: adblock,\n    client_type: '',\n    identity: '',\n    device: device,\n    ip: '',\n    ip2region: '',\n    language: language,\n    platform: platform,\n    browser: '',\n    browser_version: '',\n    os: '',\n    os_version: '',\n    resolution: '',\n    timezone: timezone,\n    ctime: '',\n    mtime: ''\n  });\n\n  if (Object.prototype.toString.call(acParams) === '[object FormData]') {\n    acParams.append('uaTime', formatTime(new Date().getTime()));\n    acParams.append('securityInfo', securityInfo);\n    data = acParams;\n  } else {\n    data = _objectSpread({}, acParams);\n    data.uaTime = formatTime(new Date().getTime());\n    data.securityInfo = securityInfo;\n  }\n\n  return data;\n}; // 请求头\n\n\nvar formatHeaders = function formatHeaders(acHeaders) {\n  var headers = {};\n  headers['exchange-token'] = getCookie('token') || 'c5fa97c1140aafea1ef1e84b67503d5e0db18d0ca0ff4819a0ca3f24722407df';\n  headers['exchange-client'] = 'pc';\n  headers['exchange-language'] = getCookie('lan') || 'zh_CN'; // headers['Content-type'] = 'application/x-www-form-urlencoded'\n  // headers['exchange-time'] = formatTime(new Date().getTime())\n\n  if (acHeaders) {\n    headers = _objectSpread(_objectSpread({}, headers), acHeaders);\n  }\n\n  return headers;\n};\n\nvar request = function request(prefix, url, headers, params, method, hostType, resolve, reject) {\n  return axios({\n    url: \"\".concat(prefix).concat(url),\n    // exchange-web-api线上  vue-api本地\n    headers: formatHeaders(headers),\n    data: formatParams(params),\n    method: method || 'post'\n  }).then(function (data) {\n    if (typeof data.data.code !== 'undefined') {\n      if (data.data.code.toString() === '10002') {\n        bus.$emit('outUserIsLogin');\n      }\n\n      if (!ignoreCode[Number(data.data.code)]) {\n        logImg({\n          host: window.location.host,\n          type: 'webapi connect error',\n          path: window.location.href,\n          ds: '接口状态码非0',\n          api: url,\n          data: {\n            code: data.data.code,\n            msg: data.data.msg\n          },\n          t: new Date().getTime()\n        });\n      }\n    } else {\n      logImg({\n        host: window.location.host,\n        type: 'webapi connect error',\n        path: window.location.href,\n        ds: '接口没有返回错误码',\n        api: url,\n        data: data,\n        t: new Date().getTime()\n      });\n    }\n\n    resolve(data.data);\n  }).catch(function (err) {\n    logImg({\n      host: window.location.host,\n      type: 'webapi connect error',\n      path: window.location.href,\n      api: url,\n      ds: '接口不通错误',\n      t: new Date().getTime()\n    });\n    reject(err);\n    throw new Error(\"Error:\".concat(err));\n  });\n};\n\nvar http = function http(_ref) {\n  var url = _ref.url,\n      headers = _ref.headers,\n      params = _ref.params,\n      method = _ref.method,\n      hostType = _ref.hostType;\n  var prefix = '';\n\n  switch (hostType) {\n    case 'otc':\n      prefix = '/fe-otc-api/'; // 场外\n\n      break;\n\n    case 'co':\n      prefix = '/fe-co-api/'; // 合约\n\n      break;\n\n    case 'upload':\n      prefix = '/fe-upload-api/'; // 上传\n\n      break;\n\n    case 'financing':\n      prefix = '/fe-financing-api/'; // 场內\n\n      break;\n\n    case 'fe-increment-api':\n      prefix = '/fe-increment-api/'; // 增值业务板块\n\n      break;\n\n    case 'fe-cov2-api':\n      prefix = '/fe-cov2-api/'; // 合约\n\n      break;\n\n    case 'agent':\n      prefix = '/fe-agent-api/';\n      break;\n\n    case 'quant':\n      prefix = '/fe-quant-api/';\n      break;\n\n    case 'def':\n      prefix = '';\n      break;\n\n    default:\n      prefix = '/fe-ex-api/';\n    // 公共和交易所\n  }\n\n  return new Promise(function (resolve, reject) {\n    if (!window.secur) {\n      var msec = {\n        org: window.location.host,\n        server: '',\n        sendRemote: false\n      };\n      window.security.init(msec, function (info) {\n        window.secur = info;\n        request(prefix, url, headers, params, method, hostType, resolve, reject);\n      });\n    } else {\n      request(prefix, url, headers, params, method, hostType, resolve, reject);\n    }\n  });\n};\n\nexport default http;",{"version":3,"sources":["/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/api/http/axios.js"],"names":["axios","getCookie","logImg","bus","ignoreCode","formatTime","dateTime","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","s","t","formatParams","acParams","data","window","secur","org","device","language","platform","timezone","adblock","userAgent","plugins","sessionStorage","localStorage","indexedDb","touchSupport","fonts","availableScreenResolution","screenResolution","infoOrg","process","env","NODE_ENV","securityInfo","JSON","stringify","id","timestamp","getTime","client_type","identity","ip","ip2region","browser","browser_version","os","os_version","resolution","ctime","mtime","Object","prototype","toString","call","append","uaTime","formatHeaders","acHeaders","headers","request","prefix","url","params","method","hostType","resolve","reject","then","code","$emit","Number","host","location","type","path","href","ds","api","msg","catch","err","Error","http","Promise","msec","server","sendRemote","security","init","info"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { getCookie, logImg } from '@/utils';\nimport bus from '../bus';\n\nconst ignoreCode = {\n  10002: true,\n  10003: true,\n  10004: true,\n  10005: true,\n  10006: true,\n  10007: true,\n  10008: true,\n  10009: true,\n  10010: true,\n  10011: true,\n  10012: true,\n  10013: true,\n  10014: true,\n  10015: true,\n  10016: true,\n  10017: true,\n  10018: true,\n  10019: true,\n  10020: true,\n  10021: true,\n  10022: true,\n  10023: true,\n  10024: true,\n  10025: true,\n  10026: true,\n  10027: true,\n  10028: true,\n  10029: true,\n  10030: true,\n  10031: true,\n  10032: true,\n  10033: true,\n  10034: true,\n  10035: true,\n  10036: true,\n  10037: true,\n  10038: true,\n  10039: true,\n  10040: true,\n  10041: true,\n  10043: true,\n  10044: true,\n  10045: true,\n  10046: true,\n  10047: true,\n  10048: true,\n  10049: true,\n  10050: true,\n  10051: true,\n  10052: true,\n  10053: true,\n  10054: true,\n  10055: true,\n  10056: true,\n  10057: true,\n  10058: true,\n  10059: true,\n  10060: true,\n  10061: true,\n  10062: true,\n  10063: true,\n  10065: true,\n  10066: true,\n  10067: true,\n  10068: true,\n  10069: true,\n  10070: true,\n  10071: true,\n  10072: true,\n  10073: true,\n  10074: true,\n  10075: true,\n  10076: true,\n  10077: true,\n  10078: true,\n  10079: true,\n  10080: true,\n  10081: true,\n  10086: true,\n  10087: true,\n  10088: true,\n  10089: true,\n  10090: true,\n  10091: true,\n  10092: true,\n  10093: true,\n  10094: true,\n  10095: true,\n  10096: true,\n  10097: true,\n  10098: true,\n  10099: true,\n  10100: true,\n  10101: true,\n  10102: true,\n  10103: true,\n  10104: true,\n  10200: true,\n  10201: true,\n  10202: true,\n  10203: true,\n  10204: true,\n  10205: true,\n  11001: true,\n  101114: true,\n  10042: true,\n  10064: true,\n  0: true,\n};\n// import md5 from 'js-md5'\nconst formatTime = (dateTime) => {\n  const date = new Date(dateTime);\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n\n  function s(t) {\n    return t < 10 ? `0${t}` : t;\n  }\n\n  return `${year}-${s(month)}-${s(day)} ${s(hours)}:${s(minutes)}:${s(seconds)}`;\n};\n// 参数\nconst formatParams = (acParams = {}) => {\n  let data;\n  const {\n    org, device, language, platform, timezone, adblock, userAgent, plugins,\n    sessionStorage, localStorage, indexedDb, touchSupport,\n    fonts, availableScreenResolution, screenResolution,\n  } = window.secur;\n  let infoOrg = org;\n  if (process.env.NODE_ENV === 'development') {\n    infoOrg = 'www.fe.com';\n  }\n  const securityInfo = JSON.stringify({\n    id: '',\n    org: infoOrg,\n    timestamp: formatTime(new Date().getTime()),\n    userAgent,\n    availableScreenResolution,\n    screenResolution,\n    touchSupport,\n    sessionStorage,\n    localStorage,\n    indexedDb,\n    plugins,\n    fonts,\n    adblock,\n    client_type: '',\n    identity: '',\n    device,\n    ip: '',\n    ip2region: '',\n    language,\n    platform,\n    browser: '',\n    browser_version: '',\n    os: '',\n    os_version: '',\n    resolution: '',\n    timezone,\n    ctime: '',\n    mtime: '',\n  });\n  if (Object.prototype.toString.call(acParams) === '[object FormData]') {\n    acParams.append('uaTime', formatTime(new Date().getTime()));\n    acParams.append('securityInfo', securityInfo);\n    data = acParams;\n  } else {\n    data = { ...acParams };\n    data.uaTime = formatTime(new Date().getTime());\n    data.securityInfo = securityInfo;\n  }\n  return data;\n};\n// 请求头\nconst formatHeaders = (acHeaders) => {\n  let headers = {};\n  headers['exchange-token'] = getCookie('token') || 'c5fa97c1140aafea1ef1e84b67503d5e0db18d0ca0ff4819a0ca3f24722407df';\n  headers['exchange-client'] = 'pc';\n  headers['exchange-language'] = getCookie('lan') || 'zh_CN';\n  // headers['Content-type'] = 'application/x-www-form-urlencoded'\n  // headers['exchange-time'] = formatTime(new Date().getTime())\n  if (acHeaders) {\n    headers = { ...headers, ...acHeaders };\n  }\n  return headers;\n};\n\nconst request = function request(prefix, url, headers, params, method, hostType, resolve, reject) {\n  return axios({\n    url: `${prefix}${url}`, // exchange-web-api线上  vue-api本地\n    headers: formatHeaders(headers),\n    data: formatParams(params),\n    method: method || 'post',\n  }).then((data) => {\n    if (typeof data.data.code !== 'undefined') {\n      if (data.data.code.toString() === '10002') {\n        bus.$emit('outUserIsLogin');\n      }\n\n      if (!ignoreCode[Number(data.data.code)]) {\n        logImg({\n          host: window.location.host,\n          type: 'webapi connect error',\n          path: window.location.href,\n          ds: '接口状态码非0',\n          api: url,\n          data: {\n            code: data.data.code,\n            msg: data.data.msg,\n          },\n          t: new Date().getTime(),\n        });\n      }\n    } else {\n      logImg({\n        host: window.location.host,\n        type: 'webapi connect error',\n        path: window.location.href,\n        ds: '接口没有返回错误码',\n        api: url,\n        data,\n        t: new Date().getTime(),\n      });\n    }\n    resolve(data.data);\n  }).catch((err) => {\n    logImg({\n      host: window.location.host,\n      type: 'webapi connect error',\n      path: window.location.href,\n      api: url,\n      ds: '接口不通错误',\n      t: new Date().getTime(),\n    });\n    reject(err);\n    throw new Error(`Error:${err}`);\n  });\n};\n\nconst http = ({\n  url, headers, params, method, hostType,\n}) => {\n  let prefix = '';\n  switch (hostType) {\n    case 'otc':\n      prefix = '/fe-otc-api/'; // 场外\n      break;\n    case 'co':\n      prefix = '/fe-co-api/'; // 合约\n      break;\n    case 'upload':\n      prefix = '/fe-upload-api/'; // 上传\n      break;\n    case 'financing':\n      prefix = '/fe-financing-api/'; // 场內\n      break;\n    case 'fe-increment-api':\n      prefix = '/fe-increment-api/'; // 增值业务板块\n      break;\n    case 'fe-cov2-api':\n      prefix = '/fe-cov2-api/'; // 合约\n      break;\n    case 'agent':\n      prefix = '/fe-agent-api/';\n      break;\n    case 'quant':\n      prefix = '/fe-quant-api/';\n      break;\n    case 'def':\n      prefix = '';\n      break;\n    default:\n      prefix = '/fe-ex-api/'; // 公共和交易所\n  }\n  return new Promise((resolve, reject) => {\n    if (!window.secur) {\n      const msec = { org: window.location.host, server: '', sendRemote: false };\n      window.security.init(msec, (info) => {\n        window.secur = info;\n        request(prefix, url, headers, params, method, hostType, resolve, reject);\n      });\n    } else {\n      request(prefix, url, headers, params, method, hostType, resolve, reject);\n    }\n  });\n};\nexport default http;\n"]}]}