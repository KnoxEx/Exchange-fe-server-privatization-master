{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/otcTrade/otcTrade.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/otcTrade/otcTrade.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { fixD, fixInput, getCoinShowName } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      orderId: null,\n      // 订单id\n      userId: null,\n      // 用户id\n      axiosObj: {},\n      axiosReady: false,\n      closeTradeConfirmLoading: false,\n      // 关闭广告弹窗 -- 确认按钮loading\n      closeTradeFlag: false,\n      // 关闭广告弹窗变量\n      leftInp: '',\n      // 左侧input\n      rightInp: '',\n      // 右侧input\n      passCode: '',\n      // 资金密码\n      btnLoading: false,\n      timer: null,\n      // 倒计时 计时器\n      time: 60 // 倒计时\n\n    };\n  },\n  watch: {\n    optionsFlag: function optionsFlag(v) {\n      if (v === 'even') {\n        this.startTime();\n      }\n    },\n    leftInp: function leftInp(v) {\n      var fix = 0; // 如果该订单为 卖单走法币精度, 买单走数字货币精度\n\n      if (this.axiosObj.side === 'SELL') {\n        fix = this.priceFix;\n      } else if (this.axiosObj.side === 'BUY') {\n        fix = this.volumeFix;\n      }\n\n      this.leftInp = fixInput(v, fix);\n    },\n    rightInp: function rightInp(v) {\n      var fix = 0; // 如果该订单为 卖单走数字货币币精度, 买单走法币精度\n\n      if (this.axiosObj.side === 'SELL') {\n        fix = this.volumeFix;\n      } else if (this.axiosObj.side === 'BUY') {\n        fix = this.priceFix;\n      }\n\n      this.rightInp = fixInput(v, fix);\n    }\n  },\n  filters: {\n    payFixD: function payFixD(v, that) {\n      return fixD(v, that.priceFix);\n    },\n    coinFixD: function coinFixD(v, that) {\n      return fixD(v, that.volumeFix);\n    },\n    BTCFixD: function BTCFixD(v, that) {\n      return fixD(v, that.btcFix);\n    }\n  },\n  computed: {\n    fiatTradeOpen: function fiatTradeOpen() {\n      var base = this.$store.state.baseData.publicInfo;\n\n      if (base && base.switch && base.switch.fiat_trade_open === '1') {\n        return true;\n      }\n\n      return false;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    windFlag: function windFlag() {\n      var flag = false;\n\n      if (this.publicInfo && this.publicInfo.switch && this.publicInfo.switch.wind_control_switch && this.publicInfo.switch.wind_control_switch.toString() === '1') {\n        flag = true;\n      }\n\n      return flag;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    userVip: function userVip() {\n      var str = '';\n\n      if (this.userInfo && this.userInfo.otcCompanyInfo) {\n        if (Number(this.userInfo.otcCompanyInfo.status)) {\n          if (this.axiosObj.companyLevel === 1) {\n            str = \"<svg class=\\\"icon icon-16\\\" aria-hidden=\\\"true\\\">\\n              <use xlink:href=\\\"#icon-c_16\\\"></use>\\n            </svg>\";\n          } else if (this.axiosObj.companyLevel === 2) {\n            str = \"<svg class=\\\"icon icon-16\\\" aria-hidden=\\\"true\\\">\\n              <use xlink:href=\\\"#icon-c_17\\\"></use>\\n            </svg>\";\n          }\n        }\n      }\n\n      return str;\n    },\n    // 信用度\n    credit: function credit() {\n      var str = '';\n\n      if (this.axiosObj.creditGrade) {\n        str = \"\".concat(this.axiosObj.creditGrade * 100, \"%\");\n      }\n\n      return str;\n    },\n    // 我要出售(立即出售) 按钮\n    mySellBtnDisabled: function mySellBtnDisabled() {\n      var flag = true;\n\n      if (this.leftInpObj.flag && this.rightInpObj.flag && this.passFlag || this.btnLoading) {\n        flag = false;\n      }\n\n      return flag;\n    },\n    // 我要购买(立即购买) 按钮\n    myBuyBtnDisabled: function myBuyBtnDisabled() {\n      var flag = true;\n\n      if (this.leftInpObj.flag && this.rightInpObj.flag || this.btnLoading) {\n        flag = false;\n      }\n\n      return flag;\n    },\n    leftInpObj: function leftInpObj() {\n      // 我要出售 当前该输入框为数字货币\n      if (this.axiosObj.side === 'BUY') {\n        // 当前框为0 或者没有数量时\n        if (parseFloat(this.leftInp) === 0 || this.leftInp.length === 0) {\n          return {\n            flag: false,\n            errorFlag: false,\n            errorText: ''\n          }; // 当前框的值 大于 剩余数量\n        }\n\n        if (parseFloat(this.leftInp) > parseFloat(this.axiosObj.volumeBalance)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 下单金额大于该订单数量\n            errorText: this.$t('otcTrade.numberError')\n          };\n        }\n\n        return {\n          flag: true,\n          errorFlag: false,\n          errorText: ''\n        }; // 我要购买 当前该输入框为法币\n      }\n\n      if (this.axiosObj.side === 'SELL') {\n        // 当前框为0 或者没有数量时\n        if (parseFloat(this.leftInp) === 0 || this.leftInp.length === 0) {\n          return {\n            flag: false,\n            errorFlag: false,\n            errorText: ''\n          }; // 当前框的值 小于 最小交易限额\n        }\n\n        if (parseFloat(this.leftInp) < parseFloat(this.axiosObj.minTrade)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 换取数量不得小于最小交易限额\n            errorText: this.$t('otcTrade.numberMinError')\n          }; // 当前框的值 大于 最大交易限额\n        }\n\n        if (parseFloat(this.leftInp) > parseFloat(this.axiosObj.maxTrade)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 换取数量不得大于最大交易限额\n            errorText: this.$t('otcTrade.numberMaxError')\n          };\n        }\n\n        return {\n          flag: true,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      return {\n        flag: false,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    rightInpObj: function rightInpObj() {\n      // 我要出售 当前该输入框为法币框\n      if (this.axiosObj.side === 'BUY') {\n        // 当前框为0 或者没有数量时\n        if (parseFloat(this.rightInp) === 0 || this.rightInp.length === 0) {\n          return {\n            flag: false,\n            errorFlag: false,\n            errorText: ''\n          }; // 当前框的值 小于 最小交易限额\n        }\n\n        if (parseFloat(this.rightInp) < parseFloat(this.axiosObj.minTrade)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 换取数量不得小于最小交易限额\n            errorText: this.$t('otcTrade.numberMinError')\n          }; // 当前框的值 大于 最大交易限额\n        }\n\n        if (parseFloat(this.rightInp) > parseFloat(this.axiosObj.maxTrade)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 换取数量不得大于最大交易限额\n            errorText: this.$t('otcTrade.numberMaxError')\n          };\n        }\n\n        return {\n          flag: true,\n          errorFlag: false,\n          errorText: ''\n        }; // 我要购买\n      }\n\n      if (this.axiosObj.side === 'SELL') {\n        // 当前框为0 或者没有数量时\n        if (parseFloat(this.rightInp) === 0 || this.rightInp.length === 0) {\n          return {\n            flag: false,\n            errorFlag: false,\n            errorText: ''\n          }; // 当前框的值 大于 剩余数量\n        }\n\n        if (parseFloat(this.rightInp) > parseFloat(this.axiosObj.volumeBalance)) {\n          return {\n            flag: false,\n            errorFlag: true,\n            // 下单金额大于该订单数量\n            errorText: this.$t('otcTrade.numberError')\n          };\n        }\n\n        return {\n          flag: true,\n          errorFlag: false,\n          errorText: ''\n        };\n      }\n\n      return {\n        flag: false,\n        errorFlag: false,\n        errorText: ''\n      };\n    },\n    // passCode 是否复合正则验证\n    passFlag: function passFlag() {\n      return this.$store.state.regExp.passWord.test(this.passCode);\n    },\n    // pass框是否为错误状态\n    passErrorFlag: function passErrorFlag() {\n      if (this.passCode.length !== 0 && !this.passFlag) return true;\n      return false;\n    },\n    leftInputOptions: function leftInputOptions() {\n      // 下单金额\n      var promptText = this.$t('otcTrade.OrderAmount');\n      var warningText = '';\n      var _this$axiosObj = this.axiosObj,\n          side = _this$axiosObj.side,\n          payCoin = _this$axiosObj.payCoin,\n          coin = _this$axiosObj.coin,\n          minTrade = _this$axiosObj.minTrade,\n          maxTrade = _this$axiosObj.maxTrade;\n\n      if (side === 'SELL') {\n        // 用 法币 买 数字货币\n        promptText += \" (\".concat(payCoin, \")\"); // 下单金额范围\n\n        warningText = \"\".concat(this.$t('otcTrade.ScopeOrderAmount'), \"\\n         (\").concat(fixD(minTrade, this.priceFix), \" - \").concat(fixD(maxTrade, this.priceFix), \")\");\n      } else if (side === 'BUY') {\n        // 用 数字货币 换 法币\n        promptText += \"(\".concat(this.getShowCoin(coin), \")\");\n      }\n\n      return {\n        promptText: promptText,\n        warningText: warningText\n      };\n    },\n    rightInputOptions: function rightInputOptions() {\n      // 换取数量\n      var promptText = this.$t('otcTrade.QuantityInExchange');\n      var warningText = '';\n      var _this$axiosObj2 = this.axiosObj,\n          side = _this$axiosObj2.side,\n          payCoin = _this$axiosObj2.payCoin,\n          coin = _this$axiosObj2.coin,\n          minTrade = _this$axiosObj2.minTrade,\n          maxTrade = _this$axiosObj2.maxTrade;\n\n      if (side === 'SELL') {\n        // 用 法币 买 数字货币\n        promptText += \" (\".concat(this.getShowCoin(coin), \")\");\n      } else if (side === 'BUY') {\n        // 用 数字货币 换 法币\n        promptText += \"(\".concat(payCoin, \")\"); // 下单金额范围\n\n        warningText = \"\".concat(this.$t('otcTrade.ScopeOrderAmount'), \"\\n          (\").concat(fixD(minTrade, this.priceFix), \" - \").concat(fixD(maxTrade, this.priceFix), \")\");\n      }\n\n      return {\n        promptText: promptText,\n        warningText: warningText\n      };\n    },\n    // 操作区域展示的模块 非自己/自己\n    optionsFlag: function optionsFlag() {\n      var flag = '';\n\n      if (this.axiosReady) {\n        if (this.axiosObj.tip && this.axiosObj.tip.length) {\n          flag = 'myself';\n        } else {\n          flag = 'even';\n        }\n      }\n\n      return flag;\n    },\n    that: function that() {\n      return this;\n    },\n    volumeFix: function volumeFix() {\n      var fix = '';\n      var coin = this.axiosObj.coin;\n\n      if (this.market && coin && this.market.coinList[coin] && this.market.coinList[coin].showPrecision) {\n        fix = this.market.coinList[coin].showPrecision;\n      }\n\n      return Number(fix);\n    },\n    btcFix: function btcFix() {\n      var fix = '';\n\n      if (this.market && this.market.coinList.BTC && this.market.coinList.BTC.showPrecision) {\n        fix = this.market.coinList.BTC.showPrecision;\n      }\n\n      return Number(fix);\n    },\n    priceFix: function priceFix() {\n      var fix = this.$store.state.baseData.defaultFiatPrecision;\n      var _this$axiosObj3 = this.axiosObj,\n          payCoin = _this$axiosObj3.payCoin,\n          coin = _this$axiosObj3.coin;\n\n      if (this.market && coin && payCoin && this.market.coinList[coin] && this.market.coinList[coin].fiatPrecision && this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()]) {\n        fix = this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()];\n      }\n\n      return Number(fix);\n    },\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    otcPublicInfo: function otcPublicInfo() {\n      return this.$store.state.baseData.otcPublicInfo;\n    },\n    // 使用 xx 交易 xxx\n    messageTitle: function messageTitle() {\n      var str = '';\n      var _this$axiosObj4 = this.axiosObj,\n          side = _this$axiosObj4.side,\n          coin = _this$axiosObj4.coin,\n          payCoin = _this$axiosObj4.payCoin;\n\n      if (side && coin && payCoin) {\n        // 使用\n        str = \"\".concat(this.$t('otcTrade.use'), \"\\n          \").concat(payCoin, \"\\n          \").concat(side === 'BUY' ? this.$t('otcTrade.sell') : this.$t('otcTrade.buy'), \" \").concat(this.getShowCoin(coin));\n      }\n\n      return str;\n    },\n    // 收款方式 / 付款方式\n    sidePay: function sidePay() {\n      // 交易方式\n      var str = this.$t('otcTrade.TransactionMode');\n\n      if (this.axiosObj.side) {\n        str = this.axiosObj.side === 'BUY' ? this.$t('otcTrade.payment') : this.$t('otcTrade.Receivables');\n      }\n\n      return str;\n    },\n    // 是否展示商家备注\n    isShowEscription: function isShowEscription() {\n      if (this.axiosObj.description && this.axiosObj.description.length) {\n        return true;\n      }\n\n      return false;\n    },\n    // 支付方式\n    payments: function payments() {\n      if (this.axiosObj.payments) {\n        return this.axiosObj.payments;\n      }\n\n      return [];\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  methods: {\n    getShowCoin: function getShowCoin(v) {\n      var str = v;\n\n      if (this.market && this.market.coinList) {\n        str = getCoinShowName(v, this.market.coinList);\n      }\n\n      return str;\n    },\n    init: function init() {\n      var _this$$route$query = this.$route.query,\n          orderId = _this$$route$query.orderId,\n          userId = _this$$route$query.userId;\n\n      if (orderId) {\n        this.orderId = orderId;\n        this.userId = userId;\n        this.initOrder();\n      }\n    },\n    startTime: function startTime() {\n      var _this = this;\n\n      clearInterval(this.timer);\n      this.time = 60;\n      this.timer = setInterval(function () {\n        _this.time -= 1;\n\n        if (_this.time <= 0) {\n          clearInterval(_this.timer);\n\n          _this.$router.push('/');\n        }\n      }, 1000);\n    },\n    goUser: function goUser() {\n      if (this.userId) {\n        this.$router.push(\"/stranger?uid=\".concat(this.userId));\n      }\n    },\n    BtnClick: function BtnClick() {\n      var _this2 = this;\n\n      // 我要购买\n      if (this.axiosObj.side === 'SELL') {\n        this.btnLoading = true;\n        this.axios({\n          url: 'v4/otc/buy_order_save',\n          params: {\n            advertId: this.orderId,\n            price: this.axiosObj.price,\n            totalPrice: this.leftInp,\n            // 法币\n            type: 'price',\n            volume: this.rightInp // 数字货币\n\n          },\n          hostType: 'otc'\n        }).then(function (data) {\n          _this2.btnLoading = false;\n\n          if (data.code.toString() === '0') {\n            _this2.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'success'\n            });\n\n            _this2.$router.push(\"otcDetailOrder?orderId=\".concat(data.data.sequence));\n          } else {\n            _this2.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        }); // 我要出售\n      } else if (this.axiosObj.side === 'BUY') {\n        this.btnLoading = true;\n        this.axios({\n          url: 'v4/otc/sell_order_save',\n          params: {\n            advertId: this.orderId,\n            capitalPword: this.passCode,\n            price: String(this.axiosObj.price),\n            totalPrice: this.rightInp,\n            // 法币\n            type: 'volume',\n            volume: this.leftInp // 数字货币\n\n          },\n          hostType: 'otc'\n        }).then(function (data) {\n          _this2.btnLoading = false;\n\n          if (data.code.toString() === '0') {\n            _this2.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'success'\n            });\n\n            _this2.$router.push(\"otcDetailOrder?orderId=\".concat(data.data.sequence));\n          } else {\n            _this2.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    },\n    inputAll: function inputAll(type) {\n      if (this.axiosObj.volumeBalance) {\n        if (type === 'right') {\n          this.rightInp = fixD(this.axiosObj.volumeBalance, this.volumeFix);\n          this.rightServe();\n        } else if (type === 'left') {\n          this.leftInp = fixD(this.axiosObj.volumeBalance, this.volumeFix);\n          this.leftServe();\n        }\n      }\n    },\n    // 返回法币交易大厅\n    goHall: function goHall() {\n      this.$router.push('/');\n    },\n    // 关闭广告\n    closeTrade: function closeTrade() {\n      this.closeTradeFlag = true;\n    },\n    // 关闭广告弹窗 -- 确认\n    closeTradeConfirm: function closeTradeConfirm() {\n      var _this3 = this;\n\n      this.closeTradeConfirmLoading = true;\n      this.axios({\n        url: '/otc/close_wanted',\n        method: 'post',\n        hostType: 'otc',\n        params: {\n          advertId: this.orderId\n        }\n      }).then(function (data) {\n        _this3.closeTradeConfirmLoading = false;\n\n        if (data.code.toString() === '0') {\n          _this3.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'success'\n          });\n\n          _this3.initOrder(); // 重新请求该订单\n\n\n          _this3.closeTradeFlag = false; // 关闭弹窗\n        } else {\n          _this3.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    // 关闭广告弹窗 -- 取消\n    closeTradeClose: function closeTradeClose() {\n      this.closeTradeFlag = false;\n    },\n    inputLineChange: function inputLineChange(value, name) {\n      this[name] = value;\n\n      if (name === 'leftInp') {\n        this.leftServe();\n      } else if (name === 'rightInp') {\n        this.rightServe();\n      }\n    },\n    leftServe: function leftServe() {\n      // 联动rightinp\n      if (this.axiosObj.price) {\n        // 当前为法币\n        if (this.axiosObj.side === 'SELL') {\n          this.rightInp = String(this.leftInp / this.axiosObj.price); // 当前为数字货币\n        } else if (this.axiosObj.side === 'BUY') {\n          this.rightInp = String(this.leftInp * this.axiosObj.price);\n        }\n      }\n    },\n    rightServe: function rightServe() {\n      // 联动rightinp\n      if (this.axiosObj.price) {\n        // 当前为数字货币\n        if (this.axiosObj.side === 'SELL') {\n          this.leftInp = String(this.rightInp * this.axiosObj.price); // this.rightInp = fixD(v / this.axiosObj.price, this.priceFix)\n          // 当前为法币\n        } else if (this.axiosObj.side === 'BUY') {\n          this.leftInp = String(this.rightInp / this.axiosObj.price);\n        }\n      }\n    },\n    initOrder: function initOrder() {\n      var _this4 = this;\n\n      this.axios({\n        url: 'otc/v4/wanted_detail',\n        method: 'post',\n        hostType: 'otc',\n        params: {\n          advertId: this.orderId\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          _this4.axiosReady = true;\n          _this4.axiosObj = data.data;\n        } else {\n          _this4.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/otcTrade/otcTrade.js"],"names":["fixD","fixInput","getCoinShowName","data","orderId","userId","axiosObj","axiosReady","closeTradeConfirmLoading","closeTradeFlag","leftInp","rightInp","passCode","btnLoading","timer","time","watch","optionsFlag","v","startTime","fix","side","priceFix","volumeFix","filters","payFixD","that","coinFixD","BTCFixD","btcFix","computed","fiatTradeOpen","base","$store","state","baseData","publicInfo","switch","fiat_trade_open","windFlag","flag","wind_control_switch","toString","userInfo","userVip","str","otcCompanyInfo","Number","status","companyLevel","credit","creditGrade","mySellBtnDisabled","leftInpObj","rightInpObj","passFlag","myBuyBtnDisabled","parseFloat","length","errorFlag","errorText","volumeBalance","$t","minTrade","maxTrade","regExp","passWord","test","passErrorFlag","leftInputOptions","promptText","warningText","payCoin","coin","getShowCoin","rightInputOptions","tip","market","coinList","showPrecision","BTC","defaultFiatPrecision","fiatPrecision","toLowerCase","otcPublicInfo","messageTitle","sidePay","isShowEscription","description","payments","beforeDestroy","clearInterval","methods","init","$route","query","initOrder","setInterval","$router","push","goUser","BtnClick","axios","url","params","advertId","price","totalPrice","type","volume","hostType","then","code","$bus","$emit","text","msg","sequence","capitalPword","String","inputAll","rightServe","leftServe","goHall","closeTrade","closeTradeConfirm","method","closeTradeClose","inputLineChange","value","name"],"mappings":"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","sourcesContent":["import { fixD, fixInput, getCoinShowName } from '@/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderId: null, // 订单id\r\n      userId: null, // 用户id\r\n      axiosObj: {},\r\n      axiosReady: false,\r\n      closeTradeConfirmLoading: false, // 关闭广告弹窗 -- 确认按钮loading\r\n      closeTradeFlag: false, // 关闭广告弹窗变量\r\n      leftInp: '', // 左侧input\r\n      rightInp: '', // 右侧input\r\n      passCode: '', // 资金密码\r\n      btnLoading: false,\r\n      timer: null, // 倒计时 计时器\r\n      time: 60, // 倒计时\r\n    };\r\n  },\r\n  watch: {\r\n    optionsFlag(v) {\r\n      if (v === 'even') {\r\n        this.startTime();\r\n      }\r\n    },\r\n    leftInp(v) {\r\n      let fix = 0;\r\n      // 如果该订单为 卖单走法币精度, 买单走数字货币精度\r\n      if (this.axiosObj.side === 'SELL') {\r\n        fix = this.priceFix;\r\n      } else if (this.axiosObj.side === 'BUY') {\r\n        fix = this.volumeFix;\r\n      }\r\n      this.leftInp = fixInput(v, fix);\r\n    },\r\n    rightInp(v) {\r\n      let fix = 0;\r\n      // 如果该订单为 卖单走数字货币币精度, 买单走法币精度\r\n      if (this.axiosObj.side === 'SELL') {\r\n        fix = this.volumeFix;\r\n      } else if (this.axiosObj.side === 'BUY') {\r\n        fix = this.priceFix;\r\n      }\r\n      this.rightInp = fixInput(v, fix);\r\n    },\r\n  },\r\n  filters: {\r\n    payFixD(v, that) {\r\n      return fixD(v, that.priceFix);\r\n    },\r\n    coinFixD(v, that) {\r\n      return fixD(v, that.volumeFix);\r\n    },\r\n    BTCFixD(v, that) {\r\n      return fixD(v, that.btcFix);\r\n    },\r\n  },\r\n  computed: {\r\n    fiatTradeOpen() {\r\n      const base = this.$store.state.baseData.publicInfo;\r\n      if (base && base.switch && base.switch.fiat_trade_open === '1') {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    publicInfo() { return this.$store.state.baseData.publicInfo; },\r\n    windFlag() {\r\n      let flag = false;\r\n      if (this.publicInfo && this.publicInfo.switch\r\n        && this.publicInfo.switch.wind_control_switch\r\n        && this.publicInfo.switch.wind_control_switch.toString() === '1') {\r\n        flag = true;\r\n      }\r\n      return flag;\r\n    },\r\n    userInfo() { return this.$store.state.baseData.userInfo; },\r\n    userVip() {\r\n      let str = '';\r\n      if (this.userInfo && this.userInfo.otcCompanyInfo) {\r\n        if (Number(this.userInfo.otcCompanyInfo.status)) {\r\n          if (this.axiosObj.companyLevel === 1) {\r\n            str = `<svg class=\"icon icon-16\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-c_16\"></use>\r\n            </svg>`;\r\n          } else if (this.axiosObj.companyLevel === 2) {\r\n            str = `<svg class=\"icon icon-16\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-c_17\"></use>\r\n            </svg>`;\r\n          }\r\n        }\r\n      }\r\n      return str;\r\n    },\r\n    // 信用度\r\n    credit() {\r\n      let str = '';\r\n      if (this.axiosObj.creditGrade) {\r\n        str = `${this.axiosObj.creditGrade * 100}%`;\r\n      }\r\n      return str;\r\n    },\r\n    // 我要出售(立即出售) 按钮\r\n    mySellBtnDisabled() {\r\n      let flag = true;\r\n      if ((this.leftInpObj.flag && this.rightInpObj.flag && this.passFlag) || this.btnLoading) {\r\n        flag = false;\r\n      }\r\n      return flag;\r\n    },\r\n    // 我要购买(立即购买) 按钮\r\n    myBuyBtnDisabled() {\r\n      let flag = true;\r\n      if ((this.leftInpObj.flag && this.rightInpObj.flag) || this.btnLoading) {\r\n        flag = false;\r\n      }\r\n      return flag;\r\n    },\r\n    leftInpObj() {\r\n      // 我要出售 当前该输入框为数字货币\r\n      if (this.axiosObj.side === 'BUY') {\r\n        // 当前框为0 或者没有数量时\r\n        if (parseFloat(this.leftInp) === 0 || this.leftInp.length === 0) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: false,\r\n            errorText: '',\r\n          };\r\n          // 当前框的值 大于 剩余数量\r\n        } if (parseFloat(this.leftInp) > parseFloat(this.axiosObj.volumeBalance)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 下单金额大于该订单数量\r\n            errorText: this.$t('otcTrade.numberError'),\r\n          };\r\n        }\r\n        return {\r\n          flag: true,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n\r\n        // 我要购买 当前该输入框为法币\r\n      } if (this.axiosObj.side === 'SELL') {\r\n        // 当前框为0 或者没有数量时\r\n        if (parseFloat(this.leftInp) === 0 || this.leftInp.length === 0) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: false,\r\n            errorText: '',\r\n          };\r\n          // 当前框的值 小于 最小交易限额\r\n        } if (parseFloat(this.leftInp) < parseFloat(this.axiosObj.minTrade)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 换取数量不得小于最小交易限额\r\n            errorText: this.$t('otcTrade.numberMinError'),\r\n          };\r\n          // 当前框的值 大于 最大交易限额\r\n        } if (parseFloat(this.leftInp) > parseFloat(this.axiosObj.maxTrade)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 换取数量不得大于最大交易限额\r\n            errorText: this.$t('otcTrade.numberMaxError'),\r\n          };\r\n        }\r\n        return {\r\n          flag: true,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      }\r\n      return {\r\n        flag: false,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    rightInpObj() {\r\n      // 我要出售 当前该输入框为法币框\r\n      if (this.axiosObj.side === 'BUY') {\r\n        // 当前框为0 或者没有数量时\r\n        if (parseFloat(this.rightInp) === 0 || this.rightInp.length === 0) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: false,\r\n            errorText: '',\r\n          };\r\n          // 当前框的值 小于 最小交易限额\r\n        } if (parseFloat(this.rightInp) < parseFloat(this.axiosObj.minTrade)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 换取数量不得小于最小交易限额\r\n            errorText: this.$t('otcTrade.numberMinError'),\r\n          };\r\n          // 当前框的值 大于 最大交易限额\r\n        } if (parseFloat(this.rightInp) > parseFloat(this.axiosObj.maxTrade)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 换取数量不得大于最大交易限额\r\n            errorText: this.$t('otcTrade.numberMaxError'),\r\n          };\r\n        }\r\n        return {\r\n          flag: true,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n\r\n        // 我要购买\r\n      } if (this.axiosObj.side === 'SELL') {\r\n        // 当前框为0 或者没有数量时\r\n        if (parseFloat(this.rightInp) === 0 || this.rightInp.length === 0) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: false,\r\n            errorText: '',\r\n          };\r\n          // 当前框的值 大于 剩余数量\r\n        } if (parseFloat(this.rightInp) > parseFloat(this.axiosObj.volumeBalance)) {\r\n          return {\r\n            flag: false,\r\n            errorFlag: true,\r\n            // 下单金额大于该订单数量\r\n            errorText: this.$t('otcTrade.numberError'),\r\n          };\r\n        }\r\n        return {\r\n          flag: true,\r\n          errorFlag: false,\r\n          errorText: '',\r\n        };\r\n      }\r\n      return {\r\n        flag: false,\r\n        errorFlag: false,\r\n        errorText: '',\r\n      };\r\n    },\r\n    // passCode 是否复合正则验证\r\n    passFlag() { return this.$store.state.regExp.passWord.test(this.passCode); },\r\n    // pass框是否为错误状态\r\n    passErrorFlag() {\r\n      if (this.passCode.length !== 0 && !this.passFlag) return true;\r\n      return false;\r\n    },\r\n    leftInputOptions() {\r\n      // 下单金额\r\n      let promptText = this.$t('otcTrade.OrderAmount');\r\n      let warningText = '';\r\n      const {\r\n        side, payCoin, coin, minTrade, maxTrade,\r\n      } = this.axiosObj;\r\n      if (side === 'SELL') {\r\n        // 用 法币 买 数字货币\r\n        promptText += ` (${payCoin})`;\r\n        // 下单金额范围\r\n        warningText = `${this.$t('otcTrade.ScopeOrderAmount')}\r\n         (${fixD(minTrade, this.priceFix)} - ${fixD(maxTrade, this.priceFix)})`;\r\n      } else if (side === 'BUY') {\r\n        // 用 数字货币 换 法币\r\n        promptText += `(${this.getShowCoin(coin)})`;\r\n      }\r\n      return {\r\n        promptText,\r\n        warningText,\r\n      };\r\n    },\r\n    rightInputOptions() {\r\n      // 换取数量\r\n      let promptText = this.$t('otcTrade.QuantityInExchange');\r\n      let warningText = '';\r\n      const {\r\n        side, payCoin, coin, minTrade, maxTrade,\r\n      } = this.axiosObj;\r\n      if (side === 'SELL') {\r\n        // 用 法币 买 数字货币\r\n        promptText += ` (${this.getShowCoin(coin)})`;\r\n      } else if (side === 'BUY') {\r\n        // 用 数字货币 换 法币\r\n        promptText += `(${payCoin})`;\r\n        // 下单金额范围\r\n        warningText = `${this.$t('otcTrade.ScopeOrderAmount')}\r\n          (${fixD(minTrade, this.priceFix)} - ${fixD(maxTrade, this.priceFix)})`;\r\n      }\r\n      return {\r\n        promptText,\r\n        warningText,\r\n      };\r\n    },\r\n    // 操作区域展示的模块 非自己/自己\r\n    optionsFlag() {\r\n      let flag = '';\r\n      if (this.axiosReady) {\r\n        if (this.axiosObj.tip && this.axiosObj.tip.length) {\r\n          flag = 'myself';\r\n        } else {\r\n          flag = 'even';\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    that() { return this; },\r\n    volumeFix() {\r\n      let fix = '';\r\n      const { coin } = this.axiosObj;\r\n      if (this.market && coin\r\n        && this.market.coinList[coin]\r\n        && this.market.coinList[coin].showPrecision) {\r\n        fix = this.market.coinList[coin].showPrecision;\r\n      }\r\n      return Number(fix);\r\n    },\r\n    btcFix() {\r\n      let fix = '';\r\n      if (this.market\r\n        && this.market.coinList.BTC\r\n        && this.market.coinList.BTC.showPrecision) {\r\n        fix = this.market.coinList.BTC.showPrecision;\r\n      }\r\n      return Number(fix);\r\n    },\r\n    priceFix() {\r\n      let fix = this.$store.state.baseData.defaultFiatPrecision;\r\n      const { payCoin, coin } = this.axiosObj;\r\n      if (this.market && coin && payCoin\r\n        && this.market.coinList[coin]\r\n        && this.market.coinList[coin].fiatPrecision\r\n        && this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()]) {\r\n        fix = this.market.coinList[coin].fiatPrecision[payCoin.toLowerCase()];\r\n      }\r\n      return Number(fix);\r\n    },\r\n    market() { return this.$store.state.baseData.market; },\r\n    otcPublicInfo() { return this.$store.state.baseData.otcPublicInfo; },\r\n    // 使用 xx 交易 xxx\r\n    messageTitle() {\r\n      let str = '';\r\n      const { side, coin, payCoin } = this.axiosObj;\r\n      if (side && coin && payCoin) {\r\n        // 使用\r\n        str = `${this.$t('otcTrade.use')}\r\n          ${payCoin}\r\n          ${side === 'BUY' ? this.$t('otcTrade.sell') : this.$t('otcTrade.buy')} ${this.getShowCoin(coin)}`;\r\n      }\r\n      return str;\r\n    },\r\n    // 收款方式 / 付款方式\r\n    sidePay() {\r\n      // 交易方式\r\n      let str = this.$t('otcTrade.TransactionMode');\r\n      if (this.axiosObj.side) {\r\n        str = this.axiosObj.side === 'BUY'\r\n          ? this.$t('otcTrade.payment')\r\n          : this.$t('otcTrade.Receivables');\r\n      }\r\n      return str;\r\n    },\r\n    // 是否展示商家备注\r\n    isShowEscription() {\r\n      if (this.axiosObj.description && this.axiosObj.description.length) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // 支付方式\r\n    payments() {\r\n      if (this.axiosObj.payments) {\r\n        return this.axiosObj.payments;\r\n      }\r\n      return [];\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  },\r\n  methods: {\r\n    getShowCoin(v) {\r\n      let str = v;\r\n      if (this.market && this.market.coinList) {\r\n        str = getCoinShowName(v, this.market.coinList);\r\n      }\r\n      return str;\r\n    },\r\n    init() {\r\n      const { orderId, userId } = this.$route.query;\r\n      if (orderId) {\r\n        this.orderId = orderId;\r\n        this.userId = userId;\r\n        this.initOrder();\r\n      }\r\n    },\r\n    startTime() {\r\n      clearInterval(this.timer);\r\n      this.time = 60;\r\n      this.timer = setInterval(() => {\r\n        this.time -= 1;\r\n        if (this.time <= 0) {\r\n          clearInterval(this.timer);\r\n          this.$router.push('/');\r\n        }\r\n      }, 1000);\r\n    },\r\n    goUser() {\r\n      if (this.userId) {\r\n        this.$router.push(`/stranger?uid=${this.userId}`);\r\n      }\r\n    },\r\n    BtnClick() {\r\n      // 我要购买\r\n      if (this.axiosObj.side === 'SELL') {\r\n        this.btnLoading = true;\r\n        this.axios({\r\n          url: 'v4/otc/buy_order_save',\r\n          params: {\r\n            advertId: this.orderId,\r\n            price: this.axiosObj.price,\r\n            totalPrice: this.leftInp, // 法币\r\n            type: 'price',\r\n            volume: this.rightInp, // 数字货币\r\n          },\r\n          hostType: 'otc',\r\n        }).then((data) => {\r\n          this.btnLoading = false;\r\n          if (data.code.toString() === '0') {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n            this.$router.push(`otcDetailOrder?orderId=${data.data.sequence}`);\r\n          } else {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n        // 我要出售\r\n      } else if (this.axiosObj.side === 'BUY') {\r\n        this.btnLoading = true;\r\n        this.axios({\r\n          url: 'v4/otc/sell_order_save',\r\n          params: {\r\n            advertId: this.orderId,\r\n            capitalPword: this.passCode,\r\n            price: String(this.axiosObj.price),\r\n            totalPrice: this.rightInp, // 法币\r\n            type: 'volume',\r\n            volume: this.leftInp, // 数字货币\r\n          },\r\n          hostType: 'otc',\r\n        }).then((data) => {\r\n          this.btnLoading = false;\r\n          if (data.code.toString() === '0') {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n            this.$router.push(`otcDetailOrder?orderId=${data.data.sequence}`);\r\n          } else {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    inputAll(type) {\r\n      if (this.axiosObj.volumeBalance) {\r\n        if (type === 'right') {\r\n          this.rightInp = fixD(this.axiosObj.volumeBalance, this.volumeFix);\r\n          this.rightServe();\r\n        } else if (type === 'left') {\r\n          this.leftInp = fixD(this.axiosObj.volumeBalance, this.volumeFix);\r\n          this.leftServe();\r\n        }\r\n      }\r\n    },\r\n    // 返回法币交易大厅\r\n    goHall() {\r\n      this.$router.push('/');\r\n    },\r\n    // 关闭广告\r\n    closeTrade() {\r\n      this.closeTradeFlag = true;\r\n    },\r\n    // 关闭广告弹窗 -- 确认\r\n    closeTradeConfirm() {\r\n      this.closeTradeConfirmLoading = true;\r\n      this.axios({\r\n        url: '/otc/close_wanted',\r\n        method: 'post',\r\n        hostType: 'otc',\r\n        params: {\r\n          advertId: this.orderId,\r\n        },\r\n      }).then((data) => {\r\n        this.closeTradeConfirmLoading = false;\r\n        if (data.code.toString() === '0') {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n          this.initOrder(); // 重新请求该订单\r\n          this.closeTradeFlag = false; // 关闭弹窗\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    // 关闭广告弹窗 -- 取消\r\n    closeTradeClose() { this.closeTradeFlag = false; },\r\n    inputLineChange(value, name) {\r\n      this[name] = value;\r\n      if (name === 'leftInp') {\r\n        this.leftServe();\r\n      } else if (name === 'rightInp') {\r\n        this.rightServe();\r\n      }\r\n    },\r\n    leftServe() {\r\n      // 联动rightinp\r\n      if (this.axiosObj.price) {\r\n        // 当前为法币\r\n        if (this.axiosObj.side === 'SELL') {\r\n          this.rightInp = String(this.leftInp / this.axiosObj.price);\r\n          // 当前为数字货币\r\n        } else if (this.axiosObj.side === 'BUY') {\r\n          this.rightInp = String(this.leftInp * this.axiosObj.price);\r\n        }\r\n      }\r\n    },\r\n    rightServe() {\r\n      // 联动rightinp\r\n      if (this.axiosObj.price) {\r\n        // 当前为数字货币\r\n        if (this.axiosObj.side === 'SELL') {\r\n          this.leftInp = String(this.rightInp * this.axiosObj.price);\r\n          // this.rightInp = fixD(v / this.axiosObj.price, this.priceFix)\r\n          // 当前为法币\r\n        } else if (this.axiosObj.side === 'BUY') {\r\n          this.leftInp = String(this.rightInp / this.axiosObj.price);\r\n        }\r\n      }\r\n    },\r\n    initOrder() {\r\n      this.axios({\r\n        url: 'otc/v4/wanted_detail',\r\n        method: 'post',\r\n        hostType: 'otc',\r\n        params: {\r\n          advertId: this.orderId,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          this.axiosReady = true;\r\n          this.axiosObj = data.data;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n"]}]}