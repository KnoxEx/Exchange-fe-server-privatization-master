{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/futuresData/futuresData.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/futuresData/futuresData.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { colorMap, getHex, imgMap, formatTime, fixD, getCookie } from '@/utils';\nexport default {\n  name: 'futuresData',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      tableType: 1,\n      headClasses: 'c-4-bg',\n      bodyClasses: 'c-4-bg',\n      symbol: null,\n      type: null,\n      contractId: null,\n      tableLoading: false,\n      dataList: [],\n      brokenLineList: [],\n      historyList: [],\n      amount: 0,\n      pagination: {\n        // 翻页数据\n        count: 0,\n        // 总数量\n        pageSize: 10,\n        // 每页显示条数\n        page: 1 // 当前页数\n\n      }\n    };\n  },\n  computed: {\n    // 类型列表 USDT合约/币本位合约\n    typeTabList: function typeTabList() {\n      return [{\n        code: '1',\n        value: this.$t('futuresData.typeTabList1') // 'USDT合约',\n\n      }, {\n        code: '0',\n        value: this.$t('futuresData.typeTabList2') // '币本位合约',\n\n      }, {\n        code: '2',\n        value: this.$t('futuresData.typeTabList3') // '混合合约',\n\n      }, {\n        code: '3',\n        value: this.$t('futuresData.typeTabList4') // '模拟合约',\n\n      }];\n    },\n    tbaleTitle: function tbaleTitle() {\n      var text = this.$t('futuresData.tabList1'); //  '收支记录';\n\n      if (this.tableType === 2) {\n        text = this.$t('futuresData.tabList2'); //  '历史数据';\n      }\n\n      if (this.tableType === 3) {\n        text = this.$t('futuresData.tabList3'); //  '指数价格组成';\n      }\n\n      return text;\n    },\n    moreText: function moreText() {\n      var data = {\n        text: this.$t('futuresData.moreText1'),\n        //  '了解保险基金',\n        link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900003529386-%E4%BF%9D%E9%99%A9%E5%9F%BA%E9%87%91'\n      };\n\n      if (this.tableType === 2) {\n        data = {\n          text: this.$t('futuresData.moreText2'),\n          //  '了解资金费率',\n          link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900004402523-%E8%B5%84%E9%87%91%E8%B4%B9%E7%8E%87'\n        };\n      }\n\n      if (this.tableType === 3) {\n        data = {\n          text: this.$t('futuresData.moreText3'),\n          //  '了解指数价格',\n          link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900004402503-%E6%8C%87%E6%95%B0%E4%BB%B7%E6%A0%BC'\n        };\n      }\n\n      if (this.tableType === 4) {\n        data = {\n          text: this.$t('futuresData.moreText4'),\n          //  '了解指标记价格',\n          link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900003490006-%E6%A0%87%E8%AE%B0%E4%BB%B7%E6%A0%BC'\n        };\n      }\n\n      return data;\n    },\n    // 合约列表\n    contractList: function contractList() {\n      return this.$store.state.future.contractList;\n    },\n    // 当前基金币种信息\n    acriveSymbol: function acriveSymbol() {\n      var _this = this;\n\n      var data = {};\n\n      if (this.contractList.length && this.symbol) {\n        this.contractList.forEach(function (item) {\n          if (item.marginCoin === _this.symbol) {\n            data = item;\n          }\n        });\n      }\n\n      return data;\n    },\n    // 当前合约信息\n    acriveContract: function acriveContract() {\n      var _this2 = this;\n\n      var data = {};\n\n      if (this.contractList.length && this.symbol) {\n        this.contractList.forEach(function (item) {\n          if (item.id === _this2.contractId) {\n            data = item;\n          }\n        });\n      }\n\n      return data;\n    },\n    // 合约列表\n    marketList: function marketList() {\n      var _this3 = this;\n\n      var data = [];\n      var text = '';\n\n      if (this.contractList && this.contractList.length) {\n        this.contractList.forEach(function (item) {\n          if (Number(_this3.type) === _this3.filterType(item)) {\n            if (item.contractType !== 'E') {\n              text = \"-\".concat(item.marginCoin);\n            } else {\n              text = '';\n            }\n\n            var symbolName = item.symbol.replace('-', '');\n            data.push({\n              value: \"\".concat(symbolName).concat(text),\n              code: item.id\n            });\n          }\n        });\n      }\n\n      return data;\n    },\n    // 保证金币种列表\n    marginCoinList: function marginCoinList() {\n      if (this.$store.state.future.marginCoinList) {\n        return this.$store.state.future.marginCoinList;\n      }\n\n      return [];\n    },\n    tabList: function tabList() {\n      return [{\n        key: 1,\n        text: this.$t('futuresData.tabList1') // '永续合约保险基金',\n\n      }, {\n        key: 2,\n        text: this.$t('futuresData.tabList2') // '资金费率',\n\n      }, {\n        key: 3,\n        text: this.$t('futuresData.tabList3') // '指数价格',\n\n      }, {\n        key: 4,\n        text: this.$t('futuresData.tabList4') // '标记价格',\n\n      }];\n    },\n    // 保险基金币种\n    symbolOPtion: function symbolOPtion() {\n      var arr = [];\n\n      if (this.marginCoinList.length) {\n        this.marginCoinList.forEach(function (item) {\n          arr.push({\n            value: item,\n            code: item\n          });\n        });\n      }\n\n      return arr;\n    },\n    columns: function columns() {\n      if (this.tableType === 1) {\n        return [{\n          title: this.$t('futuresData.columns1'),\n          //  '时间',\n          width: '33%'\n        }, {\n          title: this.$t('futuresData.columns2'),\n          //  '流水类型',\n          width: '33%'\n        }, {\n          title: this.$t('futuresData.columns3'),\n          //  '金额',\n          width: '33%'\n        }];\n      }\n\n      if (this.tableType === 2) {\n        return [{\n          title: this.$t('futuresData.columns1'),\n          //  '时间',\n          width: '33%'\n        }, {\n          title: this.$t('futuresData.columns4'),\n          //  '合约',\n          width: '33%'\n        }, {\n          title: this.$t('futuresData.columns5'),\n          //  '当期资金费率',\n          width: '33%'\n        }];\n      }\n\n      return [{\n        title: this.$t('futuresData.columns6'),\n        //  '交易所',\n        width: '50%'\n      }, {\n        title: this.$t('futuresData.columns7'),\n        //  '权重',\n        width: '50%'\n      }];\n    },\n    contractName: function contractName() {\n      var _this4 = this;\n\n      if (this.contractId && this.marketList.length) {\n        var name = '';\n        this.marketList.forEach(function (item) {\n          if (_this4.contractId === item.code) {\n            name = item.value;\n          }\n        });\n        return name;\n      }\n\n      return '';\n    },\n    publicInfo: function publicInfo() {\n      if (this.$store.state && this.$store.state.baseData) {\n        return this.$store.state.baseData.publicInfo;\n      }\n\n      return null;\n    },\n    // 页面标题title\n    documentTitle: function documentTitle() {\n      var lang = getCookie('lan');\n      var str = '';\n\n      if (this.publicInfo) {\n        var _this$publicInfo = this.publicInfo,\n            indexHeaderTitle = _this$publicInfo.indexHeaderTitle,\n            seo = _this$publicInfo.seo;\n        var title = '';\n\n        if (indexHeaderTitle) {\n          if (lang) {\n            title = seo.title || indexHeaderTitle[lang];\n          } else {\n            var lan = this.publicInfo.lan.defLan;\n            title = seo.title || indexHeaderTitle[lan];\n          }\n        }\n\n        str = \"\\u5408\\u7EA6\\u6570\\u636E - \".concat(title);\n      }\n\n      return str;\n    }\n  },\n  watch: {\n    // 页面标题title\n    documentTitle: function documentTitle(val) {\n      setTimeout(function () {\n        document.title = val;\n      }, 200);\n    },\n    // 永续合约保险基金列表\n    symbolOPtion: function symbolOPtion(val, old) {\n      if (val.length && !old.length) {\n        this.setSymbolValue();\n      }\n    },\n    // 永续合约保险基金\n    symbol: function symbol(val) {\n      if (val) {\n        this.pagination.page = 1;\n        this.getData();\n        this.getRiskAccount();\n      }\n    },\n    // 合约类型列表\n    typeTabList: function typeTabList(val, old) {\n      if (val.length && !old.length) {\n        // this.type = val[0].code;\n        this.setTypeValue();\n      }\n    },\n    // 合约列表\n    marketList: function marketList(val) {\n      if (val.length) {\n        this.pagination.page = 1; // this.contractId = val[0].code;\n\n        this.setcoValue();\n      } else {\n        this.contractId = null;\n      }\n    },\n    contractId: function contractId(val) {\n      this.brokenLineList = [];\n\n      if (val) {\n        this.getData();\n      }\n    },\n    tableType: function tableType(val) {\n      if (val) {\n        this.setSymbolValue();\n\n        if (this.typeTabList.length) {\n          // this.type = this.typeTabList[0].code;\n          this.setTypeValue();\n        }\n\n        if (this.marketList.length) {\n          // this.contractId = this.marketList[0].code;\n          this.setcoValue();\n        }\n\n        this.getData();\n      }\n    },\n    // line\n    brokenLineList: function brokenLineList() {\n      var _this5 = this;\n\n      var time = [];\n      var datas = [];\n\n      if (this.brokenLineList && this.brokenLineList.length) {\n        this.brokenLineList.forEach(function (item) {\n          time.push(formatTime(item.ctime));\n          datas.push(fixD(item.amount, _this5.acriveSymbol.mCionFix));\n        });\n      } else {\n        time = [0];\n        datas = [0];\n      }\n\n      this.myEcharts.setOption({\n        xAxis: {\n          data: time\n        },\n        series: [{\n          type: 'line',\n          data: datas\n        }]\n      });\n    }\n  },\n  methods: {\n    init: function init() {\n      this.initEachart();\n      this.setInitValue();\n      this.setSymbolValue();\n      document.title = this.documentTitle;\n    },\n    // 设置默认保险基金币种\n    setSymbolValue: function setSymbolValue() {\n      if (this.symbolOPtion.length) {\n        var marginCoin = this.$route.query.marginCoin;\n\n        if (marginCoin && this.isIndexFo(this.symbolOPtion, marginCoin)) {\n          this.symbol = marginCoin;\n        } else if (this.isIndexFo(this.symbolOPtion, 'USDT')) {\n          this.symbol = 'USDT';\n        } else {\n          this.symbol = this.symbolOPtion[0].code;\n        }\n      }\n    },\n    // 设置默认合约类型\n    setTypeValue: function setTypeValue() {\n      if (this.typeTabList.length) {\n        var type = this.$route.query.type;\n\n        if (type && this.isIndexFo(this.typeTabList, type)) {\n          this.type = type;\n        } else {\n          this.type = this.typeTabList[0].code;\n        }\n      }\n    },\n    // 设置默认合约\n    setcoValue: function setcoValue() {\n      if (this.marketList.length) {\n        var contractId = this.$route.query.contractId;\n\n        if (contractId && this.isIndexFo(this.marketList, contractId)) {\n          this.contractId = Number(contractId);\n        } else {\n          this.contractId = this.marketList[0].code;\n        }\n      }\n    },\n    isIndexFo: function isIndexFo(list, val) {\n      var flag = false;\n      list.forEach(function (item) {\n        if (item.code.toString() === val.toString()) {\n          flag = true;\n        }\n      });\n      return flag;\n    },\n    setInitValue: function setInitValue() {\n      // 合约列表\n      if (this.marketList.length) {\n        // this.contractId = this.marketList[0].code;\n        this.setcoValue();\n      } // 合约类型\n\n\n      if (this.typeTabList.length) {\n        // this.type = this.typeTabList[0].code;\n        this.setTypeValue();\n      } // 保险基金币种\n\n\n      if (this.symbolOPtion.length) {\n        // this.symbol = this.symbolOPtion[0].code;\n        this.setSymbolValue();\n      }\n    },\n    initEachart: function initEachart() {\n      // 基于准备好的dom，初始化echarts实例\n      this.myEcharts = window.echarts.init(document.getElementById('chartbox')); // 绘制图表\n\n      this.myEcharts.setOption({\n        animation: false,\n        tooltip: {\n          trigger: 'axis',\n          // 不限时弹层\n          axisPointer: {\n            // 显示随手指移动的刻度线\n            type: 'cross',\n            crossStyle: {\n              width: 2,\n              color: getHex(colorMap['b-2-cl']),\n              type: 'cross'\n            }\n          }\n        },\n        grid: {\n          show: true,\n          borderWidth: 0,\n          borderColor: getHex(colorMap['a-3-bd']),\n          containLabel: true,\n          left: 5,\n          top: 40,\n          right: 5,\n          bottom: 0\n        },\n        xAxis: {\n          data: [],\n          axisPointer: {\n            show: true,\n            type: 'line'\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl']),\n            formatter: function name(value) {\n              return value;\n            }\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          }\n        },\n        yAxis: [{\n          type: 'value',\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisTick: {\n            lineStyle: {\n              color: getHex(colorMap['a-3-bd'])\n            }\n          },\n          axisLabel: {\n            color: getHex(colorMap['b-2-cl'])\n          },\n          splitLine: {\n            lineStyle: {\n              width: 1,\n              color: getHex(colorMap['a-3-bd'])\n            }\n          }\n        }],\n        series: [{\n          data: [],\n          // lineStyle: {\n          //   color: getHex(colorMap['b-1-cl']),\n          // },\n          type: 'line'\n        }]\n      });\n    },\n    // 筛选币对列表\n    filterType: function filterType(data) {\n      // USDT 合约\n      if (data.contractType === 'E' && data.contractSide === 1) {\n        return 1;\n      } // 币本位合约\n\n\n      if (data.contractType === 'E' && data.contractSide === 0) {\n        return 0;\n      } // 模拟合约\n\n\n      if (data.contractType === 'S') {\n        return 3;\n      }\n\n      return 2;\n    },\n    // 切换类型\n    switcherType: function switcherType(type) {\n      this.pagination.page = 1;\n      this.tableType = type;\n\n      if (type === 1) {\n        this.getRiskAccount();\n      }\n    },\n    // select 选择事件\n    selectOnChange: function selectOnChange(data, name) {\n      this[name] = data.code;\n    },\n    getData: function getData() {\n      var _this6 = this;\n\n      var url = this.$store.state.url.futures.riskBalanceList;\n      var paramsData = {\n        symbol: this.symbol,\n        page: this.pagination.page,\n        limit: this.pagination.pageSize\n      };\n\n      if (this.tableType === 2) {\n        url = this.$store.state.url.futures.fundingRateList;\n        paramsData = {\n          contractId: this.contractId,\n          page: this.pagination.page,\n          limit: this.pagination.pageSize\n        };\n      }\n\n      if (this.tableType === 3) {\n        url = this.$store.state.url.futures.indexPriceWeightList;\n        paramsData = {\n          contractId: this.contractId,\n          page: this.pagination.page,\n          limit: this.pagination.pageSize\n        };\n      }\n\n      this.brokenLineList = [];\n      this.axios({\n        url: url,\n        hostType: 'co',\n        params: paramsData\n      }).then(function (_ref) {\n        var data = _ref.data,\n            code = _ref.code;\n        _this6.tableLoading = false;\n\n        if (code === '0') {\n          _this6.historyList = data.historyList;\n          _this6.brokenLineList = data.brokenLineList || [];\n\n          if (_this6.tableType === 3) {\n            _this6.setData(data.records);\n          } else {\n            _this6.setData(_this6.historyList);\n          }\n\n          if (_this6.tableType === 1) {\n            _this6.pagination.count = data.hisCount;\n          }\n\n          if (_this6.tableType === 2) {\n            _this6.pagination.count = data.count;\n          }\n        }\n      });\n    },\n    setData: function setData(dataList) {\n      var _this7 = this;\n\n      var arr = [];\n\n      if (dataList && dataList.length) {\n        if (this.tableType === 1) {\n          dataList.forEach(function (item) {\n            arr.push({\n              id: item.id,\n              data: [formatTime(item.ctime), // '接管盈利注入' : '风险准备金支出',\n              item.type === 1 ? _this7.$t('futuresData.text2') : _this7.$t('futuresData.text3'), fixD(item.hisAmount, _this7.acriveSymbol.mCionFix)]\n            });\n          });\n        }\n\n        if (this.tableType === 2) {\n          dataList.forEach(function (item) {\n            arr.push({\n              id: item.id,\n              data: [formatTime(item.ctime), item.contractName, \"\".concat(fixD(item.amount * 100, 5), \"%\")]\n            });\n          });\n        }\n\n        if (this.tableType === 3) {\n          dataList.forEach(function (item) {\n            arr.push({\n              id: item.id,\n              data: [item.name, \"\".concat(fixD(item.weightRate * 100, 2), \"%\")]\n            });\n          });\n        }\n      }\n\n      this.dataList = arr;\n    },\n    getRiskAccount: function getRiskAccount() {\n      var _this8 = this;\n\n      var url = this.$store.state.url.futures.getRiskAccount;\n      var paramsData = {\n        coinSymbol: this.symbol\n      };\n      this.axios({\n        url: url,\n        hostType: 'co',\n        params: paramsData\n      }).then(function (_ref2) {\n        var data = _ref2.data,\n            code = _ref2.code;\n        _this8.tableLoading = false;\n\n        if (code === '0') {\n          _this8.amount = fixD(data.amount, _this8.acriveSymbol.mCionFix);\n        }\n      });\n    },\n    pagechange: function pagechange(v) {\n      this.pagination.page = v;\n      this.getData();\n    },\n    linkMore: function linkMore(link) {\n      window.open(link);\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/futuresData/futuresData.js"],"names":["colorMap","getHex","imgMap","formatTime","fixD","getCookie","name","data","tableType","headClasses","bodyClasses","symbol","type","contractId","tableLoading","dataList","brokenLineList","historyList","amount","pagination","count","pageSize","page","computed","typeTabList","code","value","$t","tbaleTitle","text","moreText","link","contractList","$store","state","future","acriveSymbol","length","forEach","item","marginCoin","acriveContract","id","marketList","Number","filterType","contractType","symbolName","replace","push","marginCoinList","tabList","key","symbolOPtion","arr","columns","title","width","contractName","publicInfo","baseData","documentTitle","lang","str","indexHeaderTitle","seo","lan","defLan","watch","val","setTimeout","document","old","setSymbolValue","getData","getRiskAccount","setTypeValue","setcoValue","time","datas","ctime","mCionFix","myEcharts","setOption","xAxis","series","methods","init","initEachart","setInitValue","$route","query","isIndexFo","list","flag","toString","window","echarts","getElementById","animation","tooltip","trigger","axisPointer","crossStyle","color","grid","show","borderWidth","borderColor","containLabel","left","top","right","bottom","axisLine","lineStyle","axisTick","axisLabel","formatter","splitLine","yAxis","contractSide","switcherType","selectOnChange","url","futures","riskBalanceList","paramsData","limit","fundingRateList","indexPriceWeightList","axios","hostType","params","then","setData","records","hisCount","hisAmount","weightRate","coinSymbol","pagechange","v","linkMore","open"],"mappings":"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","sourcesContent":["import {\r\n  colorMap, getHex, imgMap, formatTime, fixD, getCookie,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'futuresData',\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      tableType: 1,\r\n      headClasses: 'c-4-bg',\r\n      bodyClasses: 'c-4-bg',\r\n      symbol: null,\r\n      type: null,\r\n      contractId: null,\r\n      tableLoading: false,\r\n      dataList: [],\r\n      brokenLineList: [],\r\n      historyList: [],\r\n      amount: 0,\r\n      pagination: { // 翻页数据\r\n        count: 0, // 总数量\r\n        pageSize: 10, // 每页显示条数\r\n        page: 1, // 当前页数\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    // 类型列表 USDT合约/币本位合约\r\n    typeTabList() {\r\n      return [\r\n        {\r\n          code: '1',\r\n          value: this.$t('futuresData.typeTabList1'), // 'USDT合约',\r\n        },\r\n        {\r\n          code: '0',\r\n          value: this.$t('futuresData.typeTabList2'), // '币本位合约',\r\n        },\r\n        {\r\n          code: '2',\r\n          value: this.$t('futuresData.typeTabList3'), // '混合合约',\r\n        },\r\n        {\r\n          code: '3',\r\n          value: this.$t('futuresData.typeTabList4'), // '模拟合约',\r\n        },\r\n      ];\r\n    },\r\n    tbaleTitle() {\r\n      let text = this.$t('futuresData.tabList1'); //  '收支记录';\r\n      if (this.tableType === 2) {\r\n        text = this.$t('futuresData.tabList2'); //  '历史数据';\r\n      }\r\n      if (this.tableType === 3) {\r\n        text = this.$t('futuresData.tabList3'); //  '指数价格组成';\r\n      }\r\n      return text;\r\n    },\r\n    moreText() {\r\n      let data = {\r\n        text: this.$t('futuresData.moreText1'), //  '了解保险基金',\r\n        link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900003529386-%E4%BF%9D%E9%99%A9%E5%9F%BA%E9%87%91',\r\n      };\r\n      if (this.tableType === 2) {\r\n        data = {\r\n          text: this.$t('futuresData.moreText2'), //  '了解资金费率',\r\n          link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900004402523-%E8%B5%84%E9%87%91%E8%B4%B9%E7%8E%87',\r\n        };\r\n      }\r\n      if (this.tableType === 3) {\r\n        data = {\r\n          text: this.$t('futuresData.moreText3'), //  '了解指数价格',\r\n          link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900004402503-%E6%8C%87%E6%95%B0%E4%BB%B7%E6%A0%BC',\r\n        };\r\n      }\r\n      if (this.tableType === 4) {\r\n        data = {\r\n          text: this.$t('futuresData.moreText4'), //  '了解指标记价格',\r\n          link: 'https://chainupfutures.zendesk.com/hc/zh-sg/articles/900003490006-%E6%A0%87%E8%AE%B0%E4%BB%B7%E6%A0%BC',\r\n        };\r\n      }\r\n      return data;\r\n    },\r\n    // 合约列表\r\n    contractList() {\r\n      return this.$store.state.future.contractList;\r\n    },\r\n    // 当前基金币种信息\r\n    acriveSymbol() {\r\n      let data = {};\r\n      if (this.contractList.length && this.symbol) {\r\n        this.contractList.forEach((item) => {\r\n          if (item.marginCoin === this.symbol) { data = item; }\r\n        });\r\n      }\r\n      return data;\r\n    },\r\n    // 当前合约信息\r\n    acriveContract() {\r\n      let data = {};\r\n      if (this.contractList.length && this.symbol) {\r\n        this.contractList.forEach((item) => {\r\n          if (item.id === this.contractId) { data = item; }\r\n        });\r\n      }\r\n      return data;\r\n    },\r\n    // 合约列表\r\n    marketList() {\r\n      const data = [];\r\n      let text = '';\r\n      if (this.contractList && this.contractList.length) {\r\n        this.contractList.forEach((item) => {\r\n          if (Number(this.type) === this.filterType(item)) {\r\n            if (item.contractType !== 'E') {\r\n              text = `-${item.marginCoin}`;\r\n            } else {\r\n              text = '';\r\n            }\r\n            const symbolName = item.symbol.replace('-', '');\r\n            data.push({\r\n              value: `${symbolName}${text}`,\r\n              code: item.id,\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      return data;\r\n    },\r\n    // 保证金币种列表\r\n    marginCoinList() {\r\n      if (this.$store.state.future.marginCoinList) {\r\n        return this.$store.state.future.marginCoinList;\r\n      }\r\n      return [];\r\n    },\r\n    tabList() {\r\n      return [\r\n        {\r\n          key: 1,\r\n          text: this.$t('futuresData.tabList1'), // '永续合约保险基金',\r\n        },\r\n        {\r\n          key: 2,\r\n          text: this.$t('futuresData.tabList2'), // '资金费率',\r\n        },\r\n        {\r\n          key: 3,\r\n          text: this.$t('futuresData.tabList3'), // '指数价格',\r\n        },\r\n        {\r\n          key: 4,\r\n          text: this.$t('futuresData.tabList4'), // '标记价格',\r\n        },\r\n      ];\r\n    },\r\n    // 保险基金币种\r\n    symbolOPtion() {\r\n      const arr = [];\r\n      if (this.marginCoinList.length) {\r\n        this.marginCoinList.forEach((item) => {\r\n          arr.push({\r\n            value: item,\r\n            code: item,\r\n          });\r\n        });\r\n      }\r\n\r\n      return arr;\r\n    },\r\n    columns() {\r\n      if (this.tableType === 1) {\r\n        return [\r\n          {\r\n            title: this.$t('futuresData.columns1'), //  '时间',\r\n            width: '33%',\r\n          },\r\n          {\r\n            title: this.$t('futuresData.columns2'), //  '流水类型',\r\n            width: '33%',\r\n          },\r\n          {\r\n            title: this.$t('futuresData.columns3'), //  '金额',\r\n            width: '33%',\r\n          },\r\n        ];\r\n      }\r\n      if (this.tableType === 2) {\r\n        return [\r\n          {\r\n            title: this.$t('futuresData.columns1'), //  '时间',\r\n            width: '33%',\r\n          },\r\n          {\r\n            title: this.$t('futuresData.columns4'), //  '合约',\r\n            width: '33%',\r\n          },\r\n          {\r\n            title: this.$t('futuresData.columns5'), //  '当期资金费率',\r\n            width: '33%',\r\n          },\r\n        ];\r\n      }\r\n      return [\r\n        {\r\n          title: this.$t('futuresData.columns6'), //  '交易所',\r\n          width: '50%',\r\n        },\r\n        {\r\n          title: this.$t('futuresData.columns7'), //  '权重',\r\n          width: '50%',\r\n        },\r\n      ];\r\n    },\r\n    contractName() {\r\n      if (this.contractId && this.marketList.length) {\r\n        let name = '';\r\n        this.marketList.forEach((item) => {\r\n          if (this.contractId === item.code) {\r\n            name = item.value;\r\n          }\r\n        });\r\n        return name;\r\n      }\r\n      return '';\r\n    },\r\n    publicInfo() {\r\n      if (this.$store.state && this.$store.state.baseData) {\r\n        return this.$store.state.baseData.publicInfo;\r\n      }\r\n      return null;\r\n    },\r\n    // 页面标题title\r\n    documentTitle() {\r\n      const lang = getCookie('lan');\r\n      let str = '';\r\n      if (this.publicInfo) {\r\n        const { indexHeaderTitle, seo } = this.publicInfo;\r\n        let title = '';\r\n        if (indexHeaderTitle) {\r\n          if (lang) {\r\n            title = seo.title || indexHeaderTitle[lang];\r\n          } else {\r\n            const lan = this.publicInfo.lan.defLan;\r\n            title = seo.title || indexHeaderTitle[lan];\r\n          }\r\n        }\r\n        str = `合约数据 - ${title}`;\r\n      }\r\n      return str;\r\n    },\r\n  },\r\n  watch: {\r\n    // 页面标题title\r\n    documentTitle(val) {\r\n      setTimeout(() => {\r\n        document.title = val;\r\n      }, 200);\r\n    },\r\n    // 永续合约保险基金列表\r\n    symbolOPtion(val, old) {\r\n      if (val.length && !old.length) {\r\n        this.setSymbolValue();\r\n      }\r\n    },\r\n    // 永续合约保险基金\r\n    symbol(val) {\r\n      if (val) {\r\n        this.pagination.page = 1;\r\n        this.getData();\r\n        this.getRiskAccount();\r\n      }\r\n    },\r\n    // 合约类型列表\r\n    typeTabList(val, old) {\r\n      if (val.length && !old.length) {\r\n        // this.type = val[0].code;\r\n        this.setTypeValue();\r\n      }\r\n    },\r\n    // 合约列表\r\n    marketList(val) {\r\n      if (val.length) {\r\n        this.pagination.page = 1;\r\n        // this.contractId = val[0].code;\r\n        this.setcoValue();\r\n      } else {\r\n        this.contractId = null;\r\n      }\r\n    },\r\n    contractId(val) {\r\n      this.brokenLineList = [];\r\n      if (val) {\r\n        this.getData();\r\n      }\r\n    },\r\n    tableType(val) {\r\n      if (val) {\r\n        this.setSymbolValue();\r\n        if (this.typeTabList.length) {\r\n          // this.type = this.typeTabList[0].code;\r\n          this.setTypeValue();\r\n        }\r\n        if (this.marketList.length) {\r\n          // this.contractId = this.marketList[0].code;\r\n          this.setcoValue();\r\n        }\r\n        this.getData();\r\n      }\r\n    },\r\n    // line\r\n    brokenLineList() {\r\n      let time = [];\r\n      let datas = [];\r\n      if (this.brokenLineList && this.brokenLineList.length) {\r\n        this.brokenLineList.forEach((item) => {\r\n          time.push(formatTime(item.ctime));\r\n          datas.push(fixD(item.amount, this.acriveSymbol.mCionFix));\r\n        });\r\n      } else {\r\n        time = [0];\r\n        datas = [0];\r\n      }\r\n\r\n      this.myEcharts.setOption({\r\n        xAxis:\r\n        {\r\n          data: time,\r\n        },\r\n        series: [\r\n          {\r\n            type: 'line',\r\n            data: datas,\r\n          },\r\n        ],\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.initEachart();\r\n      this.setInitValue();\r\n      this.setSymbolValue();\r\n      document.title = this.documentTitle;\r\n    },\r\n    // 设置默认保险基金币种\r\n    setSymbolValue() {\r\n      if (this.symbolOPtion.length) {\r\n        const { marginCoin } = this.$route.query;\r\n        if (marginCoin && this.isIndexFo(this.symbolOPtion, marginCoin)) {\r\n          this.symbol = marginCoin;\r\n        } else if (this.isIndexFo(this.symbolOPtion, 'USDT')) {\r\n          this.symbol = 'USDT';\r\n        } else {\r\n          this.symbol = this.symbolOPtion[0].code;\r\n        }\r\n      }\r\n    },\r\n    // 设置默认合约类型\r\n    setTypeValue() {\r\n      if (this.typeTabList.length) {\r\n        const { type } = this.$route.query;\r\n        if (type && this.isIndexFo(this.typeTabList, type)) {\r\n          this.type = type;\r\n        } else {\r\n          this.type = this.typeTabList[0].code;\r\n        }\r\n      }\r\n    },\r\n    // 设置默认合约\r\n    setcoValue() {\r\n      if (this.marketList.length) {\r\n        const { contractId } = this.$route.query;\r\n        if (contractId && this.isIndexFo(this.marketList, contractId)) {\r\n          this.contractId = Number(contractId);\r\n        } else {\r\n          this.contractId = this.marketList[0].code;\r\n        }\r\n      }\r\n    },\r\n    isIndexFo(list, val) {\r\n      let flag = false;\r\n      list.forEach((item) => {\r\n        if (item.code.toString() === val.toString()) {\r\n          flag = true;\r\n        }\r\n      });\r\n      return flag;\r\n    },\r\n    setInitValue() {\r\n      // 合约列表\r\n      if (this.marketList.length) {\r\n        // this.contractId = this.marketList[0].code;\r\n        this.setcoValue();\r\n      }\r\n      // 合约类型\r\n      if (this.typeTabList.length) {\r\n        // this.type = this.typeTabList[0].code;\r\n        this.setTypeValue();\r\n      }\r\n      // 保险基金币种\r\n      if (this.symbolOPtion.length) {\r\n        // this.symbol = this.symbolOPtion[0].code;\r\n        this.setSymbolValue();\r\n      }\r\n    },\r\n\r\n    initEachart() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      this.myEcharts = window.echarts.init(document.getElementById('chartbox'));\r\n      // 绘制图表\r\n      this.myEcharts.setOption({\r\n        animation: false,\r\n        tooltip: {\r\n          trigger: 'axis', // 不限时弹层\r\n          axisPointer: { // 显示随手指移动的刻度线\r\n            type: 'cross',\r\n            crossStyle: {\r\n              width: 2,\r\n              color: getHex(colorMap['b-2-cl']),\r\n              type: 'cross',\r\n            },\r\n          },\r\n        },\r\n        grid: {\r\n          show: true,\r\n          borderWidth: 0,\r\n          borderColor: getHex(colorMap['a-3-bd']),\r\n          containLabel: true,\r\n          left: 5,\r\n          top: 40,\r\n          right: 5,\r\n          bottom: 0,\r\n        },\r\n        xAxis: {\r\n          data: [],\r\n          axisPointer: {\r\n            show: true,\r\n            type: 'line',\r\n          },\r\n          axisLine: {\r\n            show: true,\r\n            lineStyle: {\r\n              width: 1,\r\n              color: getHex(colorMap['a-3-bd']),\r\n            },\r\n          },\r\n          axisTick: {\r\n            lineStyle: {\r\n              color: getHex(colorMap['a-3-bd']),\r\n            },\r\n          },\r\n          axisLabel: {\r\n            color: getHex(colorMap['b-2-cl']),\r\n            formatter: function name(value) {\r\n              return value;\r\n            },\r\n          },\r\n          splitLine: {\r\n            lineStyle: {\r\n              width: 1,\r\n              color: getHex(colorMap['a-3-bd']),\r\n            },\r\n          },\r\n        },\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                width: 1,\r\n                color: getHex(colorMap['a-3-bd']),\r\n              },\r\n            },\r\n            axisTick: {\r\n              lineStyle: {\r\n                color: getHex(colorMap['a-3-bd']),\r\n              },\r\n            },\r\n            axisLabel: {\r\n              color: getHex(colorMap['b-2-cl']),\r\n            },\r\n            splitLine: {\r\n              lineStyle: {\r\n                width: 1,\r\n                color: getHex(colorMap['a-3-bd']),\r\n              },\r\n            },\r\n          },\r\n        ],\r\n        series: [{\r\n          data: [],\r\n          // lineStyle: {\r\n          //   color: getHex(colorMap['b-1-cl']),\r\n          // },\r\n          type: 'line',\r\n        }],\r\n      });\r\n    },\r\n    // 筛选币对列表\r\n    filterType(data) {\r\n      // USDT 合约\r\n      if (data.contractType === 'E' && data.contractSide === 1) {\r\n        return 1;\r\n      }\r\n      // 币本位合约\r\n      if (data.contractType === 'E' && data.contractSide === 0) {\r\n        return 0;\r\n      }\r\n      // 模拟合约\r\n      if (data.contractType === 'S') {\r\n        return 3;\r\n      }\r\n      return 2;\r\n    },\r\n    // 切换类型\r\n    switcherType(type) {\r\n      this.pagination.page = 1;\r\n      this.tableType = type;\r\n      if (type === 1) {\r\n        this.getRiskAccount();\r\n      }\r\n    },\r\n    // select 选择事件\r\n    selectOnChange(data, name) {\r\n      this[name] = data.code;\r\n    },\r\n    getData() {\r\n      let url = this.$store.state.url.futures.riskBalanceList;\r\n      let paramsData = {\r\n        symbol: this.symbol,\r\n        page: this.pagination.page,\r\n        limit: this.pagination.pageSize,\r\n      };\r\n      if (this.tableType === 2) {\r\n        url = this.$store.state.url.futures.fundingRateList;\r\n        paramsData = {\r\n          contractId: this.contractId,\r\n          page: this.pagination.page,\r\n          limit: this.pagination.pageSize,\r\n        };\r\n      }\r\n      if (this.tableType === 3) {\r\n        url = this.$store.state.url.futures.indexPriceWeightList;\r\n        paramsData = {\r\n          contractId: this.contractId,\r\n          page: this.pagination.page,\r\n          limit: this.pagination.pageSize,\r\n        };\r\n      }\r\n      this.brokenLineList = [];\r\n      this.axios({\r\n        url,\r\n        hostType: 'co',\r\n        params: paramsData,\r\n      }).then(({ data, code }) => {\r\n        this.tableLoading = false;\r\n        if (code === '0') {\r\n          this.historyList = data.historyList;\r\n          this.brokenLineList = data.brokenLineList || [];\r\n          if (this.tableType === 3) {\r\n            this.setData(data.records);\r\n          } else {\r\n            this.setData(this.historyList);\r\n          }\r\n          if (this.tableType === 1) {\r\n            this.pagination.count = data.hisCount;\r\n          }\r\n          if (this.tableType === 2) {\r\n            this.pagination.count = data.count;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    setData(dataList) {\r\n      const arr = [];\r\n      if (dataList && dataList.length) {\r\n        if (this.tableType === 1) {\r\n          dataList.forEach((item) => {\r\n            arr.push({\r\n              id: item.id,\r\n              data: [\r\n                formatTime(item.ctime),\r\n                // '接管盈利注入' : '风险准备金支出',\r\n                item.type === 1 ? this.$t('futuresData.text2') : this.$t('futuresData.text3'),\r\n                fixD(item.hisAmount, this.acriveSymbol.mCionFix),\r\n              ],\r\n            });\r\n          });\r\n        }\r\n        if (this.tableType === 2) {\r\n          dataList.forEach((item) => {\r\n            arr.push({\r\n              id: item.id,\r\n              data: [\r\n                formatTime(item.ctime),\r\n                item.contractName,\r\n                `${fixD(item.amount * 100, 5)}%`,\r\n              ],\r\n            });\r\n          });\r\n        }\r\n        if (this.tableType === 3) {\r\n          dataList.forEach((item) => {\r\n            arr.push({\r\n              id: item.id,\r\n              data: [\r\n                item.name,\r\n                `${fixD(item.weightRate * 100, 2)}%`,\r\n              ],\r\n            });\r\n          });\r\n        }\r\n      }\r\n      this.dataList = arr;\r\n    },\r\n    getRiskAccount() {\r\n      const url = this.$store.state.url.futures.getRiskAccount;\r\n      const paramsData = {\r\n        coinSymbol: this.symbol,\r\n      };\r\n      this.axios({\r\n        url,\r\n        hostType: 'co',\r\n        params: paramsData,\r\n      }).then(({ data, code }) => {\r\n        this.tableLoading = false;\r\n        if (code === '0') {\r\n          this.amount = fixD(data.amount, this.acriveSymbol.mCionFix);\r\n        }\r\n      });\r\n    },\r\n    pagechange(v) {\r\n      this.pagination.page = v;\r\n      this.getData();\r\n    },\r\n    linkMore(link) {\r\n      window.open(link);\r\n    },\r\n\r\n  },\r\n};\r\n"]}]}