{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/CompanyApplication/CompanyApplication/CompanyApplication.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/CompanyApplication/CompanyApplication/CompanyApplication.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { myStorage, imgMap } from '@/utils';\nexport default {\n  name: 'CompanyApplication',\n  data: function data() {\n    return {\n      jurisdictionObj: {\n        data: [],\n        // 数据\n        str: '',\n        // 文案\n        statusKey: '',\n        // 当前跳转状态\n        flag: false,\n        //\n        btnText: '',\n        // 确定按钮\n        btnLink: '',\n        // 确认文案\n        pass: true\n      },\n      textFlag: true,\n      copyTime: 0,\n      btnConfirm: this.$t('application.confirm'),\n      submitLoading: false,\n      // 提交按钮loading\n      superCompany: false,\n      confirmLoading: false,\n      alertFlag: false,\n      serviceList: this.$t('application.serviceList'),\n      viewShow: false,\n      imgList: [imgMap.application_security, imgMap.application_ads, imgMap.application_special, imgMap.application_vip]\n    };\n  },\n  watch: {},\n  computed: {\n    otcCompanyInfo: function otcCompanyInfo() {\n      return this.userInfo.otcCompanyInfo || {};\n    },\n    userCompanyInfo: function userCompanyInfo() {\n      return this.userInfo.userCompanyInfo || {};\n    },\n    btnShow: function btnShow() {\n      var applyStatus = this.applyStatus,\n          applyRuleStatus = this.applyRuleStatus,\n          companyStatus = this.companyStatus;\n      var bol = false;\n\n      if (applyStatus === 0 || applyRuleStatus === 0 || applyStatus === 1 && applyRuleStatus !== 4 && applyRuleStatus !== 2 || applyStatus === 3 && applyRuleStatus === 1 && companyStatus === 2 || applyStatus === 2 && applyRuleStatus === 1 && companyStatus === 2) {\n        bol = true;\n      }\n\n      return bol;\n    },\n    congratulate: function congratulate() {\n      var str = '';\n\n      if (this.applyRuleStatus === 1) {\n        str = this.$t('application.congratulate');\n      } else {\n        str = this.$t('application.congratulateSuper');\n      }\n\n      return str;\n    },\n    allPass: function allPass() {\n      var applyStatus = this.applyStatus,\n          applyRuleStatus = this.applyRuleStatus,\n          companyStatus = this.companyStatus;\n      return applyRuleStatus === 3 && applyStatus === 3 || applyStatus === 3 && applyRuleStatus === 1 && companyStatus === 1;\n    },\n    applyBtn: function applyBtn() {\n      var str = '';\n\n      if (this.applyRuleStatus === 0) {\n        str = this.$t('application.applyBtn');\n      } else {\n        str = this.$t('application.applyBtnSuper');\n      }\n\n      return str;\n    },\n    companyStatus: function companyStatus() {\n      return Number(this.otcCompanyInfo.status);\n    },\n    applyStatus: function applyStatus() {\n      return Number(this.userCompanyInfo.applyStatus);\n    },\n    relieving: function relieving() {\n      var bol = false;\n      var applyStatus = this.applyStatus,\n          applyRuleStatus = this.applyRuleStatus;\n\n      if (applyStatus === 1 && (applyRuleStatus === 2 || applyRuleStatus === 4)) {\n        bol = true;\n      }\n\n      return bol;\n    },\n\n    /*\r\n    * applyRuleStatus\r\n    * 0: 未认证\r\n    * 1: 普通商户\r\n    * 2: 普通商户解除\r\n    * 3: 超级商户\r\n    * 4: 超级商户解除\r\n    * */\n    applyRuleStatus: function applyRuleStatus() {\n      return Number(this.userCompanyInfo.status);\n    },\n    applyPass: function applyPass() {\n      var applyStatus = this.applyStatus,\n          applyRuleStatus = this.applyRuleStatus,\n          companyStatus = this.companyStatus;\n      return (applyRuleStatus === 1 && applyStatus === 3 || (applyStatus === 1 || applyStatus === 3) && applyRuleStatus === 3 || applyStatus === 2 && (applyRuleStatus === 1 || applyRuleStatus === 3) || applyStatus === 1 && applyRuleStatus === 1 && companyStatus === 2) && applyStatus !== 1;\n    },\n    marginCoinSymbol: function marginCoinSymbol() {\n      return this.otcCompanyInfo.marginCoinSymbol;\n    },\n    normalCompanyMarginNum: function normalCompanyMarginNum() {\n      return Number(this.otcCompanyInfo.normalCompanyMarginNum);\n    },\n    otcCompanyApplyEmail: function otcCompanyApplyEmail() {\n      return Number(this.otcCompanyInfo.otcCompanyApplyEmail);\n    },\n    docAddr: function docAddr() {\n      return Number(this.otcCompanyInfo.docAddr);\n    },\n    submitDisabled: function submitDisabled() {\n      return !this.textFlag;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo || {};\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.companyStatus === 0) {\n        this.$router.push('/');\n      } else {\n        this.viewShow = true;\n      }\n\n      this.jurisdiction();\n    },\n    isSh: function isSh() {\n      if (this.userInfo.authLevel.toString() !== '1') {\n        // alert('请您先实名认证');\n        return;\n      }\n\n      if (this.userInfo.otcCompanyInfo && this.userInfo.userCompanyInfo) {\n        if (this.userInfo.otcCompanyInfo.status !== '0') {\n          if (this.userInfo.userCompanyInfo === '0') {// alert('请您申请成为商户');\n          }\n        }\n      }\n    },\n    jurisdiction: function jurisdiction() {\n      // const arr = [\n      //   { text: '绑定谷歌验证', flag: this.OpenGoogle },\n      //   { text: '绑定手机验证', flag: this.OpenMobile },\n      // ];\n      // let userInfo = {\n      //   authLevel: 1,\n      //   nickName: '1',\n      //   otcCompanyInfo: { status: 1 },\n      //   userCompanyInfo: { status: 0 }\n      // }\n      var data = []; // 请完成实名认证，设置昵称才能发布广告\n\n      var str = this.$t('otcRelease.jurisdictionTitle');\n      var _this$userInfo = this.userInfo,\n          otcCompanyInfo = _this$userInfo.otcCompanyInfo,\n          userCompanyInfo = _this$userInfo.userCompanyInfo,\n          nickName = _this$userInfo.nickName,\n          authLevel = _this$userInfo.authLevel;\n      var statusKey = '';\n      var btnText = '';\n      var btnLink = '';\n      var pass = true; // 实名认证\n\n      var authentication = this.$t('otcRelease.authentication');\n\n      if (authLevel.toString() === '1') {\n        data.push({\n          text: authentication,\n          flag: true,\n          key: 'authLevel'\n        });\n      } else {\n        data.push({\n          text: authentication,\n          flag: false,\n          key: 'authLevel'\n        });\n        statusKey = 'authLevel'; // 去认证\n\n        btnText = this.$t('otcRelease.DeCertification');\n        btnLink = '/personal/idAuth';\n        pass = false;\n      } // 设置昵称\n\n\n      var SetNickname = this.$t('otcRelease.SetNickname');\n\n      if (nickName && nickName.length) {\n        data.push({\n          text: SetNickname,\n          flag: true,\n          key: 'nickName'\n        });\n      } else {\n        data.push({\n          text: SetNickname,\n          flag: false,\n          key: 'nickName'\n        });\n\n        if (!statusKey.length) {\n          statusKey = 'nickName'; // 去设置\n\n          btnText = this.$t('otcRelease.ToSetUp');\n          btnLink = '/personal/userManagement';\n          pass = false;\n        }\n      } // 申请商户\n\n\n      if (otcCompanyInfo.status.toString() !== '0') {\n        // 请完成实名认证，设置昵称并申请成为商家才能发布广告\n        str = this.$t('otcRelease.jurisdictionTitle2');\n        var ApplicationMerchant = this.$t('otcRelease.ApplicationMerchant');\n\n        if (userCompanyInfo.status.toString() !== '0') {\n          data.push({\n            text: ApplicationMerchant,\n            flag: true,\n            key: 'companyInfo'\n          });\n        } else {\n          data.push({\n            text: ApplicationMerchant,\n            flag: false,\n            key: 'companyInfo'\n          });\n\n          if (!statusKey.length) {\n            statusKey = 'companyInfo'; // 去申请\n\n            btnText = this.$t('otcRelease.ToApply');\n            btnLink = 'self';\n            pass = false;\n          }\n        }\n      }\n\n      var obj = {\n        data: data,\n        str: str,\n        statusKey: statusKey,\n        btnText: btnText,\n        btnLink: btnLink,\n        pass: pass,\n        flag: !!statusKey.length\n      };\n      this.jurisdictionObj = obj;\n    },\n    alertConfirm: function alertConfirm() {\n      if (this.jurisdictionObj.btnLink === 'self') {\n        this.jurisdictionObj.flag = false;\n      } else {\n        this.$router.push(this.jurisdictionObj.btnLink);\n      }\n    },\n    verifyAlertClose: function verifyAlertClose() {\n      this.jurisdictionObj.flag = false;\n    },\n    alertClose: function alertClose() {\n      this.alertFlag = false;\n    },\n    confirm: function confirm() {\n      this.relieve();\n    },\n    checkoutClick: function checkoutClick(flag) {\n      this.textFlag = flag;\n    },\n    apply: function apply() {\n      this.$router.push('/companyApplicationDetail');\n    },\n    relieveClick: function relieveClick() {\n      this.alertFlag = true;\n    },\n    relieve: function relieve() {\n      var _this = this;\n\n      this.confirmLoading = true;\n      this.axios({\n        url: this.$store.state.url.common.company_release,\n        hostType: 'otc',\n        method: 'post'\n      }).then(function (data) {\n        if (!Number(data.code)) {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'success'\n          });\n\n          _this.$store.dispatch('getUserInfo');\n\n          _this.alertFlag = false;\n          _this.confirmLoading = false;\n          myStorage.remove('companyAppling');\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n\n          _this.alertFlag = false;\n          _this.confirmLoading = false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/CompanyApplication/CompanyApplication/CompanyApplication.js"],"names":["myStorage","imgMap","name","data","jurisdictionObj","str","statusKey","flag","btnText","btnLink","pass","textFlag","copyTime","btnConfirm","$t","submitLoading","superCompany","confirmLoading","alertFlag","serviceList","viewShow","imgList","application_security","application_ads","application_special","application_vip","watch","computed","otcCompanyInfo","userInfo","userCompanyInfo","btnShow","applyStatus","applyRuleStatus","companyStatus","bol","congratulate","allPass","applyBtn","Number","status","relieving","applyPass","marginCoinSymbol","normalCompanyMarginNum","otcCompanyApplyEmail","docAddr","submitDisabled","$store","state","baseData","methods","init","$router","push","jurisdiction","isSh","authLevel","toString","nickName","authentication","text","key","SetNickname","length","ApplicationMerchant","obj","alertConfirm","verifyAlertClose","alertClose","confirm","relieve","checkoutClick","apply","relieveClick","axios","url","common","company_release","hostType","method","then","code","$bus","$emit","msg","type","dispatch","remove"],"mappings":"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","sourcesContent":["import { myStorage, imgMap } from '@/utils';\r\n\r\nexport default {\r\n  name: 'CompanyApplication',\r\n  data() {\r\n    return {\r\n      jurisdictionObj: {\r\n        data: [], // 数据\r\n        str: '', // 文案\r\n        statusKey: '', // 当前跳转状态\r\n        flag: false, //\r\n        btnText: '', // 确定按钮\r\n        btnLink: '', // 确认文案\r\n        pass: true,\r\n      },\r\n      textFlag: true,\r\n      copyTime: 0,\r\n      btnConfirm: this.$t('application.confirm'),\r\n      submitLoading: false, // 提交按钮loading\r\n      superCompany: false,\r\n      confirmLoading: false,\r\n      alertFlag: false,\r\n      serviceList: this.$t('application.serviceList'),\r\n      viewShow: false,\r\n      imgList: [\r\n        imgMap.application_security,\r\n        imgMap.application_ads,\r\n        imgMap.application_special,\r\n        imgMap.application_vip,\r\n      ],\r\n    };\r\n  },\r\n  watch: {\r\n  },\r\n  computed: {\r\n    otcCompanyInfo() {\r\n      return this.userInfo.otcCompanyInfo || {};\r\n    },\r\n    userCompanyInfo() {\r\n      return this.userInfo.userCompanyInfo || {};\r\n    },\r\n    btnShow() {\r\n      const { applyStatus, applyRuleStatus, companyStatus } = this;\r\n      let bol = false;\r\n      if (applyStatus === 0\r\n        || applyRuleStatus === 0\r\n        || (applyStatus === 1 && (applyRuleStatus !== 4 && applyRuleStatus !== 2))\r\n        || (applyStatus === 3 && applyRuleStatus === 1 && companyStatus === 2)\r\n      || (applyStatus === 2 && applyRuleStatus === 1 && companyStatus === 2)) {\r\n        bol = true;\r\n      }\r\n      return bol;\r\n    },\r\n    congratulate() {\r\n      let str = '';\r\n      if (this.applyRuleStatus === 1) {\r\n        str = this.$t('application.congratulate');\r\n      } else {\r\n        str = this.$t('application.congratulateSuper');\r\n      }\r\n      return str;\r\n    },\r\n    allPass() {\r\n      const { applyStatus, applyRuleStatus, companyStatus } = this;\r\n      return (applyRuleStatus === 3 && applyStatus === 3)\r\n        || (applyStatus === 3 && applyRuleStatus === 1 && companyStatus === 1);\r\n    },\r\n    applyBtn() {\r\n      let str = '';\r\n      if (this.applyRuleStatus === 0) {\r\n        str = this.$t('application.applyBtn');\r\n      } else {\r\n        str = this.$t('application.applyBtnSuper');\r\n      }\r\n      return str;\r\n    },\r\n    companyStatus() {\r\n      return Number(this.otcCompanyInfo.status);\r\n    },\r\n    applyStatus() {\r\n      return Number(this.userCompanyInfo.applyStatus);\r\n    },\r\n    relieving() {\r\n      let bol = false;\r\n      const { applyStatus, applyRuleStatus } = this;\r\n      if (applyStatus === 1 && (applyRuleStatus === 2 || applyRuleStatus === 4)) {\r\n        bol = true;\r\n      }\r\n      return bol;\r\n    },\r\n    /*\r\n    * applyRuleStatus\r\n    * 0: 未认证\r\n    * 1: 普通商户\r\n    * 2: 普通商户解除\r\n    * 3: 超级商户\r\n    * 4: 超级商户解除\r\n    * */\r\n    applyRuleStatus() {\r\n      return Number(this.userCompanyInfo.status);\r\n    },\r\n    applyPass() {\r\n      const { applyStatus, applyRuleStatus, companyStatus } = this;\r\n      return ((applyRuleStatus === 1 && applyStatus === 3)\r\n        || ((applyStatus === 1 || applyStatus === 3) && applyRuleStatus === 3)\r\n        || (applyStatus === 2 && (applyRuleStatus === 1 || applyRuleStatus === 3))\r\n        || (applyStatus === 1 && applyRuleStatus === 1 && companyStatus === 2))\r\n        && applyStatus !== 1;\r\n    },\r\n    marginCoinSymbol() {\r\n      return this.otcCompanyInfo.marginCoinSymbol;\r\n    },\r\n    normalCompanyMarginNum() {\r\n      return Number(this.otcCompanyInfo.normalCompanyMarginNum);\r\n    },\r\n    otcCompanyApplyEmail() {\r\n      return Number(this.otcCompanyInfo.otcCompanyApplyEmail);\r\n    },\r\n    docAddr() {\r\n      return Number(this.otcCompanyInfo.docAddr);\r\n    },\r\n    submitDisabled() {\r\n      return !this.textFlag;\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo || {};\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.companyStatus === 0) {\r\n        this.$router.push('/');\r\n      } else {\r\n        this.viewShow = true;\r\n      }\r\n      this.jurisdiction();\r\n    },\r\n    isSh() {\r\n      if (this.userInfo.authLevel.toString() !== '1') {\r\n        // alert('请您先实名认证');\r\n        return;\r\n      }\r\n      if (this.userInfo.otcCompanyInfo && this.userInfo.userCompanyInfo) {\r\n        if (this.userInfo.otcCompanyInfo.status !== '0') {\r\n          if (this.userInfo.userCompanyInfo === '0') {\r\n            // alert('请您申请成为商户');\r\n          }\r\n        }\r\n      }\r\n    },\r\n    jurisdiction() {\r\n      // const arr = [\r\n      //   { text: '绑定谷歌验证', flag: this.OpenGoogle },\r\n      //   { text: '绑定手机验证', flag: this.OpenMobile },\r\n      // ];\r\n      // let userInfo = {\r\n      //   authLevel: 1,\r\n      //   nickName: '1',\r\n      //   otcCompanyInfo: { status: 1 },\r\n      //   userCompanyInfo: { status: 0 }\r\n      // }\r\n      const data = [];\r\n      // 请完成实名认证，设置昵称才能发布广告\r\n      let str = this.$t('otcRelease.jurisdictionTitle');\r\n      const {\r\n        otcCompanyInfo, userCompanyInfo, nickName, authLevel,\r\n      } = this.userInfo;\r\n      let statusKey = '';\r\n      let btnText = '';\r\n      let btnLink = '';\r\n      let pass = true;\r\n      // 实名认证\r\n      const authentication = this.$t('otcRelease.authentication');\r\n      if (authLevel.toString() === '1') {\r\n        data.push({ text: authentication, flag: true, key: 'authLevel' });\r\n      } else {\r\n        data.push({ text: authentication, flag: false, key: 'authLevel' });\r\n        statusKey = 'authLevel';\r\n        // 去认证\r\n        btnText = this.$t('otcRelease.DeCertification');\r\n        btnLink = '/personal/idAuth';\r\n        pass = false;\r\n      }\r\n      // 设置昵称\r\n      const SetNickname = this.$t('otcRelease.SetNickname');\r\n      if (nickName && nickName.length) {\r\n        data.push({ text: SetNickname, flag: true, key: 'nickName' });\r\n      } else {\r\n        data.push({ text: SetNickname, flag: false, key: 'nickName' });\r\n        if (!statusKey.length) {\r\n          statusKey = 'nickName';\r\n          // 去设置\r\n          btnText = this.$t('otcRelease.ToSetUp');\r\n          btnLink = '/personal/userManagement';\r\n          pass = false;\r\n        }\r\n      }\r\n      // 申请商户\r\n      if (otcCompanyInfo.status.toString() !== '0') {\r\n        // 请完成实名认证，设置昵称并申请成为商家才能发布广告\r\n        str = this.$t('otcRelease.jurisdictionTitle2');\r\n        const ApplicationMerchant = this.$t('otcRelease.ApplicationMerchant');\r\n        if (userCompanyInfo.status.toString() !== '0') {\r\n          data.push({ text: ApplicationMerchant, flag: true, key: 'companyInfo' });\r\n        } else {\r\n          data.push({ text: ApplicationMerchant, flag: false, key: 'companyInfo' });\r\n          if (!statusKey.length) {\r\n            statusKey = 'companyInfo';\r\n            // 去申请\r\n            btnText = this.$t('otcRelease.ToApply');\r\n            btnLink = 'self';\r\n            pass = false;\r\n          }\r\n        }\r\n      }\r\n      const obj = {\r\n        data,\r\n        str,\r\n        statusKey,\r\n        btnText,\r\n        btnLink,\r\n        pass,\r\n        flag: !!statusKey.length,\r\n      };\r\n      this.jurisdictionObj = obj;\r\n    },\r\n    alertConfirm() {\r\n      if (this.jurisdictionObj.btnLink === 'self') {\r\n        this.jurisdictionObj.flag = false;\r\n      } else {\r\n        this.$router.push(this.jurisdictionObj.btnLink);\r\n      }\r\n    },\r\n    verifyAlertClose() {\r\n      this.jurisdictionObj.flag = false;\r\n    },\r\n    alertClose() {\r\n      this.alertFlag = false;\r\n    },\r\n    confirm() {\r\n      this.relieve();\r\n    },\r\n    checkoutClick(flag) {\r\n      this.textFlag = flag;\r\n    },\r\n    apply() {\r\n      this.$router.push('/companyApplicationDetail');\r\n    },\r\n    relieveClick() {\r\n      this.alertFlag = true;\r\n    },\r\n    relieve() {\r\n      this.confirmLoading = true;\r\n      this.axios({\r\n        url: this.$store.state.url.common.company_release,\r\n        hostType: 'otc',\r\n        method: 'post',\r\n      }).then((data) => {\r\n        if (!(Number(data.code))) {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n          this.$store.dispatch('getUserInfo');\r\n          this.alertFlag = false;\r\n          this.confirmLoading = false;\r\n          myStorage.remove('companyAppling');\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          this.alertFlag = false;\r\n          this.confirmLoading = false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n"]}]}