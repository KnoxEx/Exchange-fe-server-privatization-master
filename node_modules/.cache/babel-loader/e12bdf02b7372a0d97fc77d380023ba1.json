{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/modules/coTrade/assets/assets.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/modules/coTrade/assets/assets.js","mtime":1626250284000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\n// 按钮\nimport { fixD, thousandsComma as _thousandsComma, myStorage } from '@/utils';\nexport default {\n  name: 'futuresaAssets',\n  data: function data() {\n    return {\n      // 是否显示 划转弹框\n      transferIsShow: false,\n      // 显示类型\n      blockType: 2,\n      boxHeight: 332,\n      // 维持保证金列表\n      ladderList: [],\n      // 最低维持保证金绿\n      minMarginRate: 0.00\n    };\n  },\n  computed: {\n    lanText: function lanText() {\n      return {\n        text1: this.$t('futures.assets.text1'),\n        // '资产',\n        text2: this.$t('futures.assets.text2'),\n        // '合约信息',\n        text3: this.$t('futures.assets.text3'),\n        // '立即划转',\n        text4: this.$t('futures.assets.text4'),\n        // '更多',\n        text5: this.$t('futures.assets.text5'),\n        // '账户保证金率',\n        text6: this.$t('futures.assets.text6'),\n        // '账户保证金率=该币种总资产/该币种担保的仓位总价值。此值用来表示担保资产的大致水平。保证金率越低，仓位被强制减仓的风险越大。',\n        text7: this.$t('futures.assets.text7'),\n        // '总资产',\n        text8: this.$t('futures.assets.text8'),\n        // '合约账户总权益。账户总权益=全仓总权益+逐仓总权益+冻结保证金。',\n        text9: this.$t('futures.assets.text9'),\n        // '全仓保证金',\n        text10: this.$t('futures.assets.text10'),\n        // '所有用来担保全仓仓位的保证金。当全仓仓位被强制平仓时，会损失这些资产。请注意：转入合约账户的资产会自动作为全仓保证金。',\n        text11: this.$t('futures.assets.text11'),\n        // '逐仓保证金',\n        text12: this.$t('futures.assets.text12'),\n        // '所有用来担保逐仓仓位的保证金。逐仓保证金和全仓分开，全仓仓位被强制平仓不会影响到这部分资产。',\n        text13: this.$t('futures.assets.text13'),\n        // '冻结保证金',\n        text14: this.$t('futures.assets.text14'),\n        // '提交委托时冻结的委托保证金总和。',\n        text15: this.$t('futures.assets.text15'),\n        // '合约代号',\n        text16: this.$t('futures.assets.text16'),\n        // '到期日期',\n        text17: this.$t('futures.assets.text17'),\n        // '合约标的',\n        text18: this.$t('futures.assets.text18'),\n        // '指数',\n        text19: this.$t('futures.assets.text19'),\n        // '保证金币种',\n        text20: this.$t('futures.assets.text20'),\n        // '合约面值',\n        text21: this.$t('futures.assets.text21'),\n        // '最小价格变动单位',\n        text22: this.$t('futures.assets.text22'),\n        // '最低维持保证金率',\n        text23: this.$t('futures.assets.text23'),\n        // '结算周期',\n        text24: this.$t('futures.assets.text24'),\n        // '['永续', '周', '次周', '月', '季度'];',\n        text25: this.$t('futures.assets.text25') // '合约数据',\n\n      };\n    },\n    deliveryKind: function deliveryKind() {\n      return this.lanText.text24; //  ['永续', '周', '次周', '月', '季度'];\n    },\n    contractShowType: function contractShowType() {\n      if (this.contractInfo) {\n        return this.deliveryKind[Number(this.contractInfo.deliveryKind)];\n      }\n\n      return this.deliveryKind[0];\n    },\n    // 是否登录\n    isLogin: function isLogin() {\n      if (this.$store.state.baseData.isLogin) {\n        return this.$store.state.baseData.isLogin;\n      }\n\n      return false;\n    },\n    // 当前合约信息\n    contractInfo: function contractInfo() {\n      if (this.$store.state.future.contractInfo) {\n        return this.$store.state.future.contractInfo;\n      }\n\n      return {};\n    },\n    // 是否开通了合约交易\n    openContract: function openContract() {\n      return this.$store.state.future.openContract;\n    },\n    // 当前合约价格单位\n    priceUnit: function priceUnit() {\n      return this.$store.state.future.priceUnit;\n    },\n    // 当前合约保证金币种\n    marginCoin: function marginCoin() {\n      if (this.contractInfo) {\n        return this.contractInfo.marginCoin;\n      }\n\n      return '';\n    },\n    // 当前合约ID\n    contractId: function contractId() {\n      return this.$store.state.future.contractId;\n    },\n    // 当前合约保证金币种精度\n    marginCoinFix: function marginCoinFix() {\n      if (this.contractInfo && this.contractInfo.coinResultVo) {\n        return this.contractInfo.coinResultVo.marginCoinPrecision;\n      }\n\n      return 4;\n    },\n    // 用户合约资产\n    accountBalanceMap: function accountBalanceMap() {\n      return this.$store.state.future.futureAccountBalance;\n    },\n    accountBalance: function accountBalance() {\n      if (this.accountBalanceMap && this.marginCoin) {\n        return this.accountBalanceMap[this.marginCoin];\n      }\n\n      return {};\n    },\n    balanceInfor: function balanceInfor() {\n      if (this.accountBalance) {\n        return {\n          // 全仓保证金率\n          totalMarginRate: this.fixdRose(this.accountBalance.totalMarginRate),\n          // 可用\n          canUseAmount: fixD(this.accountBalance.canUseAmount, this.marginCoinFix),\n          // 总资产\n          totalAmount: fixD(this.accountBalance.totalAmount, this.marginCoinFix),\n          // 全仓保证金\n          totalMargin: fixD(this.accountBalance.totalMargin, this.marginCoinFix),\n          // 逐仓保证金\n          isolateMargin: fixD(this.accountBalance.isolateMargin, this.marginCoinFix),\n          // 冻结保证金\n          lockAmount: fixD(this.accountBalance.lockAmount, this.marginCoinFix),\n          // 已实现盈亏\n          realizedAmount: fixD(this.accountBalance.realizedAmount, this.marginCoinFix),\n          // 未实现盈亏\n          unRealizedAmount: fixD(this.accountBalance.unRealizedAmount, this.marginCoinFix)\n        };\n      }\n\n      return {\n        canUseAmount: '0',\n        // 可用\n        totalAmount: '0',\n        // 总资产\n        totalMargin: '0',\n        // 全仓保证金\n        isolateMargin: '0',\n        // 逐仓保证金\n        lockAmount: '0',\n        // 冻结保证金\n        realizedAmount: '0',\n        // 已实现盈亏\n        unRealizedAmount: '0' // 未实现盈亏\n\n      };\n    },\n    // 当前合约价格精度\n    pricefix: function pricefix() {\n      return this.$store.state.future.pricefix;\n    },\n    hintClass: function hintClass() {\n      if (this.balanceInfor.totalAmount && Number(this.balanceInfor.totalAmount) !== 0) {\n        return 'position-top';\n      }\n\n      return '';\n    },\n    linkurl: function linkurl() {\n      if (this.$store.state.baseData.publicInfo) {\n        return this.$store.state.baseData.publicInfo.url;\n      }\n\n      return {};\n    },\n    futuresDataUrl: function futuresDataUrl() {\n      var lan = this.$store.state.baseData.lan;\n\n      if (process.env.NODE_ENV === 'development') {\n        return '/co/en_US/futuresData';\n      }\n\n      if (this.$store.state.baseData && this.$store.state.baseData.publicInfo) {\n        return this.linkurl.coUrl ? \"\".concat(this.linkurl.coUrl, \"/\").concat(lan, \"/futuresData\") : '';\n      }\n\n      return '';\n    }\n  },\n  watch: {\n    isLogin: function isLogin(val) {\n      if (val && this.openContract) {\n        this.blockType = 1;\n      } else {\n        this.blockType = 2;\n        this.getladderList();\n      }\n    },\n    openContract: function openContract(val) {\n      if (val && this.isLogin) {\n        this.blockType = 1;\n      } else {\n        this.blockType = 2;\n        this.getladderList();\n      }\n    }\n  },\n  filters: {\n    setfixNumer: function setfixNumer(v) {\n      if (v === 0) {\n        return '1';\n      }\n\n      if (v === 1) {\n        return '0.1';\n      }\n\n      return \"\".concat(fixD(0, v - 1), \"1\");\n    },\n    setSymbolNumer: function setSymbolNumer(name) {\n      if (name) {\n        return name.replace(/-/g, '');\n      }\n\n      return '';\n    }\n  },\n  methods: {\n    contractNames: function contractNames(data) {\n      var name = data;\n\n      if (data) {\n        name = data.replace(/-/g, '');\n      } // 混合合约 || 模拟合约\n\n\n      var text = '';\n\n      if (this.contractInfo.contractType !== 'E') {\n        text = \"-\".concat(this.contractInfo.marginCoin);\n      }\n\n      return \"\".concat(name).concat(text);\n    },\n    init: function init() {\n      var _this = this;\n\n      this.$bus.$on('syHeight', function (val) {\n        _this.boxHeight = val;\n      });\n\n      if (this.isLogin) {\n        this.blockType = 1;\n      } else {\n        this.blockType = 2;\n        this.getladderList();\n      }\n    },\n    // 显示划转弹框\n    openTransfer: function openTransfer() {\n      this.transferIsShow = true;\n    },\n    fixdRose: function fixdRose(value) {\n      if (value && value !== '--') {\n        var slie = '';\n        var val = parseFloat(value, 0);\n\n        if (val > 0) {\n          slie = '+';\n        }\n\n        if (val < 0) {\n          slie = '-';\n        }\n\n        var num = Math.abs(value * 10000 / 100);\n        return \"\".concat(slie).concat(Number(num.toString().match(/^\\d+(?:\\.\\d{0,2})?/)));\n      }\n\n      return value;\n    },\n    // 关闭弹框\n    closeDialog: function closeDialog() {\n      // 关闭划转弹框\n      this.transferIsShow = false;\n    },\n    // 切换类型\n    switchBlock: function switchBlock(type) {\n      if (this.blockType !== type) {\n        this.blockType = type;\n      }\n\n      if (type === 2) {\n        this.getladderList();\n      }\n    },\n    // 获取阶梯设置列表\n    getladderList: function getladderList() {\n      var _this2 = this;\n\n      this.axios({\n        url: this.$store.state.url.futures.getLadderInfo,\n        method: 'post',\n        hostType: 'co',\n        params: {\n          contractId: this.contractId\n        }\n      }).then(function (rs) {\n        _this2.tableLoading = false;\n\n        if (rs.code === '0' && rs.data) {\n          if (rs.data.ladderList) {\n            _this2.ladderList = rs.data.ladderList.ladderList || [];\n\n            if (_this2.ladderList && _this2.ladderList.length) {\n              var rate = _this2.ladderList[0].minMarginRate;\n              _this2.minMarginRate = fixD(rate * 100, 2);\n            }\n          }\n        }\n      });\n    },\n    thousandsComma: function thousandsComma(num) {\n      if (num) {\n        return _thousandsComma(num);\n      }\n\n      return num;\n    },\n    // 跳转至合约数据页面\n    goFuturesData: function goFuturesData() {\n      var type = myStorage.get('futuresMarketCurrent');\n      window.location.href = \"\".concat(this.futuresDataUrl, \"?marginCoin=\").concat(this.marginCoin, \"&type=\").concat(type, \"&contractId=\").concat(this.contractId);\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/modules/coTrade/assets/assets.js"],"names":["fixD","thousandsComma","myStorage","name","data","transferIsShow","blockType","boxHeight","ladderList","minMarginRate","computed","lanText","text1","$t","text2","text3","text4","text5","text6","text7","text8","text9","text10","text11","text12","text13","text14","text15","text16","text17","text18","text19","text20","text21","text22","text23","text24","text25","deliveryKind","contractShowType","contractInfo","Number","isLogin","$store","state","baseData","future","openContract","priceUnit","marginCoin","contractId","marginCoinFix","coinResultVo","marginCoinPrecision","accountBalanceMap","futureAccountBalance","accountBalance","balanceInfor","totalMarginRate","fixdRose","canUseAmount","totalAmount","totalMargin","isolateMargin","lockAmount","realizedAmount","unRealizedAmount","pricefix","hintClass","linkurl","publicInfo","url","futuresDataUrl","lan","process","env","NODE_ENV","coUrl","watch","val","getladderList","filters","setfixNumer","v","setSymbolNumer","replace","methods","contractNames","text","contractType","init","$bus","$on","openTransfer","value","slie","parseFloat","num","Math","abs","toString","match","closeDialog","switchBlock","type","axios","futures","getLadderInfo","method","hostType","params","then","rs","tableLoading","code","length","rate","goFuturesData","get","window","location","href"],"mappings":"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","sourcesContent":["// 按钮\nimport { fixD, thousandsComma, myStorage } from '@/utils';\n\nexport default {\n  name: 'futuresaAssets',\n  data() {\n    return {\n      // 是否显示 划转弹框\n      transferIsShow: false,\n      // 显示类型\n      blockType: 2,\n      boxHeight: 332,\n      // 维持保证金列表\n      ladderList: [],\n      // 最低维持保证金绿\n      minMarginRate: 0.00,\n    };\n  },\n  computed: {\n    lanText() {\n      return {\n        text1: this.$t('futures.assets.text1'), // '资产',\n        text2: this.$t('futures.assets.text2'), // '合约信息',\n        text3: this.$t('futures.assets.text3'), // '立即划转',\n        text4: this.$t('futures.assets.text4'), // '更多',\n        text5: this.$t('futures.assets.text5'), // '账户保证金率',\n        text6: this.$t('futures.assets.text6'), // '账户保证金率=该币种总资产/该币种担保的仓位总价值。此值用来表示担保资产的大致水平。保证金率越低，仓位被强制减仓的风险越大。',\n        text7: this.$t('futures.assets.text7'), // '总资产',\n        text8: this.$t('futures.assets.text8'), // '合约账户总权益。账户总权益=全仓总权益+逐仓总权益+冻结保证金。',\n        text9: this.$t('futures.assets.text9'), // '全仓保证金',\n        text10: this.$t('futures.assets.text10'), // '所有用来担保全仓仓位的保证金。当全仓仓位被强制平仓时，会损失这些资产。请注意：转入合约账户的资产会自动作为全仓保证金。',\n        text11: this.$t('futures.assets.text11'), // '逐仓保证金',\n        text12: this.$t('futures.assets.text12'), // '所有用来担保逐仓仓位的保证金。逐仓保证金和全仓分开，全仓仓位被强制平仓不会影响到这部分资产。',\n        text13: this.$t('futures.assets.text13'), // '冻结保证金',\n        text14: this.$t('futures.assets.text14'), // '提交委托时冻结的委托保证金总和。',\n        text15: this.$t('futures.assets.text15'), // '合约代号',\n        text16: this.$t('futures.assets.text16'), // '到期日期',\n        text17: this.$t('futures.assets.text17'), // '合约标的',\n        text18: this.$t('futures.assets.text18'), // '指数',\n        text19: this.$t('futures.assets.text19'), // '保证金币种',\n        text20: this.$t('futures.assets.text20'), // '合约面值',\n        text21: this.$t('futures.assets.text21'), // '最小价格变动单位',\n        text22: this.$t('futures.assets.text22'), // '最低维持保证金率',\n        text23: this.$t('futures.assets.text23'), // '结算周期',\n        text24: this.$t('futures.assets.text24'), // '['永续', '周', '次周', '月', '季度'];',\n        text25: this.$t('futures.assets.text25'), // '合约数据',\n      };\n    },\n    deliveryKind() {\n      return this.lanText.text24; //  ['永续', '周', '次周', '月', '季度'];\n    },\n    contractShowType() {\n      if (this.contractInfo) {\n        return this.deliveryKind[Number(this.contractInfo.deliveryKind)];\n      }\n      return this.deliveryKind[0];\n    },\n    // 是否登录\n    isLogin() {\n      if (this.$store.state.baseData.isLogin) {\n        return this.$store.state.baseData.isLogin;\n      }\n      return false;\n    },\n    // 当前合约信息\n    contractInfo() {\n      if (this.$store.state.future.contractInfo) {\n        return this.$store.state.future.contractInfo;\n      }\n      return {};\n    },\n    // 是否开通了合约交易\n    openContract() {\n      return this.$store.state.future.openContract;\n    },\n    // 当前合约价格单位\n    priceUnit() {\n      return this.$store.state.future.priceUnit;\n    },\n    // 当前合约保证金币种\n    marginCoin() {\n      if (this.contractInfo) {\n        return this.contractInfo.marginCoin;\n      }\n      return '';\n    },\n    // 当前合约ID\n    contractId() {\n      return this.$store.state.future.contractId;\n    },\n    // 当前合约保证金币种精度\n    marginCoinFix() {\n      if (this.contractInfo && this.contractInfo.coinResultVo) {\n        return this.contractInfo.coinResultVo.marginCoinPrecision;\n      }\n      return 4;\n    },\n    // 用户合约资产\n    accountBalanceMap() {\n      return this.$store.state.future.futureAccountBalance;\n    },\n    accountBalance() {\n      if (this.accountBalanceMap && this.marginCoin) {\n        return this.accountBalanceMap[this.marginCoin];\n      }\n      return {};\n    },\n    balanceInfor() {\n      if (this.accountBalance) {\n        return {\n          // 全仓保证金率\n          totalMarginRate: this.fixdRose(this.accountBalance.totalMarginRate),\n          // 可用\n          canUseAmount: fixD(this.accountBalance.canUseAmount, this.marginCoinFix),\n          // 总资产\n          totalAmount: fixD(this.accountBalance.totalAmount, this.marginCoinFix),\n          // 全仓保证金\n          totalMargin: fixD(this.accountBalance.totalMargin, this.marginCoinFix),\n          // 逐仓保证金\n          isolateMargin: fixD(this.accountBalance.isolateMargin, this.marginCoinFix),\n          // 冻结保证金\n          lockAmount: fixD(this.accountBalance.lockAmount, this.marginCoinFix),\n          // 已实现盈亏\n          realizedAmount: fixD(this.accountBalance.realizedAmount, this.marginCoinFix),\n          // 未实现盈亏\n          unRealizedAmount: fixD(this.accountBalance.unRealizedAmount, this.marginCoinFix),\n        };\n      }\n      return {\n        canUseAmount: '0', // 可用\n        totalAmount: '0', // 总资产\n        totalMargin: '0', // 全仓保证金\n        isolateMargin: '0', // 逐仓保证金\n        lockAmount: '0', // 冻结保证金\n        realizedAmount: '0', // 已实现盈亏\n        unRealizedAmount: '0', // 未实现盈亏\n      };\n    },\n    // 当前合约价格精度\n    pricefix() {\n      return this.$store.state.future.pricefix;\n    },\n    hintClass() {\n      if (this.balanceInfor.totalAmount && Number(this.balanceInfor.totalAmount) !== 0) {\n        return 'position-top';\n      }\n      return '';\n    },\n    linkurl() {\n      if (this.$store.state.baseData.publicInfo) {\n        return this.$store.state.baseData.publicInfo.url;\n      }\n      return {};\n    },\n\n    futuresDataUrl() {\n      const { lan } = this.$store.state.baseData;\n      if (process.env.NODE_ENV === 'development') {\n        return '/co/en_US/futuresData';\n      }\n      if (this.$store.state.baseData && this.$store.state.baseData.publicInfo) {\n        return this.linkurl.coUrl ? `${this.linkurl.coUrl}/${lan}/futuresData` : '';\n      }\n      return '';\n    },\n  },\n  watch: {\n    isLogin(val) {\n      if (val && this.openContract) {\n        this.blockType = 1;\n      } else {\n        this.blockType = 2;\n        this.getladderList();\n      }\n    },\n    openContract(val) {\n      if (val && this.isLogin) {\n        this.blockType = 1;\n      } else {\n        this.blockType = 2;\n        this.getladderList();\n      }\n    },\n  },\n  filters: {\n    setfixNumer(v) {\n      if (v === 0) {\n        return '1';\n      }\n      if (v === 1) {\n        return '0.1';\n      }\n      return `${fixD(0, v - 1)}1`;\n    },\n    setSymbolNumer(name) {\n      if (name) {\n        return name.replace(/-/g, '');\n      }\n      return '';\n    },\n  },\n  methods: {\n    contractNames(data) {\n      let name = data;\n      if (data) {\n        name = data.replace(/-/g, '');\n      }\n      // 混合合约 || 模拟合约\n      let text = '';\n      if (this.contractInfo.contractType !== 'E') {\n        text = `-${this.contractInfo.marginCoin}`;\n      }\n      return `${name}${text}`;\n    },\n    init() {\n      this.$bus.$on('syHeight', (val) => {\n        this.boxHeight = val;\n      });\n      if (this.isLogin) {\n        this.blockType = 1;\n      } else {\n        this.blockType = 2;\n        this.getladderList();\n      }\n    },\n    // 显示划转弹框\n    openTransfer() {\n      this.transferIsShow = true;\n    },\n    fixdRose(value) {\n      if (value && value !== '--') {\n        let slie = '';\n        const val = parseFloat(value, 0);\n        if (val > 0) { slie = '+'; }\n        if (val < 0) { slie = '-'; }\n        const num = Math.abs((value * 10000) / 100);\n        return `${slie}${Number(num.toString().match(/^\\d+(?:\\.\\d{0,2})?/))}`;\n      }\n      return value;\n    },\n    // 关闭弹框\n    closeDialog() {\n      // 关闭划转弹框\n      this.transferIsShow = false;\n    },\n    // 切换类型\n    switchBlock(type) {\n      if (this.blockType !== type) {\n        this.blockType = type;\n      }\n      if (type === 2) {\n        this.getladderList();\n      }\n    },\n    // 获取阶梯设置列表\n    getladderList() {\n      this.axios({\n        url: this.$store.state.url.futures.getLadderInfo,\n        method: 'post',\n        hostType: 'co',\n        params: {\n          contractId: this.contractId,\n        },\n      }).then((rs) => {\n        this.tableLoading = false;\n        if (rs.code === '0' && rs.data) {\n          if (rs.data.ladderList) {\n            this.ladderList = rs.data.ladderList.ladderList || [];\n            if (this.ladderList && this.ladderList.length) {\n              const rate = this.ladderList[0].minMarginRate;\n              this.minMarginRate = fixD(rate * 100, 2);\n            }\n          }\n        }\n      });\n    },\n    thousandsComma(num) {\n      if (num) {\n        return thousandsComma(num);\n      }\n      return num;\n    },\n    // 跳转至合约数据页面\n    goFuturesData() {\n      const type = myStorage.get('futuresMarketCurrent');\n      window.location.href = `${this.futuresDataUrl}?marginCoin=${this.marginCoin}&type=${type}&contractId=${this.contractId}`;\n    },\n\n  },\n};\n"]}]}