{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/mining/mining.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/mining/mining.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { fixD, formatTime, getComplexType, imgMap, colorMap, getCoinShowName } from '@/utils';\nexport default {\n  name: 'noticeInfo',\n  data: function data() {\n    return {\n      currentTab: 1,\n      navTab: [{\n        name: this.$t('mining.my_earnings'),\n        index: 1\n      }, {\n        name: this.$t('mining.invite_bonus'),\n        index: 2\n      }],\n      marginRight: 50,\n      lineHeight: '48',\n      headClasses: '',\n      bodyClasses: '',\n      tableLoading: false,\n      backgroundImg: \"background: url(\".concat(imgMap.jjrNeaderBg, \") center bottom no-repeat\"),\n      myData: {},\n      tableType: 'return_list',\n      pagination: {\n        // 翻页数据\n        count: 0,\n        // 总数量\n        pageSize: 10,\n        // 每页显示条数\n        page: 1 // 当前页数\n\n      },\n      // 邀请分红相关数据\n      inviteNumber: '',\n      inviteReturnNumber: '',\n      inviteCode: '',\n      inviteCodeShow: true,\n      inviteUrlShow: true,\n      inviteUrl: '',\n      inviteQECode: '',\n      inviteQECodeShow: false,\n      page: 1,\n      pageSize: 10,\n      count: 0,\n      loading: true,\n      classes: '',\n      lineClass: '',\n      // table 参数\n      columnsBonus: [{\n        title: this.$t('personal.inviteCodeManagement.columns')[0],\n        align: 'left',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('personal.inviteCodeManagement.columns')[1],\n        align: 'center',\n        width: ''\n      }\n      /*\n              {\n                title: this.$t('personal.inviteCodeManagement.columns')[2],\n                align: 'center',\n                width: '',\n              },\n              {\n                title: this.$t('personal.inviteCodeManagement.columns')[3],\n                align: 'center',\n                width: '',\n              },\n              */\n      ],\n      imgMap: imgMap,\n      colorMap: colorMap,\n      dataListBonus: [],\n      isInviteOpen: true\n    };\n  },\n  watch: {\n    isLogin: function isLogin(val) {\n      if (val) {\n        this.getData();\n      }\n    },\n    inviteInfoList: function inviteInfoList(_inviteInfoList) {\n      if (_inviteInfoList !== null) {\n        this.loading = false;\n        this.inviteNumber = _inviteInfoList.invite_number;\n        this.count = Number(_inviteInfoList.invite_number);\n        this.inviteReturnNumber = _inviteInfoList.invite_return_number;\n        this.inviteCode = _inviteInfoList.inviteCode;\n        this.inviteQECode = _inviteInfoList.inviteQECode;\n        this.inviteUrl = _inviteInfoList.inviteUrl;\n        this.processData(_inviteInfoList.invite_list);\n      }\n    },\n    publicInfo: function publicInfo(_publicInfo) {\n      if (_publicInfo !== null) {\n        if (Number(_publicInfo.switch.is_invite_open) === 1) {\n          this.isInviteOpen = true;\n        } else {\n          this.isInviteOpen = false;\n        }\n      }\n    }\n  },\n  computed: {\n    coinList: function coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    isLogin: function isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    inviteInfoList: function inviteInfoList() {\n      return this.$store.state.personal.inviteInfoList;\n    },\n    speed: function speed() {\n      if (this.myData.total_return_number) {\n        var speed = this.myData.total_return_number / this.myData.dividend_total_amount * 100;\n        return fixD(speed, 2);\n      }\n\n      return 0;\n    },\n    tabList: function tabList() {\n      return [{\n        key: 'return_list',\n        text: this.$t('mining.mining_detail') // '今日挖矿明细',\n\n      }, {\n        key: 'dividend_list',\n        text: this.$t('mining.amount_dividends') // '今日待分红收入',\n\n      }, {\n        key: 'yesterday_dividend_list',\n        text: this.$t('mining.bonus') // '昨日分红',\n\n      }];\n    },\n    columns: function columns() {\n      if (this.tableType === 'return_list') {\n        return [{\n          title: this.$t('mining.time'),\n          // '时间',\n          width: '100px'\n        }, {\n          title: \"\".concat(this.$t('mining.trader_volume'), \"(BTC)\"),\n          // '交易量折合(BTC)',\n          width: '30%'\n        }, {\n          title: \"\".concat(this.$t('mining.Produce'), \"\\n            (\").concat(getCoinShowName(this.myData.coin, this.coinList), \")\"),\n          // `产出(${this.myData.coin})`,\n          width: '30%'\n        }, {\n          title: this.$t('mining.state'),\n          // '状态',\n          width: '30%'\n        }];\n      }\n\n      return [{\n        title: this.$t('mining.coin'),\n        // '币种 ',\n        width: '100px'\n      }, {\n        title: this.$t('mining.platform'),\n        // '平台总手续费',\n        width: '48%'\n      }, {\n        title: this.$t('mining.divided'),\n        // '待分红',\n        width: '48%'\n      }];\n    },\n    dataList: function dataList() {\n      var _this = this;\n\n      var data = [];\n      var oData = this.myData[this.tableType];\n\n      if (oData && oData.length) {\n        oData.forEach(function (item, index) {\n          var lineData = {\n            id: \"\".concat(_this.tableType).concat(index)\n          };\n\n          if (_this.tableType === 'return_list') {\n            var status = item.status === 0 ? _this.$t('mining.replaced') : _this.$t('mining.Return'); // '待返还' : '返还';\n\n            lineData.data = [formatTime(item.dtime), _this.fixDFun(item.return_number_btc, 'BTC'), _this.fixDFun(item.return_number, _this.myData.coin), status];\n          } else {\n            lineData.data = [getCoinShowName(item.coin, _this.coinList), _this.fixDFun(item.fee, _this.myData.coin), _this.fixDFun(item.dividend_number, _this.myData.coin)];\n          }\n\n          data.push(lineData);\n        });\n      }\n\n      return data;\n    }\n  },\n  methods: {\n    // 切换\n    currentType: function currentType(data) {\n      if (data.index !== this.currentTab) {\n        this.currentTab = data.index;\n      }\n    },\n    fixDFun: function fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n\n      return val;\n    },\n    showPrecision: function showPrecision(symbol) {\n      if (this.coinList) {\n        // const { coinList } = this.$store.state.baseData.market;\n        if (this.coinList[symbol]) {\n          var precision = this.coinList[symbol].showPrecision;\n\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n\n      return 4;\n    },\n    // 翻页事件\n    pagechange: function pagechange(num) {\n      this.pagination.page = num;\n      this.getData();\n    },\n    // 请求数据\n    getData: function getData() {\n      var _this2 = this;\n\n      this.axios({\n        url: this.$store.state.url.common.return_info_list,\n        params: {\n          page: this.pagination.page,\n          pageSize: this.pagination.pageSize\n        },\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this2.myData = data.data;\n\n          if (_this2.tableType === 'return_list') {\n            _this2.pagination.count = data.data.return_count;\n          }\n\n          if (_this2.tableType === 'dividend_list') {\n            _this2.pagination.count = data.data.dividend_count;\n          }\n\n          if (_this2.tableType === 'yesterday_dividend_list') {\n            _this2.pagination.count = data.data.yesterday_dividend_count;\n          }\n        }\n      });\n    },\n    // 切换类型\n    switcherType: function switcherType(type) {\n      this.tableType = type;\n      this.pagination.page = 1;\n      this.getData();\n    },\n    copyClick: function copyClick(name) {\n      if (name === 'inviteCode') {\n        this.copy(this.inviteCode);\n      } else {\n        this.copy(this.inviteUrl);\n      }\n    },\n    copy: function copy(str) {\n      this.$bus.$emit('tip', {\n        text: this.$t('personal.prompt.copySucces'),\n        type: 'success'\n      });\n\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n\n        e.preventDefault(); // 阻止默认行为\n      }\n\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n\n      document.removeEventListener('copy', save);\n    },\n    handMouseenter: function handMouseenter(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = false;\n      } else {\n        this.inviteUrlShow = false;\n      }\n    },\n    handMouseleave: function handMouseleave(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = true;\n      } else {\n        this.inviteUrlShow = true;\n      }\n    },\n    processData: function processData(list) {\n      // 处理数据\n      if (getComplexType(list) === 'Array') {\n        this.dataListBonus = list.map(function (obj) {\n          return {\n            data: [formatTime(obj.register_time), obj.invitee]\n          };\n        });\n      }\n    },\n    pagechangeBonus: function pagechangeBonus(page) {\n      this.page = page;\n      var info = {\n        page: page,\n        pageSize: this.pageSize\n      };\n      this.$store.dispatch('inviteInfoList', info);\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/mining/mining.js"],"names":["fixD","formatTime","getComplexType","imgMap","colorMap","getCoinShowName","name","data","currentTab","navTab","$t","index","marginRight","lineHeight","headClasses","bodyClasses","tableLoading","backgroundImg","jjrNeaderBg","myData","tableType","pagination","count","pageSize","page","inviteNumber","inviteReturnNumber","inviteCode","inviteCodeShow","inviteUrlShow","inviteUrl","inviteQECode","inviteQECodeShow","loading","classes","lineClass","columnsBonus","title","align","width","dataListBonus","isInviteOpen","watch","isLogin","val","getData","inviteInfoList","invite_number","Number","invite_return_number","processData","invite_list","publicInfo","switch","is_invite_open","computed","coinList","$store","state","baseData","market","personal","speed","total_return_number","dividend_total_amount","tabList","key","text","columns","coin","dataList","oData","length","forEach","item","lineData","id","status","dtime","fixDFun","return_number_btc","return_number","fee","dividend_number","push","methods","currentType","symbol","showPrecision","precision","pagechange","num","axios","url","common","return_info_list","params","method","then","code","return_count","dividend_count","yesterday_dividend_count","switcherType","type","copyClick","copy","str","$bus","$emit","save","e","clipboardData","setData","preventDefault","document","addEventListener","execCommand","removeEventListener","handMouseenter","handMouseleave","list","map","obj","register_time","invitee","pagechangeBonus","info","dispatch"],"mappings":"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","sourcesContent":["import {\n  fixD,\n  formatTime,\n  getComplexType,\n  imgMap,\n  colorMap,\n  getCoinShowName,\n} from '@/utils';\n\nexport default {\n  name: 'noticeInfo',\n  data() {\n    return {\n      currentTab: 1,\n      navTab: [\n        {\n          name: this.$t('mining.my_earnings'),\n          index: 1,\n        },\n        {\n          name: this.$t('mining.invite_bonus'),\n          index: 2,\n        },\n      ],\n      marginRight: 50,\n      lineHeight: '48',\n      headClasses: '',\n      bodyClasses: '',\n      tableLoading: false,\n      backgroundImg: `background: url(${imgMap.jjrNeaderBg}) center bottom no-repeat`,\n      myData: {},\n      tableType: 'return_list',\n      pagination: { // 翻页数据\n        count: 0, // 总数量\n        pageSize: 10, // 每页显示条数\n        page: 1, // 当前页数\n      },\n      // 邀请分红相关数据\n      inviteNumber: '',\n      inviteReturnNumber: '',\n      inviteCode: '',\n      inviteCodeShow: true,\n      inviteUrlShow: true,\n      inviteUrl: '',\n      inviteQECode: '',\n      inviteQECodeShow: false,\n      page: 1,\n      pageSize: 10,\n      count: 0,\n      loading: true,\n      classes: '',\n      lineClass: '',\n      // table 参数\n      columnsBonus: [\n        {\n          title: this.$t('personal.inviteCodeManagement.columns')[0],\n          align: 'left',\n          width: '200px',\n          classes: '',\n        },\n        {\n          title: this.$t('personal.inviteCodeManagement.columns')[1],\n          align: 'center',\n          width: '',\n        },\n        /*\n                {\n                  title: this.$t('personal.inviteCodeManagement.columns')[2],\n                  align: 'center',\n                  width: '',\n                },\n                {\n                  title: this.$t('personal.inviteCodeManagement.columns')[3],\n                  align: 'center',\n                  width: '',\n                },\n                */\n      ],\n      imgMap,\n      colorMap,\n      dataListBonus: [],\n      isInviteOpen: true,\n    };\n  },\n  watch: {\n    isLogin(val) {\n      if (val) {\n        this.getData();\n      }\n    },\n    inviteInfoList(inviteInfoList) {\n      if (inviteInfoList !== null) {\n        this.loading = false;\n        this.inviteNumber = inviteInfoList.invite_number;\n        this.count = Number(inviteInfoList.invite_number);\n        this.inviteReturnNumber = inviteInfoList.invite_return_number;\n        this.inviteCode = inviteInfoList.inviteCode;\n        this.inviteQECode = inviteInfoList.inviteQECode;\n        this.inviteUrl = inviteInfoList.inviteUrl;\n        this.processData(inviteInfoList.invite_list);\n      }\n    },\n    publicInfo(publicInfo) {\n      if (publicInfo !== null) {\n        if (Number(publicInfo.switch.is_invite_open) === 1) {\n          this.isInviteOpen = true;\n        } else {\n          this.isInviteOpen = false;\n        }\n      }\n    },\n  },\n  computed: {\n    coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    inviteInfoList() {\n      return this.$store.state.personal.inviteInfoList;\n    },\n    speed() {\n      if (this.myData.total_return_number) {\n        const speed = (this.myData.total_return_number / this.myData.dividend_total_amount) * 100;\n        return fixD(speed, 2);\n      }\n      return 0;\n    },\n    tabList() {\n      return [\n        {\n          key: 'return_list',\n          text: this.$t('mining.mining_detail'), // '今日挖矿明细',\n        },\n        {\n          key: 'dividend_list',\n          text: this.$t('mining.amount_dividends'), // '今日待分红收入',\n        },\n        {\n          key: 'yesterday_dividend_list',\n          text: this.$t('mining.bonus'), // '昨日分红',\n        },\n      ];\n    },\n    columns() {\n      if (this.tableType === 'return_list') {\n        return [\n          {\n            title: this.$t('mining.time'), // '时间',\n            width: '100px',\n          },\n          {\n            title: `${this.$t('mining.trader_volume')}(BTC)`, // '交易量折合(BTC)',\n            width: '30%',\n          },\n          {\n            title: `${this.$t('mining.Produce')}\n            (${getCoinShowName(this.myData.coin, this.coinList)})`, // `产出(${this.myData.coin})`,\n            width: '30%',\n          },\n          {\n            title: this.$t('mining.state'), // '状态',\n            width: '30%',\n          },\n        ];\n      }\n      return [\n        {\n          title: this.$t('mining.coin'), // '币种 ',\n          width: '100px',\n        },\n        {\n          title: this.$t('mining.platform'), // '平台总手续费',\n          width: '48%',\n        },\n        {\n          title: this.$t('mining.divided'), // '待分红',\n          width: '48%',\n        },\n      ];\n    },\n    dataList() {\n      const data = [];\n      const oData = this.myData[this.tableType];\n      if (oData && oData.length) {\n        oData.forEach((item, index) => {\n          const lineData = {\n            id: `${this.tableType}${index}`,\n          };\n          if (this.tableType === 'return_list') {\n            const status = item.status === 0\n              ? this.$t('mining.replaced')\n              : this.$t('mining.Return'); // '待返还' : '返还';\n            lineData.data = [\n              formatTime(item.dtime),\n              this.fixDFun(item.return_number_btc, 'BTC'),\n              this.fixDFun(item.return_number, this.myData.coin),\n              status,\n            ];\n          } else {\n            lineData.data = [\n              getCoinShowName(item.coin, this.coinList),\n              this.fixDFun(item.fee, this.myData.coin),\n              this.fixDFun(item.dividend_number, this.myData.coin),\n            ];\n          }\n          data.push(lineData);\n        });\n      }\n      return data;\n    },\n  },\n  methods: {\n    // 切换\n    currentType(data) {\n      if (data.index !== this.currentTab) {\n        this.currentTab = data.index;\n      }\n    },\n    fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n      return val;\n    },\n    showPrecision(symbol) {\n      if (this.coinList) {\n        // const { coinList } = this.$store.state.baseData.market;\n        if (this.coinList[symbol]) {\n          const precision = this.coinList[symbol].showPrecision;\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n      return 4;\n    },\n    // 翻页事件\n    pagechange(num) {\n      this.pagination.page = num;\n      this.getData();\n    },\n    // 请求数据\n    getData() {\n      this.axios({\n        url: this.$store.state.url.common.return_info_list,\n        params: {\n          page: this.pagination.page,\n          pageSize: this.pagination.pageSize,\n        },\n        method: 'post',\n      }).then((data) => {\n        if (data.code === '0') {\n          this.myData = data.data;\n          if (this.tableType === 'return_list') {\n            this.pagination.count = data.data.return_count;\n          }\n          if (this.tableType === 'dividend_list') {\n            this.pagination.count = data.data.dividend_count;\n          }\n          if (this.tableType === 'yesterday_dividend_list') {\n            this.pagination.count = data.data.yesterday_dividend_count;\n          }\n        }\n      });\n    },\n    // 切换类型\n    switcherType(type) {\n      this.tableType = type;\n      this.pagination.page = 1;\n      this.getData();\n    },\n    copyClick(name) {\n      if (name === 'inviteCode') {\n        this.copy(this.inviteCode);\n      } else {\n        this.copy(this.inviteUrl);\n      }\n    },\n    copy(str) {\n      this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n        e.preventDefault(); // 阻止默认行为\n      }\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n      document.removeEventListener('copy', save);\n    },\n    handMouseenter(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = false;\n      } else {\n        this.inviteUrlShow = false;\n      }\n    },\n    handMouseleave(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = true;\n      } else {\n        this.inviteUrlShow = true;\n      }\n    },\n    processData(list) { // 处理数据\n      if (getComplexType(list) === 'Array') {\n        this.dataListBonus = list.map((obj) => ({\n          data: [formatTime(obj.register_time), obj.invitee],\n        }));\n      }\n    },\n    pagechangeBonus(page) {\n      this.page = page;\n      const info = { page, pageSize: this.pageSize };\n      this.$store.dispatch('inviteInfoList', info);\n    },\n  },\n};\n"]}]}