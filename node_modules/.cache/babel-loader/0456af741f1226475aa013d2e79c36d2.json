{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/broker/view/view.js","dependencies":[{"path":"/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/broker/view/view.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport { fixD, formatTime, getCoinShowName, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'brokerView',\n  data: function data() {\n    return {\n      headClasses: 'c-4-bg',\n      bodyClasses: 'c-4-bg',\n      tableLoading: false,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      backgroundImg: \"background: url(\".concat(imgMap.jjrNeaderBg, \")  center bottom no-repeat #0E1A2E\"),\n      myData: {},\n      tableData: {},\n      tableType: 'return_list',\n      searchValue: null,\n      bonusAmount: null,\n      bonusCoinName: null,\n      // 筛选币种\n      startTime: '',\n      endTime: '',\n      pagination: {\n        // 翻页数据\n        count: 0,\n        // 总数量\n        pageSize: 10,\n        // 每页显示条数\n        page: 1 // 当前页数\n\n      },\n      uid: null\n    };\n  },\n  watch: {\n    isLogin: function isLogin(val) {\n      if (val) {\n        this.getData();\n      }\n    }\n  },\n  computed: {\n    startTimeText: function startTimeText() {\n      return this.$t('broker.startTime'); // '起始时间';\n    },\n    endTimeText: function endTimeText() {\n      return this.$t('broker.endTime'); // '截止时间';\n    },\n    isLogin: function isLogin() {\n      return this.$store.state.baseData.isLogin;\n    },\n    coinList: function coinList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    columns: function columns() {\n      return [{\n        title: this.$t('broker.time'),\n        width: '100px'\n      }, {\n        title: this.$t('broker.scale') // '返佣比例',\n\n      }, {\n        title: \"\".concat(this.$t('broker.fee'), \"(\").concat(getCoinShowName(this.bonusCoinName, this.coinList), \")\")\n      }, {\n        title: \"\".concat(this.$t('broker.amount'), \"(\").concat(getCoinShowName(this.bonusCoinName, this.coinList), \")\")\n      }];\n    },\n    dataList: function dataList() {\n      var _this = this;\n\n      if (this.tableData && this.tableData.length) {\n        var dataArr = [];\n        this.tableData.forEach(function (item) {\n          dataArr.push({\n            id: item.uid,\n            data: [formatTime(item.time), // 时间\n            item.scale, // 返佣比例\n            \"\".concat(_this.fixDFun(item.fee, item.feeCoin), \"\\n                \").concat(getCoinShowName(item.feeCoin, _this.coinList)), // 手续费\n            \"\".concat(_this.fixDFun(item.bonus, item.bonusCoin), \"\\n                \").concat(getCoinShowName(item.bonusCoin, _this.coinList)) // 返佣额度\n            ]\n          });\n        });\n        return dataArr;\n      }\n\n      return [];\n    }\n  },\n  methods: {\n    init: function init() {\n      this.uid = this.$route.params.item;\n      this.getData();\n    },\n    fixDFun: function fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n\n      return val;\n    },\n    showPrecision: function showPrecision(symbol) {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        var coinList = this.$store.state.baseData.market.coinList;\n\n        if (coinList[symbol]) {\n          var precision = coinList[symbol].showPrecision;\n\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n\n      return 4;\n    },\n    // 翻页事件\n    pagechange: function pagechange(num) {\n      this.pagination.page = num;\n      this.getData();\n    },\n    // 请求数据\n    getData: function getData(ajaxUrl) {\n      var _this2 = this;\n\n      this.tableLoading = true;\n      var url = ajaxUrl || this.$store.state.url.common.agent_data_info_query;\n      this.axios({\n        url: url,\n        params: {\n          pageNum: this.pagination.page,\n          pageSize: this.pagination.pageSize,\n          uid: this.uid,\n          startTime: this.startTime,\n          endTime: this.endTime\n        },\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this2.tableData = data.data.mapList;\n          _this2.pagination.count = data.data.count;\n          _this2.bonusAmount = data.data.bonusAmount;\n          _this2.bonusCoinName = data.data.bonusCoinName;\n        }\n\n        _this2.tableLoading = false;\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    // 选择时间\n    onChangeCalendar: function onChangeCalendar(data, name) {\n      this[name] = data;\n\n      if (this.startTime && this.endTime) {\n        this.getData();\n      }\n    },\n    // select 选择事件\n    selectOnChange: function selectOnChange(data, name) {\n      this[name] = data.code;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/broker/view/view.js"],"names":["fixD","formatTime","getCoinShowName","colorMap","imgMap","name","data","headClasses","bodyClasses","tableLoading","backgroundImg","jjrNeaderBg","myData","tableData","tableType","searchValue","bonusAmount","bonusCoinName","startTime","endTime","pagination","count","pageSize","page","uid","watch","isLogin","val","getData","computed","startTimeText","$t","endTimeText","$store","state","baseData","coinList","market","columns","title","width","dataList","length","dataArr","forEach","item","push","id","time","scale","fixDFun","fee","feeCoin","bonus","bonusCoin","methods","init","$route","params","symbol","showPrecision","precision","pagechange","num","ajaxUrl","url","common","agent_data_info_query","axios","pageNum","method","then","code","mapList","formatJson","filterVal","jsonData","map","v","j","onChangeCalendar","selectOnChange"],"mappings":"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","sourcesContent":["import {\r\n  fixD, formatTime, getCoinShowName, colorMap, imgMap,\r\n} from '@/utils';\r\n\r\n\r\nexport default {\r\n  name: 'brokerView',\r\n  data() {\r\n    return {\r\n      headClasses: 'c-4-bg',\r\n      bodyClasses: 'c-4-bg',\r\n      tableLoading: false,\r\n      imgMap,\r\n      colorMap,\r\n      backgroundImg: `background: url(${imgMap.jjrNeaderBg})  center bottom no-repeat #0E1A2E`,\r\n      myData: {},\r\n      tableData: {},\r\n      tableType: 'return_list',\r\n      searchValue: null,\r\n      bonusAmount: null,\r\n      bonusCoinName: null,\r\n      // 筛选币种\r\n      startTime: '',\r\n      endTime: '',\r\n      pagination: { // 翻页数据\r\n        count: 0, // 总数量\r\n        pageSize: 10, // 每页显示条数\r\n        page: 1, // 当前页数\r\n      },\r\n      uid: null,\r\n    };\r\n  },\r\n  watch: {\r\n    isLogin(val) {\r\n      if (val) {\r\n        this.getData();\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    startTimeText() {\r\n      return this.$t('broker.startTime'); // '起始时间';\r\n    },\r\n    endTimeText() {\r\n      return this.$t('broker.endTime'); // '截止时间';\r\n    },\r\n    isLogin() {\r\n      return this.$store.state.baseData.isLogin;\r\n    },\r\n    coinList() {\r\n      if (this.$store.state.baseData.market) {\r\n        return this.$store.state.baseData.market.coinList;\r\n      }\r\n      return null;\r\n    },\r\n    columns() {\r\n      return [\r\n        {\r\n          title: this.$t('broker.time'),\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('broker.scale'), // '返佣比例',\r\n        },\r\n        {\r\n          title: `${this.$t('broker.fee')}(${getCoinShowName(this.bonusCoinName, this.coinList)})`,\r\n        },\r\n        {\r\n          title: `${this.$t('broker.amount')}(${getCoinShowName(this.bonusCoinName, this.coinList)})`,\r\n        },\r\n      ];\r\n    },\r\n    dataList() {\r\n      if (this.tableData && this.tableData.length) {\r\n        const dataArr = [];\r\n        this.tableData.forEach((item) => {\r\n          dataArr.push({\r\n            id: item.uid,\r\n            data: [\r\n              formatTime(item.time), // 时间\r\n              item.scale, // 返佣比例\r\n              `${this.fixDFun(item.fee, item.feeCoin)}\r\n                ${getCoinShowName(item.feeCoin, this.coinList)}`, // 手续费\r\n              `${this.fixDFun(item.bonus, item.bonusCoin)}\r\n                ${getCoinShowName(item.bonusCoin, this.coinList)}`, // 返佣额度\r\n            ],\r\n          });\r\n        });\r\n        return dataArr;\r\n      }\r\n      return [];\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.uid = this.$route.params.item;\r\n      this.getData();\r\n    },\r\n    fixDFun(val, symbol) {\r\n      if (this.showPrecision(symbol)) {\r\n        return fixD(val, this.showPrecision(symbol));\r\n      }\r\n      return val;\r\n    },\r\n    showPrecision(symbol) {\r\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\r\n        const { coinList } = this.$store.state.baseData.market;\r\n        if (coinList[symbol]) {\r\n          const precision = coinList[symbol].showPrecision;\r\n          if (precision) {\r\n            return precision;\r\n          }\r\n        }\r\n      }\r\n      return 4;\r\n    },\r\n    // 翻页事件\r\n    pagechange(num) {\r\n      this.pagination.page = num;\r\n      this.getData();\r\n    },\r\n    // 请求数据\r\n    getData(ajaxUrl) {\r\n      this.tableLoading = true;\r\n      const url = ajaxUrl || this.$store.state.url.common.agent_data_info_query;\r\n      this.axios({\r\n        url,\r\n        params: {\r\n          pageNum: this.pagination.page,\r\n          pageSize: this.pagination.pageSize,\r\n          uid: this.uid,\r\n          startTime: this.startTime,\r\n          endTime: this.endTime,\r\n        },\r\n        method: 'post',\r\n      }).then((data) => {\r\n        if (data.code === '0') {\r\n          this.tableData = data.data.mapList;\r\n          this.pagination.count = data.data.count;\r\n          this.bonusAmount = data.data.bonusAmount;\r\n          this.bonusCoinName = data.data.bonusCoinName;\r\n        }\r\n        this.tableLoading = false;\r\n      });\r\n    },\r\n    formatJson(filterVal, jsonData) {\r\n      return jsonData.map((v) => filterVal.map((j) => v[j]));\r\n    },\r\n    // 选择时间\r\n    onChangeCalendar(data, name) {\r\n      this[name] = data;\r\n      if (this.startTime && this.endTime) {\r\n        this.getData();\r\n      }\r\n    },\r\n    // select 选择事件\r\n    selectOnChange(data, name) {\r\n      this[name] = data.code;\r\n    },\r\n  },\r\n};\r\n"]}]}