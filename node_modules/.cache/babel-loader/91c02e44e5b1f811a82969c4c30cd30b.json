{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/innovation/view/view.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/innovation/view/view.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { fixD, formatTime, fixInput, nul, fixFloat as _fixFloat, thousandsComma as _thousandsComma, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'InnovationList',\n  data: function data() {\n    return {\n      bannerImg: null,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      bannerTitle: '',\n      nowType: 1,\n      errorFlag: false,\n      errorHave: false,\n      pageId: null,\n      pageData: {},\n      amount: '',\n      dialogFlag: false,\n      // 弹窗flag\n      dialogConfirmLoading: false,\n      // 用于弹窗按钮loading效果\n      checkValue: '',\n      // 验证码value\n      googleVlaue: '',\n      // 谷歌验证码\n      checkErrorText: '',\n      googleErrorText: '',\n      dbclick: true,\n      captchaObj: null,\n      verifyFlag: false,\n      verifyObj: null,\n      precision: 4,\n      emailCheckValue: ''\n    };\n  },\n  watch: {\n    sendEmailCode: function sendEmailCode(_sendEmailCode) {\n      if (_sendEmailCode !== null) {\n        if (_sendEmailCode.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _sendEmailCode.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _sendEmailCode.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n          this.$bus.$emit('getCode-clear', 'EmailCode');\n        }\n      }\n    },\n    amount: function amount(value) {\n      this.amount = fixInput(value, this.showPrecision(this.pageData.coinSymbol));\n    },\n    checkValue: function checkValue(value) {\n      this.checkValue = fixInput(value, 0);\n    },\n    emailCheckValue: function emailCheckValue(value) {\n      this.emailCheckValue = fixInput(value, 0);\n    },\n    googleVlaue: function googleVlaue(value) {\n      this.googleVlaue = fixInput(value, 0);\n    }\n  },\n  computed: {\n    sendEmailCode: function sendEmailCode() {\n      return this.$store.state.personal.sendEmailCode;\n    },\n    enforceGoogleAuth: function enforceGoogleAuth() {\n      return this.$store.state.baseData.is_enforce_google_auth || 0;\n    },\n    // 全部币种列表\n    coinList: function coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    spendWarning: function spendWarning() {\n      if (this.is_newcoin_project_entrance) {\n        if (Number(this.pageData.u_entranceSymbol_account) < Number(this.pageData.entranceAmount)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    is_newcoin_project_entrance: function is_newcoin_project_entrance() {\n      return this.$store.state.baseData.is_newcoin_project_entrance;\n    },\n    verificationType: function verificationType() {\n      var publicInfo = this.$store.state.baseData.publicInfo;\n      var type = '0';\n\n      if (publicInfo && publicInfo.switch && publicInfo.switch.verificationType) {\n        type = publicInfo.switch.verificationType;\n      }\n\n      return type;\n    },\n    statusList: function statusList() {\n      return [this.$t('innov.have'), // 进行中\n      this.$t('innov.financing'), // 募集成功\n      this.$t('innov.end') // 募集结束\n      ];\n    },\n    promptText: function promptText() {\n      return this.$t('innov.numbre'); // '数量';\n    },\n    userInfo: function userInfo() {\n      if (this.$store.state.baseData.userInfo) {\n        return this.$store.state.baseData.userInfo;\n      }\n\n      return {};\n    },\n    googleStatus: function googleStatus() {\n      if (this.userInfo) {\n        return this.userInfo.googleStatus;\n      }\n\n      return null;\n    },\n    isOpenMobileCheck: function isOpenMobileCheck() {\n      if (this.userInfo) {\n        return this.userInfo.isOpenMobileCheck;\n      }\n\n      return null;\n    },\n    emailAuthOpen: function emailAuthOpen() {\n      if (this.userInfo) {\n        return this.userInfo.email;\n      }\n\n      return null;\n    },\n    submitDisabled: function submitDisabled() {\n      if (this.pageData.isAuthRealname && this.userInfo.authLevel !== 1) {\n        return true;\n      }\n\n      if ((this.pageData.status === 2 || this.pageData.status === 3) && this.amount && this.amount <= this.pageData.u_coinSymbol_amount) {\n        return false;\n      }\n\n      return true;\n    },\n    amountDisabled: function amountDisabled() {\n      if (this.pageData.isAuthRealname && this.userInfo.authLevel !== 1) {\n        return true;\n      }\n\n      if (this.pageData.u_coinSymbol_amount < this.pageData.singleMinRaiseMoney || this.pageData.singleMaxRaiseMoney === 0 || this.pageData.money - this.pageData.raisedMoney === 0) {\n        return true;\n      }\n\n      if (this.pageData.status === 2 || this.pageData.status === 3) {\n        return false;\n      }\n\n      return true;\n    },\n    speed: function speed() {\n      if (this.pageData.raisedMoney) {\n        var speed = this.pageData.raisedMoney / this.pageData.money * 100;\n        return fixD(speed, 2);\n      }\n\n      return 0;\n    },\n    // 二次验证弹层 text展示文字 havacode是否有获取验证码\n    checkPhione: function checkPhione() {\n      return {\n        text: this.$t('login.phoneCode'),\n        haveCode: true\n      };\n    },\n    googleVlaueForm: function googleVlaueForm() {\n      return {\n        text: this.$t('login.googleCode'),\n        haveCode: false\n      };\n    },\n    emailVlaueForm: function emailVlaueForm() {\n      return {\n        text: this.$t('login.emailCode'),\n        haveCode: true\n      };\n    },\n    // checkValue 是否复合正则验证\n    checkFlag: function checkFlag() {\n      return this.$store.state.regExp.verification.test(this.checkValue);\n    },\n    // checkValueEmail 是否复合正则验证\n    checkFlagEamil: function checkFlagEamil() {\n      return this.$store.state.regExp.verification.test(this.emailCheckValue);\n    },\n    // googleVlaue 是否复合正则验证\n    googleFlag: function googleFlag() {\n      return this.$store.state.regExp.verification.test(this.googleVlaue);\n    },\n    // 验证框是否为错误\n    checkErrorFlag: function checkErrorFlag() {\n      if (this.checkValue.length !== 0 && !this.checkFlag) return true;\n      return false;\n    },\n    checkEmailErrorFlag: function checkEmailErrorFlag() {\n      if (this.emailCheckValue.length !== 0 && !this.checkFlagEamil) {\n        return true;\n      }\n\n      return false;\n    },\n    // 验证框是否为错误\n    googleErrorFlag: function googleErrorFlag() {\n      if (this.googleVlaue.length !== 0 && !this.googleFlag) return true;\n      return false;\n    },\n    // 二次确认按钮是否开启\n    confirmBtnFlag: function confirmBtnFlag() {\n      if (this.googleStatus === 1) {\n        if (this.googleErrorFlag || this.googleVlaue.length === 0) {\n          return true;\n        }\n      }\n\n      if (this.isOpenMobileCheck === 1) {\n        if (this.checkValue.length === 0 || this.checkErrorFlag) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  },\n  methods: {\n    init: function init() {\n      this.pageId = this.$route.params.id;\n      this.getData();\n    },\n    fixFloat: function fixFloat(num, precision) {\n      return _fixFloat(num, precision);\n    },\n    thousandsComma: function thousandsComma(num) {\n      return _thousandsComma(num);\n    },\n    getCaptchaObj: function getCaptchaObj(captchaObj) {\n      this.captchaObj = captchaObj;\n    },\n    verifyCallBack: function verifyCallBack(parameter) {\n      this.verifyObj = {\n        geetest_challenge: parameter.geetest_challenge,\n        geetest_seccode: parameter.geetest_seccode,\n        geetest_validate: parameter.geetest_validate\n      };\n      this.verifyFlag = true;\n      this.dialogFlag = true;\n    },\n    countScale: function countScale(a, b) {\n      return !a || !b ? 0 : nul(a, b);\n    },\n    fixDFun: function fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n\n      return val;\n    },\n    showPrecision: function showPrecision(symbol) {\n      if (this.$store.state.baseData && this.$store.state.baseData.market && this.$store.state.baseData.market.coinList) {\n        var coinList = this.$store.state.baseData.market.coinList;\n\n        if (coinList[symbol]) {\n          var precision = coinList[symbol].showPrecision;\n\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n\n      return 4;\n    },\n    setStatusText: function setStatusText(data) {\n      var text = '';\n\n      switch (data.status) {\n        case 2:\n          text = this.$t('innov.status1'); // '预热中';\n\n          break;\n\n        case 3:\n          text = this.$t('innov.status2'); // '进行中';\n\n          break;\n\n        case 4:\n          text = this.$t('innov.status3'); // '募集完成';\n\n          break;\n\n        case 5:\n          text = this.$t('innov.status4'); // '发放TOKEN';\n\n          break;\n\n        default:\n          text = this.$t('innov.status5');\n        // '退还申购基金';\n      }\n\n      return text;\n    },\n    // tab切换\n    currentType: function currentType(item) {\n      this.nowType = item.index;\n    },\n    submit: function submit() {\n      // 兑换金额不能小于单次购买最小额度\n      if (this.amount < this.pageData.singleMinRaiseMoney) {\n        this.$bus.$emit('tip', {\n          text: \"\".concat(this.$t('innov.lowerThanMinAmount')).concat(this.pageData.singleMinRaiseMoney),\n          type: 'error'\n        });\n        return;\n      } // 单笔兑换金额不能大于单次兑换最大额度\n\n\n      if (this.amount > this.pageData.singleMaxRaiseMoney) {\n        this.$bus.$emit('tip', {\n          text: \"\".concat(this.$t('innov.higherThanMaxAmount')).concat(this.pageData.singleMaxRaiseMoney),\n          type: 'error'\n        });\n        return;\n      } // 接受币种余额不足\n\n\n      if (this.amount > this.pageData.u_coinSymbol_amount) {\n        this.$bus.$emit('tip', {\n          text: \"\".concat(this.pageData.coinSymbol).concat(this.$t('innov.balanceNotEnough')),\n          type: 'error'\n        });\n        return;\n      } // 输入额度超出我的剩余可兑换额度\n\n\n      if (this.pageData.level_amount !== null && this.amount > this.pageData.level_amount) {\n        this.$bus.$emit('tip', {\n          text: \"\".concat(this.$t('innov.surplusExchangeAmount'), \":\").concat(this.pageData.level_amount),\n          type: 'error'\n        });\n        return;\n      } // 判断如果没有谷歌验证 没有手机验证  没有邮箱验证 或者 没有绑定邮箱的时候提示去绑定手机号或者谷歌\n\n\n      if (this.googleStatus !== 1 && this.isOpenMobileCheck !== 1 && (!this.pageData.email_validate_open || !this.emailAuthOpen)) {\n        this.$bus.$emit('tip', {\n          text: this.$t('innov.binding'),\n          type: 'error'\n        });\n        return;\n      } // 谷歌强制认证开启的时候 判断有没有谷歌没有的话 提示去绑定\n\n\n      if (this.googleStatus !== 1 && this.enforceGoogleAuth) {\n        this.$bus.$emit('tip', {\n          text: this.$t('assets.withdraw.bindGoogle'),\n          type: 'error'\n        });\n        return;\n      }\n\n      if (this.verificationType === '2') {\n        this.captchaObj.verify();\n      } else {\n        this.dialogFlag = true;\n      }\n    },\n    inputChanges: function inputChanges(value, name) {\n      this[name] = value;\n    },\n    formatTimeFn: function formatTimeFn(date) {\n      return formatTime(date);\n    },\n    // 关闭弹窗\n    dialogClose: function dialogClose() {\n      this.dialogFlag = false;\n      this.checkValue = '';\n      this.googleVlaue = '';\n      this.emailCheckValue = '';\n    },\n    // 发送验证码组件点击button\n    getCodeClick: function getCodeClick() {\n      this.sendCode();\n    },\n    postEmailCode: function postEmailCode() {\n      // this.$bus.$emit('getCode-start', 'EmailCode');\n      var info = {\n        operationType: 21\n      };\n      this.$store.dispatch('sendEmailCode', info);\n    },\n    // 发送验证码\n    sendCode: function sendCode() {\n      var _this = this;\n\n      this.axios({\n        url: 'v4/common/smsValidCode',\n        method: 'post',\n        header: {},\n        params: {\n          operationType: 28\n        }\n      }).then(function (data) {\n        if (data.code.toString() !== '0') {\n          // 倒计时重置\n          _this.$bus.$emit('getCode-clear', 'loginGetcode'); // tip框提示错误\n\n\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        } else {\n          // 邮件已发送，请注意查收\n          _this.$bus.$emit('tip', {\n            text: '验证码已发送，请注意查收',\n            type: 'success'\n          });\n        }\n      }).catch(function () {});\n    },\n    dialogConfirm: function dialogConfirm() {\n      var _this2 = this;\n\n      if (this.dbclick) {\n        var params = {\n          verificationType: this.verificationType,\n          amount: this.amount,\n          projectId: this.pageData.id,\n          smsValidCode: this.checkValue,\n          googleCode: this.googleVlaue,\n          symbol: this.pageData.coinSymbol,\n          percent: this.pageData.speed,\n          emailValidCode: this.emailCheckValue\n        };\n\n        if (this.verificationType === '2') {\n          params = Object.assign(params, this.verifyObj);\n        }\n\n        this.dbclick = false;\n        this.axios({\n          url: this.$store.state.url.common.newcoin_purchase,\n          headers: {},\n          params: params,\n          method: 'post'\n        }).then(function (data) {\n          _this2.dialogClose();\n\n          _this2.dbclick = true;\n\n          if (data.code.toString() === '0') {\n            // '申购成功，募集完成后可获得项目Token'\n            _this2.amount = '';\n\n            _this2.$bus.$emit('tip', {\n              text: _this2.$t('innov.token'),\n              type: 'success'\n            });\n\n            window.location.reload();\n          } else {\n            _this2.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    },\n    // 请求数据\n    getData: function getData() {\n      var _this3 = this;\n\n      this.axios({\n        url: this.$store.state.url.common.newcoin_project_detail,\n        params: {\n          projectId: Number(this.pageId)\n        },\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          var status = data.data.status;\n\n          if (status === 0 || status === 1 || status === 7) {\n            _this3.$router.replace('/innovation');\n          } // data.data.email_validate_open = 0;\n\n\n          _this3.pageData = data.data;\n          _this3.bannerImg = data.data.banner;\n        }\n      });\n    },\n    // goTrade\n    goTrade: function goTrade() {\n      this.$router.push('/trade');\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/innovation/view/view.js"],"names":["fixD","formatTime","fixInput","nul","fixFloat","thousandsComma","colorMap","imgMap","name","data","bannerImg","bannerTitle","nowType","errorFlag","errorHave","pageId","pageData","amount","dialogFlag","dialogConfirmLoading","checkValue","googleVlaue","checkErrorText","googleErrorText","dbclick","captchaObj","verifyFlag","verifyObj","precision","emailCheckValue","watch","sendEmailCode","text","$bus","$emit","msg","type","$store","dispatch","value","showPrecision","coinSymbol","computed","state","personal","enforceGoogleAuth","baseData","is_enforce_google_auth","coinList","market","spendWarning","is_newcoin_project_entrance","Number","u_entranceSymbol_account","entranceAmount","verificationType","publicInfo","switch","statusList","$t","promptText","userInfo","googleStatus","isOpenMobileCheck","emailAuthOpen","email","submitDisabled","isAuthRealname","authLevel","status","u_coinSymbol_amount","amountDisabled","singleMinRaiseMoney","singleMaxRaiseMoney","money","raisedMoney","speed","checkPhione","haveCode","googleVlaueForm","emailVlaueForm","checkFlag","regExp","verification","test","checkFlagEamil","googleFlag","checkErrorFlag","length","checkEmailErrorFlag","googleErrorFlag","confirmBtnFlag","methods","init","$route","params","id","getData","num","getCaptchaObj","verifyCallBack","parameter","geetest_challenge","geetest_seccode","geetest_validate","countScale","a","b","fixDFun","val","symbol","setStatusText","currentType","item","index","submit","level_amount","email_validate_open","verify","inputChanges","formatTimeFn","date","dialogClose","getCodeClick","sendCode","postEmailCode","info","operationType","axios","url","method","header","then","code","toString","catch","dialogConfirm","projectId","smsValidCode","googleCode","percent","emailValidCode","Object","assign","common","newcoin_purchase","headers","window","location","reload","newcoin_project_detail","$router","replace","banner","goTrade","push"],"mappings":"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","sourcesContent":["import {\n  fixD,\n  formatTime,\n  fixInput,\n  nul,\n  fixFloat,\n  thousandsComma,\n  colorMap,\n  imgMap,\n} from '@/utils';\n\n\nexport default {\n  name: 'InnovationList',\n  data() {\n    return {\n      bannerImg: null,\n      imgMap,\n      colorMap,\n      bannerTitle: '',\n      nowType: 1,\n      errorFlag: false,\n      errorHave: false,\n      pageId: null,\n      pageData: {},\n      amount: '',\n      dialogFlag: false, // 弹窗flag\n      dialogConfirmLoading: false, // 用于弹窗按钮loading效果\n      checkValue: '', // 验证码value\n      googleVlaue: '', // 谷歌验证码\n      checkErrorText: '',\n      googleErrorText: '',\n      dbclick: true,\n      captchaObj: null,\n      verifyFlag: false,\n      verifyObj: null,\n      precision: 4,\n      emailCheckValue: '',\n    };\n  },\n  watch: {\n    sendEmailCode(sendEmailCode) {\n      if (sendEmailCode !== null) {\n        if (sendEmailCode.text === 'success') {\n          this.$bus.$emit('tip', { text: sendEmailCode.msg, type: 'success' });\n          this.$store.dispatch('resetType');\n        } else {\n          this.$bus.$emit('tip', { text: sendEmailCode.msg, type: 'error' });\n          this.$store.dispatch('resetType');\n          this.$bus.$emit('getCode-clear', 'EmailCode');\n        }\n      }\n    },\n    amount(value) {\n      this.amount = fixInput(\n        value,\n        this.showPrecision(this.pageData.coinSymbol),\n      );\n    },\n    checkValue(value) {\n      this.checkValue = fixInput(value, 0);\n    },\n    emailCheckValue(value) {\n      this.emailCheckValue = fixInput(value, 0);\n    },\n    googleVlaue(value) {\n      this.googleVlaue = fixInput(value, 0);\n    },\n  },\n  computed: {\n    sendEmailCode() {\n      return this.$store.state.personal.sendEmailCode;\n    },\n    enforceGoogleAuth() {\n      return this.$store.state.baseData.is_enforce_google_auth || 0;\n    },\n    // 全部币种列表\n    coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n      return null;\n    },\n    spendWarning() {\n      if (this.is_newcoin_project_entrance) {\n        if (\n          Number(this.pageData.u_entranceSymbol_account)\n          < Number(this.pageData.entranceAmount)\n        ) {\n          return true;\n        }\n      }\n      return false;\n    },\n    is_newcoin_project_entrance() {\n      return this.$store.state.baseData.is_newcoin_project_entrance;\n    },\n    verificationType() {\n      const { publicInfo } = this.$store.state.baseData;\n      let type = '0';\n      if (\n        publicInfo\n        && publicInfo.switch\n        && publicInfo.switch.verificationType\n      ) {\n        type = publicInfo.switch.verificationType;\n      }\n      return type;\n    },\n    statusList() {\n      return [\n        this.$t('innov.have'), // 进行中\n        this.$t('innov.financing'), // 募集成功\n        this.$t('innov.end'), // 募集结束\n      ];\n    },\n    promptText() {\n      return this.$t('innov.numbre'); // '数量';\n    },\n    userInfo() {\n      if (this.$store.state.baseData.userInfo) {\n        return this.$store.state.baseData.userInfo;\n      }\n      return {};\n    },\n    googleStatus() {\n      if (this.userInfo) {\n        return this.userInfo.googleStatus;\n      }\n      return null;\n    },\n    isOpenMobileCheck() {\n      if (this.userInfo) {\n        return this.userInfo.isOpenMobileCheck;\n      }\n      return null;\n    },\n    emailAuthOpen() {\n      if (this.userInfo) {\n        return this.userInfo.email;\n      }\n      return null;\n    },\n    submitDisabled() {\n      if (this.pageData.isAuthRealname && this.userInfo.authLevel !== 1) {\n        return true;\n      }\n      if (\n        (this.pageData.status === 2 || this.pageData.status === 3)\n        && this.amount\n        && this.amount <= this.pageData.u_coinSymbol_amount\n      ) {\n        return false;\n      }\n      return true;\n    },\n    amountDisabled() {\n      if (this.pageData.isAuthRealname && this.userInfo.authLevel !== 1) {\n        return true;\n      }\n      if (\n        this.pageData.u_coinSymbol_amount < this.pageData.singleMinRaiseMoney\n        || this.pageData.singleMaxRaiseMoney === 0\n        || this.pageData.money - this.pageData.raisedMoney === 0\n      ) {\n        return true;\n      }\n      if (this.pageData.status === 2 || this.pageData.status === 3) {\n        return false;\n      }\n      return true;\n    },\n    speed() {\n      if (this.pageData.raisedMoney) {\n        const speed = (this.pageData.raisedMoney / this.pageData.money) * 100;\n        return fixD(speed, 2);\n      }\n      return 0;\n    },\n    // 二次验证弹层 text展示文字 havacode是否有获取验证码\n    checkPhione() {\n      return { text: this.$t('login.phoneCode'), haveCode: true };\n    },\n    googleVlaueForm() {\n      return { text: this.$t('login.googleCode'), haveCode: false };\n    },\n    emailVlaueForm() {\n      return { text: this.$t('login.emailCode'), haveCode: true };\n    },\n    // checkValue 是否复合正则验证\n    checkFlag() {\n      return this.$store.state.regExp.verification.test(this.checkValue);\n    },\n    // checkValueEmail 是否复合正则验证\n    checkFlagEamil() {\n      return this.$store.state.regExp.verification.test(this.emailCheckValue);\n    },\n    // googleVlaue 是否复合正则验证\n    googleFlag() {\n      return this.$store.state.regExp.verification.test(this.googleVlaue);\n    },\n    // 验证框是否为错误\n    checkErrorFlag() {\n      if (this.checkValue.length !== 0 && !this.checkFlag) return true;\n      return false;\n    },\n    checkEmailErrorFlag() {\n      if (this.emailCheckValue.length !== 0 && !this.checkFlagEamil) {\n        return true;\n      }\n      return false;\n    },\n    // 验证框是否为错误\n    googleErrorFlag() {\n      if (this.googleVlaue.length !== 0 && !this.googleFlag) return true;\n      return false;\n    },\n    // 二次确认按钮是否开启\n    confirmBtnFlag() {\n      if (this.googleStatus === 1) {\n        if (this.googleErrorFlag || this.googleVlaue.length === 0) {\n          return true;\n        }\n      }\n      if (this.isOpenMobileCheck === 1) {\n        if (this.checkValue.length === 0 || this.checkErrorFlag) {\n          return true;\n        }\n      }\n      return false;\n    },\n  },\n  methods: {\n    init() {\n      this.pageId = this.$route.params.id;\n      this.getData();\n    },\n    fixFloat(num, precision) {\n      return fixFloat(num, precision);\n    },\n    thousandsComma(num) {\n      return thousandsComma(num);\n    },\n    getCaptchaObj(captchaObj) {\n      this.captchaObj = captchaObj;\n    },\n    verifyCallBack(parameter) {\n      this.verifyObj = {\n        geetest_challenge: parameter.geetest_challenge,\n        geetest_seccode: parameter.geetest_seccode,\n        geetest_validate: parameter.geetest_validate,\n      };\n      this.verifyFlag = true;\n      this.dialogFlag = true;\n    },\n    countScale(a, b) {\n      return !a || !b ? 0 : nul(a, b);\n    },\n    fixDFun(val, symbol) {\n      if (this.showPrecision(symbol)) {\n        return fixD(val, this.showPrecision(symbol));\n      }\n      return val;\n    },\n    showPrecision(symbol) {\n      if (\n        this.$store.state.baseData\n        && this.$store.state.baseData.market\n        && this.$store.state.baseData.market.coinList\n      ) {\n        const { coinList } = this.$store.state.baseData.market;\n        if (coinList[symbol]) {\n          const precision = coinList[symbol].showPrecision;\n          if (precision) {\n            return precision;\n          }\n        }\n      }\n      return 4;\n    },\n    setStatusText(data) {\n      let text = '';\n      switch (data.status) {\n        case 2:\n          text = this.$t('innov.status1'); // '预热中';\n          break;\n        case 3:\n          text = this.$t('innov.status2'); // '进行中';\n          break;\n        case 4:\n          text = this.$t('innov.status3'); // '募集完成';\n          break;\n        case 5:\n          text = this.$t('innov.status4'); // '发放TOKEN';\n          break;\n        default:\n          text = this.$t('innov.status5'); // '退还申购基金';\n      }\n      return text;\n    },\n    // tab切换\n    currentType(item) {\n      this.nowType = item.index;\n    },\n    submit() {\n      // 兑换金额不能小于单次购买最小额度\n      if (this.amount < this.pageData.singleMinRaiseMoney) {\n        this.$bus.$emit('tip', {\n          text: `${this.$t('innov.lowerThanMinAmount')}${this.pageData.singleMinRaiseMoney}`,\n          type: 'error',\n        });\n\n        return;\n      }\n      // 单笔兑换金额不能大于单次兑换最大额度\n      if (this.amount > this.pageData.singleMaxRaiseMoney) {\n        this.$bus.$emit('tip', {\n          text: `${this.$t('innov.higherThanMaxAmount')}${this.pageData.singleMaxRaiseMoney}`,\n          type: 'error',\n        });\n\n        return;\n      }\n      // 接受币种余额不足\n      if (this.amount > this.pageData.u_coinSymbol_amount) {\n        this.$bus.$emit('tip', {\n          text: `${this.pageData.coinSymbol}${this.$t('innov.balanceNotEnough')}`,\n          type: 'error',\n        });\n\n        return;\n      }\n      // 输入额度超出我的剩余可兑换额度\n      if (this.pageData.level_amount !== null && this.amount > this.pageData.level_amount) {\n        this.$bus.$emit('tip', {\n          text: `${this.$t('innov.surplusExchangeAmount')}:${this.pageData.level_amount}`,\n          type: 'error',\n        });\n\n        return;\n      }\n      // 判断如果没有谷歌验证 没有手机验证  没有邮箱验证 或者 没有绑定邮箱的时候提示去绑定手机号或者谷歌\n      if (\n        this.googleStatus !== 1\n        && this.isOpenMobileCheck !== 1\n        && (!this.pageData.email_validate_open || !this.emailAuthOpen)\n      ) {\n        this.$bus.$emit('tip', {\n          text: this.$t('innov.binding'),\n          type: 'error',\n        });\n\n        return;\n      }\n\n      // 谷歌强制认证开启的时候 判断有没有谷歌没有的话 提示去绑定\n      if (this.googleStatus !== 1 && this.enforceGoogleAuth) {\n        this.$bus.$emit('tip', {\n          text: this.$t('assets.withdraw.bindGoogle'),\n          type: 'error',\n        });\n\n        return;\n      }\n\n      if (this.verificationType === '2') {\n        this.captchaObj.verify();\n      } else {\n        this.dialogFlag = true;\n      }\n    },\n    inputChanges(value, name) {\n      this[name] = value;\n    },\n    formatTimeFn(date) {\n      return formatTime(date);\n    },\n    // 关闭弹窗\n    dialogClose() {\n      this.dialogFlag = false;\n      this.checkValue = '';\n      this.googleVlaue = '';\n      this.emailCheckValue = '';\n    },\n    // 发送验证码组件点击button\n    getCodeClick() {\n      this.sendCode();\n    },\n    postEmailCode() {\n      // this.$bus.$emit('getCode-start', 'EmailCode');\n      const info = { operationType: 21 };\n      this.$store.dispatch('sendEmailCode', info);\n    },\n    // 发送验证码\n    sendCode() {\n      this.axios({\n        url: 'v4/common/smsValidCode',\n        method: 'post',\n        header: {},\n        params: {\n          operationType: 28,\n        },\n      })\n        .then((data) => {\n          if (data.code.toString() !== '0') {\n            // 倒计时重置\n            this.$bus.$emit('getCode-clear', 'loginGetcode');\n            // tip框提示错误\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\n          } else {\n            // 邮件已发送，请注意查收\n            this.$bus.$emit('tip', {\n              text: '验证码已发送，请注意查收',\n              type: 'success',\n            });\n          }\n        })\n        .catch(() => {\n\n        });\n    },\n    dialogConfirm() {\n      if (this.dbclick) {\n        let params = {\n          verificationType: this.verificationType,\n          amount: this.amount,\n          projectId: this.pageData.id,\n          smsValidCode: this.checkValue,\n          googleCode: this.googleVlaue,\n          symbol: this.pageData.coinSymbol,\n          percent: this.pageData.speed,\n          emailValidCode: this.emailCheckValue,\n        };\n        if (this.verificationType === '2') {\n          params = Object.assign(params, this.verifyObj);\n        }\n        this.dbclick = false;\n        this.axios({\n          url: this.$store.state.url.common.newcoin_purchase,\n          headers: {},\n          params,\n          method: 'post',\n        }).then((data) => {\n          this.dialogClose();\n          this.dbclick = true;\n          if (data.code.toString() === '0') {\n            // '申购成功，募集完成后可获得项目Token'\n            this.amount = '';\n            this.$bus.$emit('tip', {\n              text: this.$t('innov.token'),\n              type: 'success',\n            });\n            window.location.reload();\n          } else {\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\n          }\n        });\n      }\n    },\n    // 请求数据\n    getData() {\n      this.axios({\n        url: this.$store.state.url.common.newcoin_project_detail,\n        params: {\n          projectId: Number(this.pageId),\n        },\n        method: 'post',\n      }).then((data) => {\n        if (data.code === '0') {\n          const { status } = data.data;\n          if (status === 0 || status === 1 || status === 7) {\n            this.$router.replace('/innovation');\n          }\n          // data.data.email_validate_open = 0;\n          this.pageData = data.data;\n          this.bannerImg = data.data.banner;\n        }\n      });\n    },\n    // goTrade\n    goTrade() {\n      this.$router.push('/trade');\n    },\n  },\n};\n"]}]}