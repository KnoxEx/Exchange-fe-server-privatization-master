{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/home/market/market.js","dependencies":[{"path":"/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/home/market/market.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport _toConsumableArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { myStorage } from '@/utils';\nexport default {\n  name: 'Market',\n  data: function data() {\n    return {\n      // 滚动条配置\n      ops: {\n        rail: {\n          gutterOfSide: '0px'\n        }\n      },\n      // 筛选 货币对\n      listfilter: null,\n      // 表格加载LOADING\n      tableLoading: true,\n      // 表格 超过 20条出现滚动条\n      lineNumber: 15,\n      // 表头 Class\n      headClasses: 'c-3-bg',\n      bodyClasses: 'c-4-bg',\n      klineDataList: {},\n      marketDataObj: [],\n      marketDataList: [],\n      marketDataList_bar: [],\n      marketCurrent: null,\n      MainAreaFilter: [],\n      // 主区币种\n      CreateAreaFilter: [],\n      // 创新区币种\n      SeeAreaFilter: [],\n      // 观察区币种\n      hideAreaFilter: [],\n      // 隐藏区币种,\n      unsealAreaFilter: [],\n      // 解封区币种\n      halveAreaFilter: [],\n      // 减半区币种\n      MainAreaData: [],\n      hideAreaData: [],\n      CreateAreaData: [],\n      SeeAreaData: [],\n      unsealAreaData: [],\n      halveAreaData: [],\n      sortValue: 'sort',\n      // 排序类型\n      sortSell: false,\n      // 排序方向 true-正序 false-倒序\n      hoverIndex: null,\n      coAreaData: [],\n      coTypeList: [],\n      usdtHeaderFlag: false,\n      usdHeaderFlag: false\n    };\n  },\n  props: {\n    dataList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  filters: {\n    sortIcon: function sortIcon(v, sortValue, sortSell) {\n      var str = '#icon-a_17';\n\n      if (v === sortValue) {\n        if (sortSell) {\n          str = '#icon-a_17_1';\n        } else {\n          str = '#icon-a_17_2';\n        }\n      }\n\n      return str;\n    }\n  },\n  computed: {\n    linkurl: function linkurl() {\n      if (this.$store.state.baseData.publicInfo) {\n        return this.$store.state.baseData.publicInfo.url;\n      }\n\n      return {};\n    },\n    isCoOpen: function isCoOpen() {\n      var base = this.$store.state.baseData.publicInfo;\n\n      if (base && base.switch && base.switch.indep_co_switch === '1') {\n        return true;\n      }\n\n      return false;\n    },\n    index_international_open: function index_international_open() {\n      return this.$store.state.baseData.index_international_open;\n    },\n    dataLength: function dataLength() {\n      var _this = this;\n\n      var len = 0;\n      this.tableData.forEach(function (item) {\n        if (_this.tableData.length > 1) {\n          len += 1;\n        }\n\n        item.data.forEach(function () {\n          len += 1;\n        });\n      });\n      return len;\n    },\n    tableHeight: function tableHeight() {\n      var h = 300;\n      var spk = 30; // 条数\n\n      if (this.dataLength > 5 && this.dataLength < spk) {\n        h = 56 * this.dataLength;\n      } else if (this.dataLength >= spk) {\n        h = 56 * spk;\n      }\n\n      return h;\n    },\n    tableData: function tableData() {\n      var _this2 = this;\n\n      var arr = [];\n      var result = [];\n      var coResult = [];\n      var coArr = [];\n\n      if (this.halveAreaData.length) {\n        var data = this.dataSort(this.halveAreaData);\n        arr.push({\n          title: this.$t('trade.halving'),\n          titleIndex: 0,\n          data: data\n        });\n      }\n\n      if (this.MainAreaData.length) {\n        var _data = this.dataSort(this.MainAreaData);\n\n        arr.push({\n          title: this.$t('trade.maincon'),\n          data: _data\n        });\n      }\n\n      if (this.CreateAreaData.length) {\n        var _data2 = this.dataSort(this.CreateAreaData);\n\n        arr.push({\n          title: this.$t('trade.newcon'),\n          data: _data2\n        });\n      }\n\n      if (this.SeeAreaData.length) {\n        var _data3 = this.dataSort(this.SeeAreaData);\n\n        arr.push({\n          title: this.$t('trade.seecon'),\n          data: _data3\n        });\n      }\n\n      if (this.unsealAreaData.length) {\n        var _data4 = this.dataSort(this.unsealAreaData);\n\n        arr.push({\n          title: this.$t('trade.unseal'),\n          data: _data4\n        });\n      }\n\n      if (this.coAreaData.length) {\n        var _data5 = this.dataSort(this.coAreaData);\n\n        coArr.push({\n          title: this.$t('trade.unseal'),\n          data: _data5\n        });\n        coArr.forEach(function (el) {\n          var item = el;\n          var datas = el.data.filter(function (e) {\n            return e.isShow || _this2.listfilter || _this2.marketCurrent === 'USDT';\n          });\n\n          if (datas.length) {\n            item.data = datas;\n            var newItem = item;\n            coResult.push(newItem);\n          }\n        });\n      }\n\n      arr.forEach(function (el) {\n        var item = el;\n        var data = el.data.filter(function (e) {\n          return e.isShow || _this2.listfilter || _this2.marketCurrent === 'myMarket';\n        });\n\n        if (data.length) {\n          item.data = data;\n          var newItem = item;\n          item.data.forEach(function (citem, index) {\n            newItem.data[index].etfOpen = _this2.symbolAll[citem.id].etfOpen; // citem.etfOpen\n          });\n          result.push(newItem);\n        }\n      });\n\n      if (this.isCoOpen) {\n        return coResult;\n      }\n\n      return result;\n    },\n    // 表头\n    columns: function columns() {\n      return [{\n        title: this.$t('home.market'),\n        // 市场\n        key: 'sort',\n        sortable: !this.isCoOpen\n      }, {\n        title: this.$t('home.close'),\n        // 最新价\n        key: 'closes',\n        sortable: true\n      }, {\n        title: this.$t('home.applies'),\n        // 涨跌幅\n        key: 'roses',\n        sortable: true\n      }, {\n        title: this.$t('home.height') // 最高价\n\n      }, {\n        title: this.$t('home.low') // 最低价\n\n      }, {\n        title: this.isCoOpen ? \"\".concat(this.$t('home.H_volume'), \"(\").concat(this.$t('common.zhang'), \")\") : this.$t('home.H_volume') // 24H成交量\n\n      }, {\n        title: this.isCoOpen ? \"\".concat(this.$t('home.H_coNumber'), \"(\").concat(this.$t('common.zhang'), \")\") : this.$t('home.H_turnover') // 持仓量\n\n      }];\n    },\n    // 全部市场\n    marketAllList: function marketAllList() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.marketSort;\n      }\n\n      return [];\n    },\n    // 全部市场\n    coMmarketAllList: function coMmarketAllList() {\n      var _this3 = this;\n\n      var data = [];\n\n      if (this.usdtHeaderFlag) {\n        data.push(1);\n      }\n\n      if (this.usdHeaderFlag) {\n        data.push(2);\n      }\n\n      var arr = [];\n\n      if (data && data.length) {\n        data.forEach(function (ele) {\n          var obj = {};\n\n          if (Number(ele) === 1) {\n            obj.type = 'USDT';\n            obj.name = _this3.$t('home.tab_USDT');\n          }\n\n          if (Number(ele) === 2) {\n            obj.type = 'USD';\n            obj.name = _this3.$t('home.tab_USD');\n          }\n\n          arr.push(obj);\n        });\n        myStorage.set('homeMarkTitle', arr[0].type);\n      }\n\n      return arr;\n    },\n    // market\n    market: function market() {\n      if (this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.market;\n      }\n\n      return {};\n    },\n    // 全部币对列表\n    symbolAll: function symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    // 全部币种列表\n    coinList: function coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    }\n  },\n  watch: {\n    market: function market(v) {\n      if (Object.keys(v).length) {\n        this.filterArea();\n      }\n    },\n    listfilter: function listfilter(val) {\n      var data = this.marketDataList_bar;\n\n      if (val) {\n        var reg = new RegExp(val, 'gim');\n        data = this.marketDataList_bar.filter(function (item) {\n          return item.showName.match(reg);\n        });\n      }\n\n      this.setData(data, true);\n    },\n    dataList: function dataList(val) {\n      this.tableLoading = false;\n      this.marketDataList_bar = val;\n      var data = val;\n\n      if (this.listfilter) {\n        var reg = new RegExp(this.listfilter, 'gim');\n        data = this.marketDataList_bar.filter(function (item) {\n          return item.showName.match(reg);\n        });\n      }\n\n      this.setData(data);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  methods: {\n    init: function init() {\n      var _this4 = this;\n\n      this.marketCurrent = myStorage.get('homeMarkTitle');\n\n      if (Object.keys(this.market).length) {\n        this.filterArea();\n      } // 监听交易区\n\n\n      this.$bus.$on('COMARGET_SWITCH', function (data) {\n        if (data === 'USDT') {\n          _this4.usdtHeaderFlag = true;\n        }\n\n        if (data === 'USD') {\n          _this4.usdHeaderFlag = true;\n        }\n      });\n    },\n    enter: function enter(index) {\n      this.hoverIndex = index;\n    },\n    leave: function leave() {\n      this.hoverIndex = null;\n    },\n    lineClassesH: function lineClassesH(index) {\n      if (index === this.hoverIndex) {\n        return 'c-3-bg';\n      }\n\n      return 'c-4-bg';\n    },\n    dataSort: function dataSort(v) {\n      var _this5 = this;\n\n      if (this.sortValue.length) {\n        return v.sort(function (a, b) {\n          var first = a;\n          var end = b;\n\n          if (_this5.sortSell) {\n            first = b;\n            end = a;\n          }\n\n          switch (_this5.sortValue) {\n            case 'roses':\n              return (parseFloat(first.data[2][0].sortVal) || 0) - (parseFloat(end.data[2][0].sortVal) || 0);\n\n            case 'closes':\n              return (parseFloat(first.data[1][0].sortVal) || 0) - (parseFloat(end.data[1][0].sortVal) || 0);\n\n            default:\n              return (parseFloat(first.data[0][1].sortVal) || 0) - (parseFloat(end.data[0][1].sortVal) || 0);\n          }\n        });\n      }\n\n      return v;\n    },\n    sort: function sort(v) {\n      if (this.tableLoading) return;\n      if (!v.sortable) return;\n\n      if (this.sortValue !== v.key) {\n        this.sortValue = v.key;\n        this.sortSell = true;\n      } else {\n        this.sortSell = !this.sortSell;\n      }\n    },\n    setData: function setData(val) {\n      var _this6 = this;\n\n      var isSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.isCoOpen) {\n        var MainArea = []; // 主区\n\n        var CreateArea = []; // 创新区\n\n        var SeeArea = []; // 观察区\n\n        var hideArea = []; // 隐藏区\n\n        var unsealArea = []; // 解封区\n\n        var halveArea = []; // 减半区\n\n        val.forEach(function (item) {\n          if (_this6.MainAreaFilter.indexOf(item.id) !== -1) {\n            MainArea.push(item);\n          }\n\n          if (_this6.CreateAreaFilter.indexOf(item.id) !== -1) {\n            CreateArea.push(item);\n          }\n\n          if (_this6.SeeAreaFilter.indexOf(item.id) !== -1) {\n            SeeArea.push(item);\n          }\n\n          if (_this6.hideAreaFilter.indexOf(item.id) !== -1) {\n            hideArea.push(item);\n          }\n\n          if (_this6.unsealAreaFilter.indexOf(item.id) !== -1 && !isSearch) {\n            unsealArea.push(item);\n          }\n\n          if (_this6.halveAreaFilter.indexOf(item.id) !== -1) {\n            halveArea.push(item);\n          }\n        });\n        this.MainAreaData = MainArea;\n        this.CreateAreaData = CreateArea;\n        this.SeeAreaData = SeeArea;\n        this.hideAreaData = hideArea;\n        this.unsealAreaData = unsealArea;\n        this.halveAreaData = halveArea;\n      } else {\n        this.coAreaData = _toConsumableArray(val);\n      }\n    },\n    filterArea: function filterArea() {\n      var _this7 = this;\n\n      var MainAreaFilter = []; // 主区币种\n\n      var CreateAreaFilter = []; // 创新区币种\n\n      var SeeAreaFilter = []; // 观察区币种\n\n      var hideAreaFilter = []; // 隐藏区币种\n\n      var unsealAreaFilter = []; // 解封区币种\n\n      var halveAreaFilter = []; // 减半区币种\n\n      Object.keys(this.market).forEach(function (item) {\n        Object.keys(_this7.market[item]).forEach(function (citem) {\n          var _this7$market$item$ci = _this7.market[item][citem],\n              newcoinFlag = _this7$market$item$ci.newcoinFlag,\n              name = _this7$market$item$ci.name; // 解封区\n\n          if (_this7.coinList[name.split('/')[0]] && _this7.coinList[name.split('/')[0]].isOvercharge && _this7.coinList[name.split('/')[0]].isOvercharge.toString() === '1') {\n            unsealAreaFilter.push(citem);\n          } else if (newcoinFlag === 1) {\n            // 创新区\n            CreateAreaFilter.push(citem); // 观察区\n          } else if (newcoinFlag === 2) {\n            SeeAreaFilter.push(citem);\n          } else if (newcoinFlag === 0) {\n            MainAreaFilter.push(citem);\n          } else if (newcoinFlag === 3) {\n            halveAreaFilter.push(citem);\n          }\n        });\n      });\n      this.MainAreaFilter = MainAreaFilter;\n      this.CreateAreaFilter = CreateAreaFilter;\n      this.SeeAreaFilter = SeeAreaFilter;\n      this.hideAreaFilter = hideAreaFilter;\n      this.unsealAreaFilter = unsealAreaFilter;\n      this.halveAreaFilter = halveAreaFilter;\n    },\n    marketClick: function marketClick(symbol) {\n      this.$bus.$emit('SWITCH-STORE', symbol);\n    },\n    // 切换市场\n    switchMarket: function switchMarket(data) {\n      if (this.tableLoading) return;\n      this.listfilter = null;\n      this.marketCurrent = this.isCoOpen ? data.type : data;\n      this.tableLoading = true;\n\n      if (data !== 'myMarket' && !this.isCoOpen) {\n        myStorage.set('homeMarkTitle', data);\n      }\n\n      if (this.isCoOpen) {\n        myStorage.set('homeMarkTitle', data.type);\n      }\n\n      this.$bus.$emit('SWITCH-MARKET', data);\n    },\n    bandLink: function bandLink(data, etfOpen) {\n      if (this.isCoOpen) {\n        var coUrl = this.linkurl.coUrl ? \"\".concat(this.linkurl.coUrl, \"/trade/\").concat(data) : '';\n        window.location.href = coUrl;\n        return;\n      }\n\n      myStorage.set('sSymbolName', data);\n\n      if (etfOpen) {\n        myStorage.set('markTitle', 'ETF');\n      } else {\n        myStorage.set('markTitle', data.split('/')[1]);\n      }\n\n      this.$router.push('/trade'); // this.$router.push(`/trade/${data.replace('/', '_')}`);\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/home/market/market.js"],"names":["myStorage","name","data","ops","rail","gutterOfSide","listfilter","tableLoading","lineNumber","headClasses","bodyClasses","klineDataList","marketDataObj","marketDataList","marketDataList_bar","marketCurrent","MainAreaFilter","CreateAreaFilter","SeeAreaFilter","hideAreaFilter","unsealAreaFilter","halveAreaFilter","MainAreaData","hideAreaData","CreateAreaData","SeeAreaData","unsealAreaData","halveAreaData","sortValue","sortSell","hoverIndex","coAreaData","coTypeList","usdtHeaderFlag","usdHeaderFlag","props","dataList","type","Array","default","filters","sortIcon","v","str","computed","linkurl","$store","state","baseData","publicInfo","url","isCoOpen","base","switch","indep_co_switch","index_international_open","dataLength","len","tableData","forEach","item","length","tableHeight","h","spk","arr","result","coResult","coArr","dataSort","push","title","$t","titleIndex","el","datas","filter","e","isShow","newItem","citem","index","etfOpen","symbolAll","id","columns","key","sortable","marketAllList","market","marketSort","coMmarketAllList","ele","obj","Number","set","coinList","watch","Object","keys","filterArea","val","reg","RegExp","showName","match","setData","beforeDestroy","clearInterval","timer","methods","init","get","$bus","$on","enter","leave","lineClassesH","sort","a","b","first","end","parseFloat","sortVal","isSearch","MainArea","CreateArea","SeeArea","hideArea","unsealArea","halveArea","indexOf","newcoinFlag","split","isOvercharge","toString","marketClick","symbol","$emit","switchMarket","bandLink","coUrl","window","location","href","$router"],"mappings":"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","sourcesContent":["import { myStorage } from '@/utils';\r\n\r\nexport default {\r\n  name: 'Market',\r\n  data() {\r\n    return {\r\n      // 滚动条配置\r\n      ops: {\r\n        rail: {\r\n          gutterOfSide: '0px',\r\n        },\r\n      },\r\n      // 筛选 货币对\r\n      listfilter: null,\r\n      // 表格加载LOADING\r\n      tableLoading: true,\r\n      // 表格 超过 20条出现滚动条\r\n      lineNumber: 15,\r\n      // 表头 Class\r\n      headClasses: 'c-3-bg',\r\n      bodyClasses: 'c-4-bg',\r\n      klineDataList: {},\r\n      marketDataObj: [],\r\n      marketDataList: [],\r\n      marketDataList_bar: [],\r\n      marketCurrent: null,\r\n      MainAreaFilter: [], // 主区币种\r\n      CreateAreaFilter: [], // 创新区币种\r\n      SeeAreaFilter: [], // 观察区币种\r\n      hideAreaFilter: [], // 隐藏区币种,\r\n      unsealAreaFilter: [], // 解封区币种\r\n      halveAreaFilter: [], // 减半区币种\r\n      MainAreaData: [],\r\n      hideAreaData: [],\r\n      CreateAreaData: [],\r\n      SeeAreaData: [],\r\n      unsealAreaData: [],\r\n      halveAreaData: [],\r\n      sortValue: 'sort', // 排序类型\r\n      sortSell: false, // 排序方向 true-正序 false-倒序\r\n      hoverIndex: null,\r\n      coAreaData: [],\r\n      coTypeList: [],\r\n      usdtHeaderFlag: false,\r\n      usdHeaderFlag: false,\r\n    };\r\n  },\r\n  props: {\r\n    dataList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  filters: {\r\n    sortIcon(v, sortValue, sortSell) {\r\n      let str = '#icon-a_17';\r\n      if (v === sortValue) {\r\n        if (sortSell) {\r\n          str = '#icon-a_17_1';\r\n        } else {\r\n          str = '#icon-a_17_2';\r\n        }\r\n      }\r\n      return str;\r\n    },\r\n  },\r\n  computed: {\r\n    linkurl() {\r\n      if (this.$store.state.baseData.publicInfo) {\r\n        return this.$store.state.baseData.publicInfo.url;\r\n      }\r\n      return {};\r\n    },\r\n    isCoOpen() {\r\n      const base = this.$store.state.baseData.publicInfo;\r\n      if (base && base.switch && base.switch.indep_co_switch === '1') {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    index_international_open() {\r\n      return this.$store.state.baseData.index_international_open;\r\n    },\r\n    dataLength() {\r\n      let len = 0;\r\n      this.tableData.forEach((item) => {\r\n        if (this.tableData.length > 1) {\r\n          len += 1;\r\n        }\r\n        item.data.forEach(() => {\r\n          len += 1;\r\n        });\r\n      });\r\n      return len;\r\n    },\r\n    tableHeight() {\r\n      let h = 300;\r\n      const spk = 30; // 条数\r\n      if (this.dataLength > 5 && this.dataLength < spk) {\r\n        h = 56 * this.dataLength;\r\n      } else if (this.dataLength >= spk) {\r\n        h = 56 * spk;\r\n      }\r\n      return h;\r\n    },\r\n    tableData() {\r\n      const arr = [];\r\n      const result = [];\r\n      const coResult = [];\r\n      const coArr = [];\r\n      if (this.halveAreaData.length) {\r\n        const data = this.dataSort(this.halveAreaData);\r\n        arr.push({\r\n          title: this.$t('trade.halving'),\r\n          titleIndex: 0,\r\n          data,\r\n        });\r\n      }\r\n      if (this.MainAreaData.length) {\r\n        const data = this.dataSort(this.MainAreaData);\r\n        arr.push({\r\n          title: this.$t('trade.maincon'),\r\n          data,\r\n        });\r\n      }\r\n      if (this.CreateAreaData.length) {\r\n        const data = this.dataSort(this.CreateAreaData);\r\n        arr.push({\r\n          title: this.$t('trade.newcon'),\r\n          data,\r\n        });\r\n      }\r\n      if (this.SeeAreaData.length) {\r\n        const data = this.dataSort(this.SeeAreaData);\r\n        arr.push({\r\n          title: this.$t('trade.seecon'),\r\n          data,\r\n        });\r\n      }\r\n      if (this.unsealAreaData.length) {\r\n        const data = this.dataSort(this.unsealAreaData);\r\n        arr.push({\r\n          title: this.$t('trade.unseal'),\r\n          data,\r\n        });\r\n      }\r\n      if (this.coAreaData.length) {\r\n        const data = this.dataSort(this.coAreaData);\r\n        coArr.push({\r\n          title: this.$t('trade.unseal'),\r\n          data,\r\n        });\r\n        coArr.forEach((el) => {\r\n          const item = el;\r\n          const datas = el.data.filter((e) => e.isShow || this.listfilter || this.marketCurrent === 'USDT');\r\n          if (datas.length) {\r\n            item.data = datas;\r\n            const newItem = item;\r\n            coResult.push(newItem);\r\n          }\r\n        });\r\n      }\r\n      arr.forEach((el) => {\r\n        const item = el;\r\n        const data = el.data.filter((e) => e.isShow || this.listfilter || this.marketCurrent === 'myMarket');\r\n\r\n        if (data.length) {\r\n          item.data = data;\r\n          const newItem = item;\r\n          item.data.forEach((citem, index) => {\r\n            newItem.data[index].etfOpen = this.symbolAll[citem.id].etfOpen;\r\n            // citem.etfOpen\r\n          });\r\n          result.push(newItem);\r\n        }\r\n      });\r\n      if (this.isCoOpen) {\r\n        return coResult;\r\n      }\r\n      return result;\r\n    },\r\n    // 表头\r\n    columns() {\r\n      return [\r\n        {\r\n          title: this.$t('home.market'), // 市场\r\n          key: 'sort',\r\n          sortable: !this.isCoOpen,\r\n        },\r\n        {\r\n          title: this.$t('home.close'), // 最新价\r\n          key: 'closes',\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: this.$t('home.applies'), // 涨跌幅\r\n          key: 'roses',\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: this.$t('home.height'), // 最高价\r\n        },\r\n        {\r\n          title: this.$t('home.low'), // 最低价\r\n        },\r\n        {\r\n          title: this.isCoOpen ? `${this.$t('home.H_volume')}(${this.$t('common.zhang')})` : this.$t('home.H_volume'), // 24H成交量\r\n        },\r\n        {\r\n          title: this.isCoOpen ? `${this.$t('home.H_coNumber')}(${this.$t('common.zhang')})` : this.$t('home.H_turnover'), // 持仓量\r\n        },\r\n      ];\r\n    },\r\n    // 全部市场\r\n    marketAllList() {\r\n      if (this.$store.state.baseData.market) {\r\n        return this.$store.state.baseData.market.marketSort;\r\n      }\r\n      return [];\r\n    },\r\n    // 全部市场\r\n    coMmarketAllList() {\r\n      const data = [];\r\n      if (this.usdtHeaderFlag) {\r\n        data.push(1);\r\n      }\r\n      if (this.usdHeaderFlag) {\r\n        data.push(2);\r\n      }\r\n      const arr = [];\r\n      if (data && data.length) {\r\n        data.forEach((ele) => {\r\n          const obj = {};\r\n          if (Number(ele) === 1) {\r\n            obj.type = 'USDT';\r\n            obj.name = this.$t('home.tab_USDT');\r\n          }\r\n          if (Number(ele) === 2) {\r\n            obj.type = 'USD';\r\n            obj.name = this.$t('home.tab_USD');\r\n          }\r\n          arr.push(obj);\r\n        });\r\n        myStorage.set('homeMarkTitle', arr[0].type);\r\n      }\r\n      return arr;\r\n    },\r\n    // market\r\n    market() {\r\n      if (this.$store.state.baseData.market) {\r\n        return this.$store.state.baseData.market.market;\r\n      }\r\n      return {};\r\n    },\r\n    // 全部币对列表\r\n    symbolAll() {\r\n      return this.$store.state.baseData.symbolAll;\r\n    },\r\n    // 全部币种列表\r\n    coinList() {\r\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\r\n        return this.$store.state.baseData.market.coinList;\r\n      }\r\n      return null;\r\n    },\r\n  },\r\n  watch: {\r\n    market(v) {\r\n      if (Object.keys(v).length) {\r\n        this.filterArea();\r\n      }\r\n    },\r\n    listfilter(val) {\r\n      let data = this.marketDataList_bar;\r\n      if (val) {\r\n        const reg = new RegExp(val, 'gim');\r\n        data = this.marketDataList_bar.filter((item) => item.showName.match(reg));\r\n      }\r\n      this.setData(data, true);\r\n    },\r\n    dataList(val) {\r\n      this.tableLoading = false;\r\n      this.marketDataList_bar = val;\r\n      let data = val;\r\n      if (this.listfilter) {\r\n        const reg = new RegExp(this.listfilter, 'gim');\r\n        data = this.marketDataList_bar.filter((item) => item.showName.match(reg));\r\n      }\r\n      this.setData(data);\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.marketCurrent = myStorage.get('homeMarkTitle');\r\n      if (Object.keys(this.market).length) {\r\n        this.filterArea();\r\n      }\r\n      // 监听交易区\r\n      this.$bus.$on('COMARGET_SWITCH', (data) => {\r\n        if (data === 'USDT') {\r\n          this.usdtHeaderFlag = true;\r\n        }\r\n        if (data === 'USD') {\r\n          this.usdHeaderFlag = true;\r\n        }\r\n      });\r\n    },\r\n    enter(index) {\r\n      this.hoverIndex = index;\r\n    },\r\n    leave() {\r\n      this.hoverIndex = null;\r\n    },\r\n    lineClassesH(index) {\r\n      if (index === this.hoverIndex) {\r\n        return 'c-3-bg';\r\n      }\r\n      return 'c-4-bg';\r\n    },\r\n    dataSort(v) {\r\n      if (this.sortValue.length) {\r\n        return v.sort((a, b) => {\r\n          let first = a;\r\n          let end = b;\r\n          if (this.sortSell) {\r\n            first = b;\r\n            end = a;\r\n          }\r\n          switch (this.sortValue) {\r\n            case 'roses':\r\n              return (parseFloat(first.data[2][0].sortVal) || 0)\r\n                - (parseFloat(end.data[2][0].sortVal) || 0);\r\n            case 'closes':\r\n              return (parseFloat(first.data[1][0].sortVal) || 0)\r\n                - (parseFloat(end.data[1][0].sortVal) || 0);\r\n            default:\r\n              return (parseFloat(first.data[0][1].sortVal) || 0)\r\n                - (parseFloat(end.data[0][1].sortVal) || 0);\r\n          }\r\n        });\r\n      }\r\n      return v;\r\n    },\r\n    sort(v) {\r\n      if (this.tableLoading) return;\r\n      if (!v.sortable) return;\r\n      if (this.sortValue !== v.key) {\r\n        this.sortValue = v.key;\r\n        this.sortSell = true;\r\n      } else {\r\n        this.sortSell = !this.sortSell;\r\n      }\r\n    },\r\n    setData(val, isSearch = false) {\r\n      if (!this.isCoOpen) {\r\n        const MainArea = []; // 主区\r\n        const CreateArea = []; // 创新区\r\n        const SeeArea = []; // 观察区\r\n        const hideArea = []; // 隐藏区\r\n        const unsealArea = []; // 解封区\r\n        const halveArea = []; // 减半区\r\n        val.forEach((item) => {\r\n          if (this.MainAreaFilter.indexOf(item.id) !== -1) {\r\n            MainArea.push(item);\r\n          }\r\n          if (this.CreateAreaFilter.indexOf(item.id) !== -1) {\r\n            CreateArea.push(item);\r\n          }\r\n          if (this.SeeAreaFilter.indexOf(item.id) !== -1) {\r\n            SeeArea.push(item);\r\n          }\r\n          if (this.hideAreaFilter.indexOf(item.id) !== -1) {\r\n            hideArea.push(item);\r\n          }\r\n          if (this.unsealAreaFilter.indexOf(item.id) !== -1 && !isSearch) {\r\n            unsealArea.push(item);\r\n          }\r\n          if (this.halveAreaFilter.indexOf(item.id) !== -1) {\r\n            halveArea.push(item);\r\n          }\r\n        });\r\n        this.MainAreaData = MainArea;\r\n        this.CreateAreaData = CreateArea;\r\n        this.SeeAreaData = SeeArea;\r\n        this.hideAreaData = hideArea;\r\n        this.unsealAreaData = unsealArea;\r\n        this.halveAreaData = halveArea;\r\n      } else {\r\n        this.coAreaData = [...val];\r\n      }\r\n    },\r\n    filterArea() {\r\n      const MainAreaFilter = []; // 主区币种\r\n      const CreateAreaFilter = []; // 创新区币种\r\n      const SeeAreaFilter = []; // 观察区币种\r\n      const hideAreaFilter = []; // 隐藏区币种\r\n      const unsealAreaFilter = []; // 解封区币种\r\n      const halveAreaFilter = []; // 减半区币种\r\n      Object.keys(this.market).forEach((item) => {\r\n        Object.keys(this.market[item]).forEach((citem) => {\r\n          const { newcoinFlag, name } = this.market[item][citem];\r\n          // 解封区\r\n          if (this.coinList[name.split('/')[0]]\r\n              && this.coinList[name.split('/')[0]].isOvercharge\r\n              && this.coinList[name.split('/')[0]].isOvercharge.toString() === '1') {\r\n            unsealAreaFilter.push(citem);\r\n          } else if (newcoinFlag === 1) {\r\n            // 创新区\r\n            CreateAreaFilter.push(citem);\r\n            // 观察区\r\n          } else if (newcoinFlag === 2) {\r\n            SeeAreaFilter.push(citem);\r\n          } else if (newcoinFlag === 0) {\r\n            MainAreaFilter.push(citem);\r\n          } else if (newcoinFlag === 3) {\r\n            halveAreaFilter.push(citem);\r\n          }\r\n        });\r\n      });\r\n      this.MainAreaFilter = MainAreaFilter;\r\n      this.CreateAreaFilter = CreateAreaFilter;\r\n      this.SeeAreaFilter = SeeAreaFilter;\r\n      this.hideAreaFilter = hideAreaFilter;\r\n      this.unsealAreaFilter = unsealAreaFilter;\r\n      this.halveAreaFilter = halveAreaFilter;\r\n    },\r\n    marketClick(symbol) {\r\n      this.$bus.$emit('SWITCH-STORE', symbol);\r\n    },\r\n    // 切换市场\r\n    switchMarket(data) {\r\n      if (this.tableLoading) return;\r\n      this.listfilter = null;\r\n      this.marketCurrent = this.isCoOpen ? data.type : data;\r\n      this.tableLoading = true;\r\n      if (data !== 'myMarket' && !this.isCoOpen) {\r\n        myStorage.set('homeMarkTitle', data);\r\n      }\r\n      if (this.isCoOpen) {\r\n        myStorage.set('homeMarkTitle', data.type);\r\n      }\r\n      this.$bus.$emit('SWITCH-MARKET', data);\r\n    },\r\n    bandLink(data, etfOpen) {\r\n      if (this.isCoOpen) {\r\n        const coUrl = this.linkurl.coUrl ? `${this.linkurl.coUrl}/trade/${data}` : '';\r\n        window.location.href = coUrl;\r\n        return;\r\n      }\r\n      myStorage.set('sSymbolName', data);\r\n      if (etfOpen) {\r\n        myStorage.set('markTitle', 'ETF');\r\n      } else {\r\n        myStorage.set('markTitle', data.split('/')[1]);\r\n      }\r\n      this.$router.push('/trade');\r\n      // this.$router.push(`/trade/${data.replace('/', '_')}`);\r\n    },\r\n  },\r\n};\r\n"]}]}