{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/assets/b2cAddressMent/b2cAddressMent.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/assets/b2cAddressMent/b2cAddressMent.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { imgMap, colorMap } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      delFlag: false,\n      confirmLoading: false,\n      tabelLoading: true,\n      dialogConfirmLoading: false,\n      // 弹窗按钮确认loading状态\n      tableList: [],\n      dialogStatus: '',\n      // 弹窗状态 add 为增加 del 为删除\n      deleteObj: {},\n      // 删除的地址 对象\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      },\n      bankObj: {},\n      delId: ''\n    };\n  },\n  computed: {\n    paginationObjCurrentPage: function paginationObjCurrentPage() {\n      return this.paginationObj.currentPage;\n    },\n    enforceGoogleAuth: function enforceGoogleAuth() {\n      return this.$store.state.baseData.is_enforce_google_auth || 0;\n    },\n    // 表格title\n    columns: function columns() {\n      return [{\n        title: this.$t('assets.addressMent.listCoin'),\n        width: '15%'\n      }, // 币种\n      {\n        title: this.$t('assets.b2c.payType'),\n        width: '15%'\n      }, // 支付方式\n      {\n        title: this.$t('assets.b2c.address'),\n        width: '20%'\n      }, // 账户\n      {\n        title: this.$t('assets.b2c.addressUserName'),\n        width: '20%'\n      }, // 收款人\n      {\n        title: this.$t('assets.addressMent.listOptions'),\n        width: '30%'\n      } // 操作\n      ];\n    },\n    // 用户是否开启手机\n    OpenMobile: function OpenMobile() {\n      var flag = false;\n      var userInfo = this.$store.state.baseData.userInfo;\n\n      if (userInfo && userInfo.isOpenMobileCheck.toString() === '1') {\n        flag = true;\n      }\n\n      return flag;\n    },\n    // 用户是否开启谷歌\n    OpenGoogle: function OpenGoogle() {\n      var flag = false;\n      var userInfo = this.$store.state.baseData.userInfo;\n\n      if (userInfo && userInfo.googleStatus.toString() === '1') {\n        flag = true;\n      }\n\n      return flag;\n    },\n    // phoneValue 是否复合正则验证\n    phoneValueFlag: function phoneValueFlag() {\n      return this.$store.state.regExp.verification.test(this.phoneValue);\n    },\n    // googleValue 是否复合正则验证\n    googleValueFlag: function googleValueFlag() {\n      return this.$store.state.regExp.verification.test(this.googleValue);\n    },\n    phoneError: function phoneError() {\n      if (this.phoneValue.length !== 0 && !this.phoneValueFlag) return true;\n      return false;\n    },\n    googleError: function googleError() {\n      if (this.googleValue.length !== 0 && !this.googleValueFlag) return true;\n      return false;\n    },\n    // 弹窗确认按钮disabled\n    dialogConfirmDisabled: function dialogConfirmDisabled() {\n      var phone = true;\n      var google = true;\n\n      if (this.OpenMobile) {\n        phone = this.phoneValueFlag;\n      }\n\n      if (this.OpenGoogle) {\n        google = this.googleValueFlag;\n      }\n\n      if (phone && google || this.dialogConfirmLoading) {\n        return false;\n      }\n\n      return true;\n    }\n  },\n  watch: {\n    paginationObjCurrentPage: function paginationObjCurrentPage() {\n      this.getTableList();\n    }\n  },\n  methods: {\n    init: function init() {\n      // 如果没有 finance/account_balance 接口返回成功的数据\n      if (this.$route.query.symbol) {\n        this.symbol = this.$route.query.symbol.toUpperCase();\n      } else {\n        this.$router.push('/assets/b2cAccount');\n        return;\n      }\n\n      this.getBankList();\n    },\n    delClose: function delClose() {\n      this.delFlag = false;\n    },\n    delConfirm: function delConfirm() {\n      var _this = this;\n\n      this.confirmLoading = true;\n      this.axios({\n        url: '/user/bank/delete',\n        params: {\n          id: this.delId\n        }\n      }).then(function (data) {\n        _this.confirmLoading = false;\n\n        if (data.code.toString() === '0') {\n          _this.paginationObj.currentPage = 1;\n\n          _this.getTableList();\n\n          _this.delFlag = false;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    getBankList: function getBankList() {\n      var _this2 = this;\n\n      this.axios({\n        url: '/bank/all',\n        params: {\n          symbol: this.symbol\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          var obj = {};\n          data.data.forEach(function (item) {\n            obj[item.bankNo.toString()] = item.accountName;\n          });\n          _this2.bankObj = obj;\n\n          _this2.getTableList();\n        } else {\n          _this2.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n    },\n    addressBtnClick: function addressBtnClick() {\n      this.$router.push(\"/assets/b2cAdd?symbol=\".concat(this.symbol, \"&type=add\"));\n    },\n    tableClick: function tableClick(type, id) {\n      if (type === 'del') {\n        this.delId = id;\n        this.delFlag = true; // let even = {};\n        // this.tableList.forEach((item) => {\n        //   if (item.id === id) {\n        //     even = item;\n        //   }\n        // });\n        // this.deleteObj = even;\n        // this.dialogStatus = 'del';\n      }\n\n      if (type === 'set') {\n        this.$router.push(\"/assets/b2cAdd?symbol=\".concat(this.symbol, \"&type=set&id=\").concat(id));\n      }\n    },\n    getTableList: function getTableList() {\n      var _this3 = this;\n\n      this.axios({\n        url: 'user/bank/user_bank_list',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          symbol: this.symbol\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.list.forEach(function (item) {\n            list.push({\n              id: item.id,\n              data: [item.symbol, _this3.$t('assets.b2c.bankCard'), // '银行卡',\n              _this3.bankObj[item.bankNo], item.name, [// 编辑\n              {\n                type: 'button',\n                // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n                text: _this3.$t('assets.b2c.set'),\n                // 编辑\n                iconClass: [''],\n                eventType: 'set'\n              }, {\n                type: 'button',\n                // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n                text: _this3.$t('assets.addressMent.delete'),\n                // 删除\n                iconClass: [''],\n                eventType: 'del'\n              }]]\n            });\n          });\n          _this3.tabelLoading = false;\n          _this3.tableList = list;\n          _this3.paginationObj.total = data.data.count;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/assets/b2cAddressMent/b2cAddressMent.js"],"names":["imgMap","colorMap","data","delFlag","confirmLoading","tabelLoading","dialogConfirmLoading","tableList","dialogStatus","deleteObj","paginationObj","total","display","currentPage","bankObj","delId","computed","paginationObjCurrentPage","enforceGoogleAuth","$store","state","baseData","is_enforce_google_auth","columns","title","$t","width","OpenMobile","flag","userInfo","isOpenMobileCheck","toString","OpenGoogle","googleStatus","phoneValueFlag","regExp","verification","test","phoneValue","googleValueFlag","googleValue","phoneError","length","googleError","dialogConfirmDisabled","phone","google","watch","getTableList","methods","init","$route","query","symbol","toUpperCase","$router","push","getBankList","delClose","delConfirm","axios","url","params","id","then","code","$bus","$emit","text","msg","type","obj","forEach","item","bankNo","accountName","pagechange","v","addressBtnClick","tableClick","pageSize","page","list","name","iconClass","eventType","count"],"mappings":";;;AACA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,SAAjC;AAEA,eAAe;AACbC,EAAAA,IADa,kBACN;AACL,WAAO;AACLF,MAAAA,MAAM,EAANA,MADK;AAELC,MAAAA,QAAQ,EAARA,QAFK;AAGLE,MAAAA,OAAO,EAAE,KAHJ;AAILC,MAAAA,cAAc,EAAE,KAJX;AAKLC,MAAAA,YAAY,EAAE,IALT;AAMLC,MAAAA,oBAAoB,EAAE,KANjB;AAMwB;AAC7BC,MAAAA,SAAS,EAAE,EAPN;AAQLC,MAAAA,YAAY,EAAE,EART;AAQa;AAClBC,MAAAA,SAAS,EAAE,EATN;AASU;AACfC,MAAAA,aAAa,EAAE;AACbC,QAAAA,KAAK,EAAE,CADM;AACH;AACVC,QAAAA,OAAO,EAAE,EAFI;AAEA;AACbC,QAAAA,WAAW,EAAE,CAHA,CAGG;;AAHH,OAVV;AAeLC,MAAAA,OAAO,EAAE,EAfJ;AAgBLC,MAAAA,KAAK,EAAE;AAhBF,KAAP;AAkBD,GApBY;AAqBbC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,wBADQ,sCACmB;AAAE,aAAO,KAAKP,aAAL,CAAmBG,WAA1B;AAAwC,KAD7D;AAERK,IAAAA,iBAFQ,+BAEY;AAClB,aAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2BC,sBAA3B,IAAqD,CAA5D;AACD,KAJO;AAKR;AACAC,IAAAA,OANQ,qBAME;AACR,aAAO,CACL;AAAEC,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,6BAAR,CAAT;AAAiDC,QAAAA,KAAK,EAAE;AAAxD,OADK,EAC4D;AACjE;AAAEF,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,oBAAR,CAAT;AAAwCC,QAAAA,KAAK,EAAE;AAA/C,OAFK,EAEmD;AACxD;AAAEF,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,oBAAR,CAAT;AAAwCC,QAAAA,KAAK,EAAE;AAA/C,OAHK,EAGmD;AACxD;AAAEF,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,4BAAR,CAAT;AAAgDC,QAAAA,KAAK,EAAE;AAAvD,OAJK,EAI2D;AAChE;AAAEF,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,gCAAR,CAAT;AAAoDC,QAAAA,KAAK,EAAE;AAA3D,OALK,CAK+D;AAL/D,OAAP;AAOD,KAdO;AAeR;AACAC,IAAAA,UAhBQ,wBAgBK;AACX,UAAIC,IAAI,GAAG,KAAX;AACA,UAAQC,QAAR,GAAqB,KAAKV,MAAL,CAAYC,KAAZ,CAAkBC,QAAvC,CAAQQ,QAAR;;AACA,UAAIA,QAAQ,IAAIA,QAAQ,CAACC,iBAAT,CAA2BC,QAA3B,OAA0C,GAA1D,EAA+D;AAC7DH,QAAAA,IAAI,GAAG,IAAP;AACD;;AACD,aAAOA,IAAP;AACD,KAvBO;AAwBR;AACAI,IAAAA,UAzBQ,wBAyBK;AACX,UAAIJ,IAAI,GAAG,KAAX;AACA,UAAQC,QAAR,GAAqB,KAAKV,MAAL,CAAYC,KAAZ,CAAkBC,QAAvC,CAAQQ,QAAR;;AACA,UAAIA,QAAQ,IAAIA,QAAQ,CAACI,YAAT,CAAsBF,QAAtB,OAAqC,GAArD,EAA0D;AACxDH,QAAAA,IAAI,GAAG,IAAP;AACD;;AACD,aAAOA,IAAP;AACD,KAhCO;AAiCR;AACAM,IAAAA,cAlCQ,4BAkCS;AAAE,aAAO,KAAKf,MAAL,CAAYC,KAAZ,CAAkBe,MAAlB,CAAyBC,YAAzB,CAAsCC,IAAtC,CAA2C,KAAKC,UAAhD,CAAP;AAAqE,KAlChF;AAmCR;AACAC,IAAAA,eApCQ,6BAoCU;AAAE,aAAO,KAAKpB,MAAL,CAAYC,KAAZ,CAAkBe,MAAlB,CAAyBC,YAAzB,CAAsCC,IAAtC,CAA2C,KAAKG,WAAhD,CAAP;AAAsE,KApClF;AAqCRC,IAAAA,UArCQ,wBAqCK;AACX,UAAI,KAAKH,UAAL,CAAgBI,MAAhB,KAA2B,CAA3B,IAAgC,CAAC,KAAKR,cAA1C,EAA0D,OAAO,IAAP;AAC1D,aAAO,KAAP;AACD,KAxCO;AAyCRS,IAAAA,WAzCQ,yBAyCM;AACZ,UAAI,KAAKH,WAAL,CAAiBE,MAAjB,KAA4B,CAA5B,IAAiC,CAAC,KAAKH,eAA3C,EAA4D,OAAO,IAAP;AAC5D,aAAO,KAAP;AACD,KA5CO;AA6CR;AACAK,IAAAA,qBA9CQ,mCA8CgB;AACtB,UAAIC,KAAK,GAAG,IAAZ;AACA,UAAIC,MAAM,GAAG,IAAb;;AACA,UAAI,KAAKnB,UAAT,EAAqB;AAAEkB,QAAAA,KAAK,GAAG,KAAKX,cAAb;AAA8B;;AACrD,UAAI,KAAKF,UAAT,EAAqB;AAAEc,QAAAA,MAAM,GAAG,KAAKP,eAAd;AAAgC;;AACvD,UAAKM,KAAK,IAAIC,MAAV,IAAqB,KAAKxC,oBAA9B,EAAoD;AAClD,eAAO,KAAP;AACD;;AACD,aAAO,IAAP;AACD;AAvDO,GArBG;AA8EbyC,EAAAA,KAAK,EAAE;AACL9B,IAAAA,wBADK,sCACsB;AAAE,WAAK+B,YAAL;AAAsB;AAD9C,GA9EM;AAiFbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,IADO,kBACA;AACL;AACA,UAAI,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,MAAtB,EAA8B;AAC5B,aAAKA,MAAL,GAAc,KAAKF,MAAL,CAAYC,KAAZ,CAAkBC,MAAlB,CAAyBC,WAAzB,EAAd;AACD,OAFD,MAEO;AACL,aAAKC,OAAL,CAAaC,IAAb,CAAkB,oBAAlB;AACA;AACD;;AACD,WAAKC,WAAL;AACD,KAVM;AAWPC,IAAAA,QAXO,sBAWI;AACT,WAAKvD,OAAL,GAAe,KAAf;AACD,KAbM;AAcPwD,IAAAA,UAdO,wBAcM;AAAA;;AACX,WAAKvD,cAAL,GAAsB,IAAtB;AACA,WAAKwD,KAAL,CAAW;AACTC,QAAAA,GAAG,EAAE,mBADI;AAETC,QAAAA,MAAM,EAAE;AACNC,UAAAA,EAAE,EAAE,KAAKhD;AADH;AAFC,OAAX,EAKGiD,IALH,CAKQ,UAAC9D,IAAD,EAAU;AAChB,QAAA,KAAI,CAACE,cAAL,GAAsB,KAAtB;;AACA,YAAIF,IAAI,CAAC+D,IAAL,CAAUlC,QAAV,OAAyB,GAA7B,EAAkC;AAChC,UAAA,KAAI,CAACrB,aAAL,CAAmBG,WAAnB,GAAiC,CAAjC;;AACA,UAAA,KAAI,CAACmC,YAAL;;AACA,UAAA,KAAI,CAAC7C,OAAL,GAAe,KAAf;AACD,SAJD,MAIO;AACL,UAAA,KAAI,CAAC+D,IAAL,CAAUC,KAAV,CAAgB,KAAhB,EAAuB;AAAEC,YAAAA,IAAI,EAAElE,IAAI,CAACmE,GAAb;AAAkBC,YAAAA,IAAI,EAAE;AAAxB,WAAvB;AACD;AACF,OAdD;AAeD,KA/BM;AAgCPb,IAAAA,WAhCO,yBAgCO;AAAA;;AACZ,WAAKG,KAAL,CAAW;AACTC,QAAAA,GAAG,EAAE,WADI;AAETC,QAAAA,MAAM,EAAE;AACNT,UAAAA,MAAM,EAAE,KAAKA;AADP;AAFC,OAAX,EAKGW,IALH,CAKQ,UAAC9D,IAAD,EAAU;AAChB,YAAIA,IAAI,CAAC+D,IAAL,CAAUlC,QAAV,OAAyB,GAA7B,EAAkC;AAChC,cAAMwC,GAAG,GAAG,EAAZ;AACArE,UAAAA,IAAI,CAACA,IAAL,CAAUsE,OAAV,CAAkB,UAACC,IAAD,EAAU;AAC1BF,YAAAA,GAAG,CAACE,IAAI,CAACC,MAAL,CAAY3C,QAAZ,EAAD,CAAH,GAA8B0C,IAAI,CAACE,WAAnC;AACD,WAFD;AAGA,UAAA,MAAI,CAAC7D,OAAL,GAAeyD,GAAf;;AACA,UAAA,MAAI,CAACvB,YAAL;AACD,SAPD,MAOO;AACL,UAAA,MAAI,CAACkB,IAAL,CAAUC,KAAV,CAAgB,KAAhB,EAAuB;AAAEC,YAAAA,IAAI,EAAElE,IAAI,CAACmE,GAAb;AAAkBC,YAAAA,IAAI,EAAE;AAAxB,WAAvB;AACD;AACF,OAhBD;AAiBD,KAlDM;AAmDPM,IAAAA,UAnDO,sBAmDIC,CAnDJ,EAmDO;AACZ,WAAKnE,aAAL,CAAmBG,WAAnB,GAAiCgE,CAAjC;AACD,KArDM;AAsDPC,IAAAA,eAtDO,6BAsDW;AAChB,WAAKvB,OAAL,CAAaC,IAAb,iCAA2C,KAAKH,MAAhD;AACD,KAxDM;AAyDP0B,IAAAA,UAzDO,sBAyDIT,IAzDJ,EAyDUP,EAzDV,EAyDc;AACnB,UAAIO,IAAI,KAAK,KAAb,EAAoB;AAClB,aAAKvD,KAAL,GAAagD,EAAb;AACA,aAAK5D,OAAL,GAAe,IAAf,CAFkB,CAGlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AACD,UAAImE,IAAI,KAAK,KAAb,EAAoB;AAClB,aAAKf,OAAL,CAAaC,IAAb,iCAA2C,KAAKH,MAAhD,0BAAsEU,EAAtE;AACD;AACF,KAzEM;AA0EPf,IAAAA,YA1EO,0BA0EQ;AAAA;;AACb,WAAKY,KAAL,CAAW;AACTC,QAAAA,GAAG,EAAE,0BADI;AAETC,QAAAA,MAAM,EAAE;AACNkB,UAAAA,QAAQ,EAAE,KAAKtE,aAAL,CAAmBE,OADvB;AACgC;AACtCqE,UAAAA,IAAI,EAAE,KAAKvE,aAAL,CAAmBG,WAFnB;AAEgC;AACtCwC,UAAAA,MAAM,EAAE,KAAKA;AAHP;AAFC,OAAX,EAOGW,IAPH,CAOQ,UAAC9D,IAAD,EAAU;AAChB,YAAIA,IAAI,CAAC+D,IAAL,CAAUlC,QAAV,OAAyB,GAA7B,EAAkC;AAChC,cAAMmD,IAAI,GAAG,EAAb;AACAhF,UAAAA,IAAI,CAACA,IAAL,CAAUgF,IAAV,CAAeV,OAAf,CAAuB,UAACC,IAAD,EAAU;AAC/BS,YAAAA,IAAI,CAAC1B,IAAL,CAAU;AACRO,cAAAA,EAAE,EAAEU,IAAI,CAACV,EADD;AAER7D,cAAAA,IAAI,EAAE,CACJuE,IAAI,CAACpB,MADD,EAEJ,MAAI,CAAC5B,EAAL,CAAQ,qBAAR,CAFI,EAE4B;AAChC,cAAA,MAAI,CAACX,OAAL,CAAa2D,IAAI,CAACC,MAAlB,CAHI,EAIJD,IAAI,CAACU,IAJD,EAKJ,CACE;AACA;AACEb,gBAAAA,IAAI,EAAE,QADR;AACkB;AAChBF,gBAAAA,IAAI,EAAE,MAAI,CAAC3C,EAAL,CAAQ,gBAAR,CAFR;AAEmC;AACjC2D,gBAAAA,SAAS,EAAE,CAAC,EAAD,CAHb;AAIEC,gBAAAA,SAAS,EAAE;AAJb,eAFF,EAQE;AACEf,gBAAAA,IAAI,EAAE,QADR;AACkB;AAChBF,gBAAAA,IAAI,EAAE,MAAI,CAAC3C,EAAL,CAAQ,2BAAR,CAFR;AAE8C;AAC5C2D,gBAAAA,SAAS,EAAE,CAAC,EAAD,CAHb;AAIEC,gBAAAA,SAAS,EAAE;AAJb,eARF,CALI;AAFE,aAAV;AAwBD,WAzBD;AA0BA,UAAA,MAAI,CAAChF,YAAL,GAAoB,KAApB;AACA,UAAA,MAAI,CAACE,SAAL,GAAiB2E,IAAjB;AACA,UAAA,MAAI,CAACxE,aAAL,CAAmBC,KAAnB,GAA2BT,IAAI,CAACA,IAAL,CAAUoF,KAArC;AACD;AACF,OAxCD;AAyCD;AApHM;AAjFI,CAAf","sourcesContent":["\r\nimport { imgMap, colorMap } from '@/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      delFlag: false,\r\n      confirmLoading: false,\r\n      tabelLoading: true,\r\n      dialogConfirmLoading: false, // 弹窗按钮确认loading状态\r\n      tableList: [],\r\n      dialogStatus: '', // 弹窗状态 add 为增加 del 为删除\r\n      deleteObj: {}, // 删除的地址 对象\r\n      paginationObj: {\r\n        total: 0, // 数据总条数\r\n        display: 10, // 每页显示条数\r\n        currentPage: 1, // 当前页码\r\n      },\r\n      bankObj: {},\r\n      delId: '',\r\n    };\r\n  },\r\n  computed: {\r\n    paginationObjCurrentPage() { return this.paginationObj.currentPage; },\r\n    enforceGoogleAuth() {\r\n      return this.$store.state.baseData.is_enforce_google_auth || 0;\r\n    },\r\n    // 表格title\r\n    columns() {\r\n      return [\r\n        { title: this.$t('assets.addressMent.listCoin'), width: '15%' }, // 币种\r\n        { title: this.$t('assets.b2c.payType'), width: '15%' }, // 支付方式\r\n        { title: this.$t('assets.b2c.address'), width: '20%' }, // 账户\r\n        { title: this.$t('assets.b2c.addressUserName'), width: '20%' }, // 收款人\r\n        { title: this.$t('assets.addressMent.listOptions'), width: '30%' }, // 操作\r\n      ];\r\n    },\r\n    // 用户是否开启手机\r\n    OpenMobile() {\r\n      let flag = false;\r\n      const { userInfo } = this.$store.state.baseData;\r\n      if (userInfo && userInfo.isOpenMobileCheck.toString() === '1') {\r\n        flag = true;\r\n      }\r\n      return flag;\r\n    },\r\n    // 用户是否开启谷歌\r\n    OpenGoogle() {\r\n      let flag = false;\r\n      const { userInfo } = this.$store.state.baseData;\r\n      if (userInfo && userInfo.googleStatus.toString() === '1') {\r\n        flag = true;\r\n      }\r\n      return flag;\r\n    },\r\n    // phoneValue 是否复合正则验证\r\n    phoneValueFlag() { return this.$store.state.regExp.verification.test(this.phoneValue); },\r\n    // googleValue 是否复合正则验证\r\n    googleValueFlag() { return this.$store.state.regExp.verification.test(this.googleValue); },\r\n    phoneError() {\r\n      if (this.phoneValue.length !== 0 && !this.phoneValueFlag) return true;\r\n      return false;\r\n    },\r\n    googleError() {\r\n      if (this.googleValue.length !== 0 && !this.googleValueFlag) return true;\r\n      return false;\r\n    },\r\n    // 弹窗确认按钮disabled\r\n    dialogConfirmDisabled() {\r\n      let phone = true;\r\n      let google = true;\r\n      if (this.OpenMobile) { phone = this.phoneValueFlag; }\r\n      if (this.OpenGoogle) { google = this.googleValueFlag; }\r\n      if ((phone && google) || this.dialogConfirmLoading) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n  },\r\n  watch: {\r\n    paginationObjCurrentPage() { this.getTableList(); },\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 如果没有 finance/account_balance 接口返回成功的数据\r\n      if (this.$route.query.symbol) {\r\n        this.symbol = this.$route.query.symbol.toUpperCase();\r\n      } else {\r\n        this.$router.push('/assets/b2cAccount');\r\n        return;\r\n      }\r\n      this.getBankList();\r\n    },\r\n    delClose() {\r\n      this.delFlag = false;\r\n    },\r\n    delConfirm() {\r\n      this.confirmLoading = true;\r\n      this.axios({\r\n        url: '/user/bank/delete',\r\n        params: {\r\n          id: this.delId,\r\n        },\r\n      }).then((data) => {\r\n        this.confirmLoading = false;\r\n        if (data.code.toString() === '0') {\r\n          this.paginationObj.currentPage = 1;\r\n          this.getTableList();\r\n          this.delFlag = false;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    getBankList() {\r\n      this.axios({\r\n        url: '/bank/all',\r\n        params: {\r\n          symbol: this.symbol,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          const obj = {};\r\n          data.data.forEach((item) => {\r\n            obj[item.bankNo.toString()] = item.accountName;\r\n          });\r\n          this.bankObj = obj;\r\n          this.getTableList();\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    pagechange(v) {\r\n      this.paginationObj.currentPage = v;\r\n    },\r\n    addressBtnClick() {\r\n      this.$router.push(`/assets/b2cAdd?symbol=${this.symbol}&type=add`);\r\n    },\r\n    tableClick(type, id) {\r\n      if (type === 'del') {\r\n        this.delId = id;\r\n        this.delFlag = true;\r\n        // let even = {};\r\n        // this.tableList.forEach((item) => {\r\n        //   if (item.id === id) {\r\n        //     even = item;\r\n        //   }\r\n        // });\r\n        // this.deleteObj = even;\r\n        // this.dialogStatus = 'del';\r\n      }\r\n      if (type === 'set') {\r\n        this.$router.push(`/assets/b2cAdd?symbol=${this.symbol}&type=set&id=${id}`);\r\n      }\r\n    },\r\n    getTableList() {\r\n      this.axios({\r\n        url: 'user/bank/user_bank_list',\r\n        params: {\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n          symbol: this.symbol,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          data.data.list.forEach((item) => {\r\n            list.push({\r\n              id: item.id,\r\n              data: [\r\n                item.symbol,\r\n                this.$t('assets.b2c.bankCard'), // '银行卡',\r\n                this.bankObj[item.bankNo],\r\n                item.name,\r\n                [\r\n                  // 编辑\r\n                  {\r\n                    type: 'button', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                    text: this.$t('assets.b2c.set'), // 编辑\r\n                    iconClass: [''],\r\n                    eventType: 'set',\r\n                  },\r\n                  {\r\n                    type: 'button', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                    text: this.$t('assets.addressMent.delete'), // 删除\r\n                    iconClass: [''],\r\n                    eventType: 'del',\r\n                  },\r\n                ],\r\n              ],\r\n            });\r\n          });\r\n          this.tabelLoading = false;\r\n          this.tableList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n"]}]}