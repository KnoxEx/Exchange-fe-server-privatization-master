{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/personal/exccAuthorization/exccAuthorization.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/personal/exccAuthorization/exccAuthorization.js","mtime":1623835967000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { fixInput } from '@/utils';\nimport countryMinix from \"../../countryList/countryList\";\nexport default {\n  name: 'exccAuthorization',\n  mixins: [countryMinix],\n  components: {},\n  data: function data() {\n    return {\n      isLoading: true,\n      aliasname: '',\n      sex: '',\n      uinfin: '',\n      name: '',\n      nationality: '',\n      residentialstatus: '',\n      dob: '',\n      birthcountry: '',\n      regadd: '',\n      mobileno: '',\n      mailadd: '',\n      income: '0',\n      // 收入来源\n      code: '',\n      active: '',\n      qtTExt: '' // 收入来源选择其他的文案\n\n    };\n  },\n  watch: {\n    mobileno: function mobileno(val) {\n      this.mobileno = fixInput(val, 0);\n    },\n    authRealname: function authRealname(_authRealname) {\n      if (_authRealname !== null) {\n        if (_authRealname.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _authRealname.msg,\n            type: 'success'\n          });\n          this.active = '1';\n        } else {\n          this.$bus.$emit('tip', {\n            text: _authRealname.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    dob: function dob(val) {\n      if (val && this.ageLimit && !this.validateAge()) {\n        this.$bus.$emit('tip', {\n          text: \"\\u60A8\\u9700\\u8981\\u5E74\\u6EE1\".concat(this.ageLimit, \"\\u5C81\\u624D\\u80FD\\u5728\\u5E73\\u53F0\\u8BA4\\u8BC1\"),\n          type: 'error'\n        });\n      }\n    }\n  },\n  computed: {\n    exccKycConfig: function exccKycConfig() {\n      return this.$store.state.personal.exccKycConfig;\n    },\n    ageLimit: function ageLimit() {\n      return this.exccKycConfig ? Number(this.exccKycConfig.data.ageLimit) : 0;\n    },\n    authRealname: function authRealname() {\n      return this.$store.state.personal.authRealname;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    authLevel: function authLevel() {\n      return this.userInfo ? this.userInfo.authLevel : '';\n    },\n    disabled: function disabled() {\n      if (this.dob && !this.validateAge()) {\n        return true;\n      }\n\n      if (this.income === '6' && !this.qtTExt) {\n        return true;\n      }\n\n      return !(this.mobileno && this.mailadd);\n    },\n    // 收入来源列表\n    incomeList: function incomeList() {\n      return [{\n        code: '0',\n        value: this.$t('personal.exccAuthorization.income1')\n      }, {\n        code: '1',\n        value: this.$t('personal.exccAuthorization.income2')\n      }, {\n        code: '2',\n        value: this.$t('personal.exccAuthorization.income3')\n      }, {\n        code: '3',\n        value: this.$t('personal.exccAuthorization.income4')\n      }, {\n        code: '4',\n        value: this.$t('personal.exccAuthorization.income5')\n      }, {\n        code: '5',\n        value: this.$t('personal.exccAuthorization.income6')\n      }, {\n        code: '6',\n        value: this.$t('personal.exccAuthorization.income7')\n      }];\n    }\n  },\n  methods: {\n    init: function init() {\n      this.code = this.$route.query.code;\n\n      if (this.code) {\n        this.getData();\n      }\n\n      if (!this.exccKycConfig) {\n        this.$store.dispatch('exccKycConfig');\n      }\n    },\n    getData: function getData() {\n      var _this = this;\n\n      this.axios({\n        url: '/kyc/singPass/getInfo',\n        method: 'post',\n        header: {},\n        params: {\n          code: this.code\n        }\n      }).then(function (info) {\n        _this.isLoading = false;\n\n        if (info.code === '0') {\n          if (info.data) {\n            _this.aliasname = info.data.aliasname;\n            _this.sex = info.data.sex;\n            _this.uinfin = info.data.uinfin;\n            _this.name = info.data.name;\n            _this.nationality = info.data.nationality;\n            _this.residentialstatus = info.data.residentialstatus;\n            _this.dob = info.data.dob;\n            _this.birthcountry = info.data.birthcountry;\n            _this.regadd = info.data.regadd;\n            _this.mobileno = info.data.mobileno;\n            _this.mailadd = info.data.mailadd;\n            _this.qtTExt = info.data.otherIncomeDesc;\n            _this.income = '0';\n          }\n        } else {\n          _this.$bus.$emit('tip', {\n            text: info.msg,\n            type: 'error'\n          });\n        }\n      }).catch(function () {});\n    },\n    inputChanges: function inputChanges(value, name) {\n      this[name] = value.trim();\n    },\n    incomeChange: function incomeChange(item) {\n      this.income = item.code;\n    },\n    submitData: function submitData() {\n      var info = {\n        mobileno: this.mobileno,\n        mailadd: this.mailadd,\n        income: this.income,\n        otherIncomeDesc: this.qtTExt\n      };\n      this.$store.dispatch('singPassVerifyAuth', info);\n    },\n    validateAge: function validateAge() {\n      if (!this.ageLimit) {\n        return true;\n      }\n\n      var birthday1 = this.dob.split('-');\n      var convert2Date = new Date(birthday1[0], birthday1[1], birthday1[2]);\n      var nowDate = new Date(); // 获取当前时间\n\n      var year = nowDate.getFullYear();\n      var month = nowDate.getMonth() + 1;\n      var date = nowDate.getDate();\n      nowDate = new Date(year, month, date);\n      var age = nowDate.getTime() - convert2Date.getTime(); // 毫秒\n\n      var leapYear = 0; // 有多少个闰年\n\n      for (var i = 0; i <= this.ageLimit; i += 1) {\n        if (i % 4 === 0 && i % 100 !== 0 || i % 400 === 0) {\n          leapYear += 1;\n        }\n      }\n\n      var YearNumber = this.ageLimit - leapYear;\n      var betweenNumer = 86400000 * 365 * YearNumber + 86400000 * 366 * leapYear;\n      return age >= betweenNumer;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui/PC/common-mixin/personal/exccAuthorization/exccAuthorization.js"],"names":["fixInput","countryMinix","name","mixins","components","data","isLoading","aliasname","sex","uinfin","nationality","residentialstatus","dob","birthcountry","regadd","mobileno","mailadd","income","code","active","qtTExt","watch","val","authRealname","text","$bus","$emit","msg","type","$store","dispatch","ageLimit","validateAge","computed","exccKycConfig","state","personal","Number","userInfo","baseData","authLevel","disabled","incomeList","value","$t","methods","init","$route","query","getData","axios","url","method","header","params","then","info","otherIncomeDesc","catch","inputChanges","trim","incomeChange","item","submitData","birthday1","split","convert2Date","Date","nowDate","year","getFullYear","month","getMonth","date","getDate","age","getTime","leapYear","i","YearNumber","betweenNumer"],"mappings":"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","sourcesContent":["import { fixInput } from '@/utils';\nimport countryMinix from '../../countryList/countryList';\n\nexport default {\n  name: 'exccAuthorization',\n  mixins: [countryMinix],\n  components: {\n  },\n  data() {\n    return {\n      isLoading: true,\n      aliasname: '',\n      sex: '',\n      uinfin: '',\n      name: '',\n      nationality: '',\n      residentialstatus: '',\n      dob: '',\n      birthcountry: '',\n      regadd: '',\n      mobileno: '',\n      mailadd: '',\n      income: '0', // 收入来源\n      code: '',\n      active: '',\n      qtTExt: '', // 收入来源选择其他的文案\n    };\n  },\n  watch: {\n    mobileno(val) {\n      this.mobileno = fixInput(val, 0);\n    },\n    authRealname(authRealname) {\n      if (authRealname !== null) {\n        if (authRealname.text === 'success') {\n          this.$bus.$emit('tip', { text: authRealname.msg, type: 'success' });\n          this.active = '1';\n        } else {\n          this.$bus.$emit('tip', { text: authRealname.msg, type: 'error' });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    dob(val) {\n      if (val && this.ageLimit && !this.validateAge()) {\n        this.$bus.$emit('tip', { text: `您需要年满${this.ageLimit}岁才能在平台认证`, type: 'error' });\n      }\n    },\n  },\n  computed: {\n    exccKycConfig() {\n      return this.$store.state.personal.exccKycConfig;\n    },\n    ageLimit() {\n      return this.exccKycConfig ? Number(this.exccKycConfig.data.ageLimit) : 0;\n    },\n    authRealname() {\n      return this.$store.state.personal.authRealname;\n    },\n    userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    authLevel() {\n      return this.userInfo ? this.userInfo.authLevel : '';\n    },\n    disabled() {\n      if (this.dob && !this.validateAge()) {\n        return true;\n      }\n      if (this.income === '6' && !this.qtTExt) {\n        return true;\n      }\n      return !(this.mobileno && this.mailadd);\n    },\n    // 收入来源列表\n    incomeList() {\n      return [\n        { code: '0', value: this.$t('personal.exccAuthorization.income1') },\n        { code: '1', value: this.$t('personal.exccAuthorization.income2') },\n        { code: '2', value: this.$t('personal.exccAuthorization.income3') },\n        { code: '3', value: this.$t('personal.exccAuthorization.income4') },\n        { code: '4', value: this.$t('personal.exccAuthorization.income5') },\n        { code: '5', value: this.$t('personal.exccAuthorization.income6') },\n        { code: '6', value: this.$t('personal.exccAuthorization.income7') },\n      ];\n    },\n  },\n  methods: {\n    init() {\n      this.code = this.$route.query.code;\n      if (this.code) {\n        this.getData();\n      }\n      if (!this.exccKycConfig) {\n        this.$store.dispatch('exccKycConfig');\n      }\n    },\n    getData() {\n      this.axios({\n        url: '/kyc/singPass/getInfo',\n        method: 'post',\n        header: {},\n        params: {\n          code: this.code,\n        },\n      }).then((info) => {\n        this.isLoading = false;\n        if (info.code === '0') {\n          if (info.data) {\n            this.aliasname = info.data.aliasname;\n            this.sex = info.data.sex;\n            this.uinfin = info.data.uinfin;\n            this.name = info.data.name;\n            this.nationality = info.data.nationality;\n            this.residentialstatus = info.data.residentialstatus;\n            this.dob = info.data.dob;\n            this.birthcountry = info.data.birthcountry;\n            this.regadd = info.data.regadd;\n            this.mobileno = info.data.mobileno;\n            this.mailadd = info.data.mailadd;\n            this.qtTExt = info.data.otherIncomeDesc;\n            this.income = '0';\n          }\n        } else {\n          this.$bus.$emit('tip', { text: info.msg, type: 'error' });\n        }\n      }).catch(() => {});\n    },\n    inputChanges(value, name) {\n      this[name] = value.trim();\n    },\n    incomeChange(item) {\n      this.income = item.code;\n    },\n    submitData() {\n      const info = {\n        mobileno: this.mobileno,\n        mailadd: this.mailadd,\n        income: this.income,\n        otherIncomeDesc: this.qtTExt,\n      };\n      this.$store.dispatch('singPassVerifyAuth', info);\n    },\n    validateAge() {\n      if (!this.ageLimit) {\n        return true;\n      }\n      const birthday1 = this.dob.split('-');\n      const convert2Date = new Date(birthday1[0], birthday1[1], birthday1[2]);\n      let nowDate = new Date(); // 获取当前时间\n      const year = nowDate.getFullYear();\n      const month = nowDate.getMonth() + 1;\n      const date = nowDate.getDate();\n      nowDate = new Date(year, month, date);\n      const age = nowDate.getTime() - convert2Date.getTime(); // 毫秒\n      let leapYear = 0; // 有多少个闰年\n      for (let i = 0; i <= this.ageLimit; i += 1) {\n        if ((i % 4 === 0 && i % 100 !== 0) || i % 400 === 0) {\n          leapYear += 1;\n        }\n      }\n      const YearNumber = this.ageLimit - leapYear;\n      const betweenNumer = 86400000 * 365 * YearNumber + 86400000 * 366 * leapYear;\n      return age >= betweenNumer;\n    },\n  },\n};\n"]}]}