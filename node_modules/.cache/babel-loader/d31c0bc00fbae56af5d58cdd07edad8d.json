{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/personal/krwManagement/krwManagement.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/personal/krwManagement/krwManagement.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.number.constructor\";\n// @ is an alias to /src\nimport { imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'krwManagement',\n  data: function data() {\n    return {\n      id: '',\n      // uid\n      mobileNumber: '',\n      // 手机号或者邮箱显示\n      authLevel: '',\n      // 身份/实名认证状态，0、未审核，1、通过，2、未通过  3未认证\n      nickName: '',\n      // 昵称\n      userName: '',\n      imgMap: imgMap,\n      colorMap: colorMap,\n      email: '',\n      // 邮箱\n      dialogType: 1,\n      is_krw_phone_auth: '',\n      // NICE认证 1：已完成手机认证   0：未完成手机认证\n      dialogFlag: false,\n      dialogConfirmLoading: false,\n      dialogConfirmDisabled: false,\n      checkErrorFlag: false,\n      checkValue: '',\n      promptText: this.$t('personal.dialog.name'),\n      errorText: this.$t('personal.dialog.text'),\n      oldName: '',\n      // 用户最初昵称\n      smsCode: false,\n      // false对应0 关闭 true对应1 开启(手机短信认证)\n      googleCode: false,\n      // false对应0 关闭 true对应1 开启(google认证)\n      switchValue: false,\n      // 手续费设置\n      clickType: true,\n      // 可点击状态\n      alertFlag: false,\n      feeCoinOpen: '0',\n      photo: imgMap.photo1,\n      krwAuthFlag: false,\n      // 身份认证对话框开关 -- krw定制\n      krwAuthType: '1',\n      // 身份认证对话框 select 选择值 -- krw定制\n      krwAlertFlag: false,\n      // krw 绑定银行卡前置条件校验\n      krwConfrimFlag: false,\n      // krw nice认证确认是否通过验证\n      // 邀请码信息\n      inviteCodeShow: true,\n      inviteUrlShow: true,\n      inviteCode: '',\n      inviteQECode: '',\n      inviteUrl: '',\n      titleText: this.$t('personal.dialog.title')\n    };\n  },\n  watch: {\n    userInfo: function userInfo(userinfo) {\n      // 监听userinfo接口\n      if (userinfo) {\n        this.getUserInfo(); // 获取用户信息\n      }\n\n      this.googleCode = !!Number(userinfo.googleStatus);\n      this.smsCode = !!Number(userinfo.isOpenMobileCheck);\n      this.id = userinfo.id;\n    },\n    modifyNickName: function modifyNickName(_modifyNickName) {\n      // 修改昵称逻辑操作\n      if (_modifyNickName !== null) {\n        if (_modifyNickName.text === 'success') {\n          // tip框提示\n          this.$bus.$emit('tip', {\n            text: _modifyNickName.msg,\n            type: 'success'\n          }); // 重新获取 userinfo\n\n          this.$store.dispatch('getUserInfo');\n          this.dialogConfirmFlag = false;\n          this.dialogFlag = false;\n          this.checkValue = this.oldName;\n          this.checkErrorFlag = false;\n          this.dialogConfirmLoading = false;\n          this.$store.dispatch('resetType');\n        } else {\n          // tip框提示错误\n          this.$bus.$emit('tip', {\n            text: _modifyNickName.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n          this.dialogConfirmLoading = false;\n        }\n      }\n    },\n    openMobileVerify: function openMobileVerify(_openMobileVerify) {\n      if (_openMobileVerify !== null) {\n        if (_openMobileVerify.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _openMobileVerify.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('getUserInfo');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _openMobileVerify.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    updateFeeCoinOpen: function updateFeeCoinOpen(_updateFeeCoinOpen) {\n      if (_updateFeeCoinOpen !== null) {\n        var type = this.switchValue;\n\n        if (_updateFeeCoinOpen.text === 'success') {\n          if (type) {\n            this.$bus.$emit('tip', {\n              text: this.$t('personal.state.closeSuccess'),\n              type: 'success'\n            });\n            this.switchValue = !type;\n            this.$store.dispatch('resetType');\n          } else {\n            this.$bus.$emit('tip', {\n              text: this.$t('personal.state.openSuccess'),\n              type: 'success'\n            });\n            this.switchValue = !type;\n            this.$store.dispatch('resetType');\n          }\n        } else {\n          this.$bus.$emit('tip', {\n            text: _updateFeeCoinOpen.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    }\n  },\n  computed: {\n    // 身份认证对话框 select 列表 -- krw定制\n    krwAuthTypeOptions: function krwAuthTypeOptions() {\n      return [// 韩国\n      {\n        value: this.$t('personal.krw.authType'),\n        code: '1'\n      }, // 外国人\n      {\n        value: this.$t('personal.krw.authOther'),\n        code: '2'\n      }];\n    },\n    krwAlertData: function krwAlertData() {\n      var authFlag = false;\n\n      if (this.krwPhoneAuth === '1' || this.authLevel === 1) {\n        authFlag = true;\n      }\n\n      var arr = [// 请您先完成NICE认证或身份认证\n      {\n        text: this.$t('personal.krw.alertk'),\n        flag: authFlag\n      }, // OTP认证\n      {\n        text: this.$t('personal.krw.OTPk'),\n        flag: Boolean(this.googleCode)\n      }];\n      return arr;\n    },\n    krwUserBank: function krwUserBank() {\n      return this.$store.state.personal.krwUserBank;\n    },\n    // 该用户是否完成nice认证\n    krwPhoneAuth: function krwPhoneAuth() {\n      var str = '0';\n\n      if (this.userInfo && this.userInfo.is_krw_phone_auth) {\n        str = this.userInfo.is_krw_phone_auth.toString();\n      }\n\n      return str;\n    },\n    // 开启验证方式\n    coinsKrwOpen: function coinsKrwOpen() {\n      var publicInfo = this.$store.state.baseData.publicInfo;\n      var str = '0';\n\n      if (publicInfo && publicInfo.switch && publicInfo.switch.coins_krw_open) {\n        str = publicInfo.switch.coins_krw_open.toString();\n      }\n\n      return str;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    modifyNickName: function modifyNickName() {\n      return this.$store.state.personal.modifyNickName;\n    },\n    openMobileVerify: function openMobileVerify() {\n      return this.$store.state.personal.openMobileVerify;\n    },\n    updateFeeCoinOpen: function updateFeeCoinOpen() {\n      return this.$store.state.personal.updateFeeCoinOpen;\n    },\n    headImg: function headImg() {\n      return imgMap.head;\n    }\n  },\n  methods: {\n    init: function init() {\n      this.$store.dispatch('getUserInfo');\n    },\n    krwConfirmClick: function krwConfirmClick() {\n      this.krwConfrimFlag = false;\n      this.$store.dispatch('getUserInfo');\n    },\n    krwAlertClose: function krwAlertClose() {\n      this.krwAlertFlag = false;\n    },\n    // krw 绑定银行卡\n    krwBindBank: function krwBindBank() {\n      var authFlag = false;\n\n      if (this.krwPhoneAuth === '1' || this.authLevel === 1) {\n        authFlag = true;\n      }\n\n      if (this.googleCode && authFlag) {\n        this.$router.push('/personal/krwBank');\n      } else {\n        this.krwAlertFlag = true;\n      }\n    },\n    // nice证对话框 clone -- krw定制\n    krwAuthClose: function krwAuthClose() {\n      this.krwAuthFlag = false;\n    },\n    // nice对话框 confirm -- krw定制\n    krwAuthConfirm: function krwAuthConfirm() {\n      if (this.krwAuthType === '1') {\n        // window.open('/ex/personal/krwKyc');\n        if (this.krwPhoneAuth === '1') {\n          this.$router.push('/personal/idAuth');\n        } else {\n          this.krwAuthFlag = false; // 请您先完善手机实名认证\n\n          this.$bus.$emit('tip', {\n            text: this.$t('personal.krw.phonek'),\n            type: 'warning'\n          });\n        }\n      } else {\n        this.$router.push('/personal/idAuth');\n      }\n    },\n    // nice认证 点击认证按钮 -- krw定制\n    krwAuthentication: function krwAuthentication() {\n      this.krwConfrimFlag = true;\n      window.open('/personal/krwKyc', '_blank', 'menubar=0,scrollbars=1, resizable=1,status=1,titlebar=0,toolbar=0,location=1,height=614,width=432'); // window.open('/ex/personal/krwKyc');\n      // this.$router.push('/personal/krwKyc');\n    },\n    // nice认证 选择国籍 -- krw定制\n    krwAuthTypeChange: function krwAuthTypeChange(item) {\n      this.krwAuthType = item.code;\n    },\n    // 身份认证点击\n    krwUserAuthClick: function krwUserAuthClick() {\n      if (this.krwPhoneAuth === '1') {\n        this.$router.push('/personal/idAuth');\n      } else {\n        this.krwAuthFlag = true;\n      }\n    },\n    copyClick: function copyClick(name) {\n      if (name === 'inviteCode') {\n        this.copy(this.inviteCode);\n      } else {\n        this.copy(this.inviteUrl);\n      }\n    },\n    copy: function copy(str) {\n      // this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n\n        e.preventDefault(); // 阻止默认行为\n      }\n\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n\n      document.removeEventListener('copy', save);\n    },\n    handMouseenter: function handMouseenter(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = false;\n      } else {\n        this.inviteUrlShow = false;\n      }\n    },\n    handMouseleave: function handMouseleave(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = true;\n      } else {\n        this.inviteUrlShow = true;\n      }\n    },\n    btnLink: function btnLink(link) {\n      if (link === 'google') {\n        this.$router.push('/personal/bindGoogle');\n      } else if (link === 'phone') {\n        this.$router.push('/personal/bindPhone');\n      } else if (link === 'email') {\n        this.$router.push('/personal/bindEmail');\n      } else if (link === 'krwBank') {\n        this.$router.push('/personal/krwBank');\n      } else {\n        this.$router.push('/personal/idAuth');\n      }\n    },\n    dialogClose: function dialogClose() {\n      // 关闭或取消时\n      this.dialogConfirmDisabled = false;\n      this.dialogConfirmFlag = false;\n      this.dialogFlag = false;\n      this.checkValue = this.oldName;\n      this.checkErrorFlag = false;\n    },\n    dialogConfirm: function dialogConfirm() {\n      // 点击确认时\n      if (this.dialogType === 2) {\n        this.dialogConfirmFlag = false;\n        this.dialogFlag = false;\n      } else {\n        var val = this.checkValue;\n\n        if (val.length === 0) {\n          // 为空提示\n          this.checkErrorFlag = true; // 昵称不能为空\n\n          this.errorText = this.$t('personal.userManagement.nameError1');\n        } else if (val.length > 10) {\n          this.checkErrorFlag = true; // 昵称长度不可超过十位\n\n          this.errorText = this.$t('personal.userManagement.nameError2');\n        } else {\n          // 非空提交\n          this.dialogConfirmLoading = true;\n          this.$store.dispatch('modifyNickName', {\n            nickname: val\n          });\n        }\n      }\n    },\n    inputChanges: function inputChanges(val) {\n      // 获取输入框内容\n      this.checkValue = val;\n    },\n    checkFocus: function checkFocus() {},\n    modify: function modify(num) {\n      if (num === 1) {\n        this.dialogType = 1;\n        this.titleText = this.$t('personal.dialog.title');\n      } else {\n        this.dialogType = 2;\n        this.titleText = this.$t('personal.userManagement.otherList.myInviteCod.text');\n      }\n\n      this.dialogConfirmFlag = true;\n      this.dialogFlag = true;\n    },\n    getUserInfo: function getUserInfo() {\n      if (this.userInfo !== null) {\n        // 邀请码信息\n        this.inviteCode = this.userInfo.inviteCode;\n        this.inviteQECode = this.userInfo.inviteQECode;\n        this.inviteUrl = this.userInfo.inviteUrl; // 邀请码信息\n\n        this.userName = this.userInfo.mobileNumber !== '' ? this.userInfo.mobileNumber : this.userInfo.email; // 有电话号码显示电话号码,无则显示邮箱\n\n        this.mobileNumber = this.userInfo.mobileNumber; // 电话号码\n\n        this.nickName = this.userInfo.nickName !== '' ? this.userInfo.nickName : this.$t('personal.userManagement.userName');\n        this.email = this.userInfo.email; // 邮箱\n\n        this.checkValue = this.userInfo.nickName;\n        this.oldName = this.userInfo.nickName;\n        this.authLevel = this.userInfo.authLevel; // 身份认证状态\n        // this.authLevel = 2\n\n        this.is_krw_phone_auth = this.userInfo.is_krw_phone_auth; // NICE认证\n\n        if (Number(this.userInfo.useFeeCoinOpen) === 1) {\n          // 是否开启手续费设置 1 开启 0 关闭\n          this.switchValue = true;\n        } else {\n          this.switchValue = false;\n        }\n\n        this.feeCoinOpen = this.userInfo.fee_coin_open;\n      }\n    },\n    openMobile: function openMobile() {\n      this.$store.dispatch('openMobileVerify');\n    },\n    switchChange: function switchChange() {\n      var _this = this;\n\n      if (this.clickType) {\n        this.clickType = false;\n        setTimeout(function () {\n          _this.clickType = true;\n        }, 1000);\n\n        if (this.switchValue) {\n          var info = {\n            useFeeCoinOpen: '0'\n          };\n          this.$store.dispatch('updateFeeCoinOpen', info);\n        } else {\n          var _info = {\n            useFeeCoinOpen: '1'\n          };\n          this.$store.dispatch('updateFeeCoinOpen', _info);\n        }\n      }\n    },\n    changePassword: function changePassword() {\n      if (this.smsCode === true || this.googleCode === true) {\n        this.$router.push('/personal/changePassword');\n      } else {\n        this.alertFlag = true;\n      }\n    },\n    changeEmail: function changeEmail() {\n      if (this.smsCode === true || this.googleCode === true) {\n        this.$router.push('/personal/changeEmail');\n      } else {\n        this.alertFlag = true;\n      }\n    },\n    alertClose: function alertClose() {\n      this.alertFlag = false;\n    },\n    alertGo: function alertGo() {\n      this.alertFlag = false;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/personal/krwManagement/krwManagement.js"],"names":["imgMap","colorMap","name","data","id","mobileNumber","authLevel","nickName","userName","email","dialogType","is_krw_phone_auth","dialogFlag","dialogConfirmLoading","dialogConfirmDisabled","checkErrorFlag","checkValue","promptText","$t","errorText","oldName","smsCode","googleCode","switchValue","clickType","alertFlag","feeCoinOpen","photo","photo1","krwAuthFlag","krwAuthType","krwAlertFlag","krwConfrimFlag","inviteCodeShow","inviteUrlShow","inviteCode","inviteQECode","inviteUrl","titleText","watch","userInfo","userinfo","getUserInfo","Number","googleStatus","isOpenMobileCheck","modifyNickName","text","$bus","$emit","msg","type","$store","dispatch","dialogConfirmFlag","openMobileVerify","updateFeeCoinOpen","computed","krwAuthTypeOptions","value","code","krwAlertData","authFlag","krwPhoneAuth","arr","flag","Boolean","krwUserBank","state","personal","str","toString","coinsKrwOpen","publicInfo","baseData","switch","coins_krw_open","headImg","head","methods","init","krwConfirmClick","krwAlertClose","krwBindBank","$router","push","krwAuthClose","krwAuthConfirm","krwAuthentication","window","open","krwAuthTypeChange","item","krwUserAuthClick","copyClick","copy","save","e","clipboardData","setData","preventDefault","document","addEventListener","execCommand","removeEventListener","handMouseenter","handMouseleave","btnLink","link","dialogClose","dialogConfirm","val","length","nickname","inputChanges","checkFocus","modify","num","useFeeCoinOpen","fee_coin_open","openMobile","switchChange","setTimeout","info","changePassword","changeEmail","alertClose","alertGo"],"mappings":"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","sourcesContent":["// @ is an alias to /src\r\nimport { imgMap, colorMap } from '@/utils';\r\n\r\nexport default {\r\n  name: 'krwManagement',\r\n  data() {\r\n    return {\r\n      id: '', // uid\r\n      mobileNumber: '', // 手机号或者邮箱显示\r\n      authLevel: '', // 身份/实名认证状态，0、未审核，1、通过，2、未通过  3未认证\r\n      nickName: '', // 昵称\r\n      userName: '',\r\n      imgMap,\r\n      colorMap,\r\n      email: '', // 邮箱\r\n      dialogType: 1,\r\n      is_krw_phone_auth: '', // NICE认证 1：已完成手机认证   0：未完成手机认证\r\n      dialogFlag: false,\r\n      dialogConfirmLoading: false,\r\n      dialogConfirmDisabled: false,\r\n      checkErrorFlag: false,\r\n      checkValue: '',\r\n      promptText: this.$t('personal.dialog.name'),\r\n      errorText: this.$t('personal.dialog.text'),\r\n      oldName: '', // 用户最初昵称\r\n      smsCode: false, // false对应0 关闭 true对应1 开启(手机短信认证)\r\n      googleCode: false, // false对应0 关闭 true对应1 开启(google认证)\r\n      switchValue: false, // 手续费设置\r\n      clickType: true, // 可点击状态\r\n      alertFlag: false,\r\n      feeCoinOpen: '0',\r\n      photo: imgMap.photo1,\r\n      krwAuthFlag: false, // 身份认证对话框开关 -- krw定制\r\n      krwAuthType: '1', // 身份认证对话框 select 选择值 -- krw定制\r\n      krwAlertFlag: false, // krw 绑定银行卡前置条件校验\r\n      krwConfrimFlag: false, // krw nice认证确认是否通过验证\r\n      // 邀请码信息\r\n      inviteCodeShow: true,\r\n      inviteUrlShow: true,\r\n      inviteCode: '',\r\n      inviteQECode: '',\r\n      inviteUrl: '',\r\n      titleText: this.$t('personal.dialog.title'),\r\n    };\r\n  },\r\n  watch: {\r\n    userInfo(userinfo) { // 监听userinfo接口\r\n      if (userinfo) {\r\n        this.getUserInfo(); // 获取用户信息\r\n      }\r\n      this.googleCode = !!Number(userinfo.googleStatus);\r\n      this.smsCode = !!Number(userinfo.isOpenMobileCheck);\r\n      this.id = userinfo.id;\r\n    },\r\n    modifyNickName(modifyNickName) { // 修改昵称逻辑操作\r\n      if (modifyNickName !== null) {\r\n        if (modifyNickName.text === 'success') {\r\n          // tip框提示\r\n          this.$bus.$emit('tip', { text: modifyNickName.msg, type: 'success' });\r\n          // 重新获取 userinfo\r\n          this.$store.dispatch('getUserInfo');\r\n          this.dialogConfirmFlag = false;\r\n          this.dialogFlag = false;\r\n          this.checkValue = this.oldName;\r\n          this.checkErrorFlag = false;\r\n          this.dialogConfirmLoading = false;\r\n          this.$store.dispatch('resetType');\r\n        } else {\r\n          // tip框提示错误\r\n          this.$bus.$emit('tip', { text: modifyNickName.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n          this.dialogConfirmLoading = false;\r\n        }\r\n      }\r\n    },\r\n    openMobileVerify(openMobileVerify) {\r\n      if (openMobileVerify !== null) {\r\n        if (openMobileVerify.text === 'success') {\r\n          this.$bus.$emit('tip', { text: openMobileVerify.msg, type: 'success' });\r\n          this.$store.dispatch('resetType');\r\n          this.$store.dispatch('getUserInfo');\r\n        } else {\r\n          this.$bus.$emit('tip', { text: openMobileVerify.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n    updateFeeCoinOpen(updateFeeCoinOpen) {\r\n      if (updateFeeCoinOpen !== null) {\r\n        const type = this.switchValue;\r\n        if (updateFeeCoinOpen.text === 'success') {\r\n          if (type) {\r\n            this.$bus.$emit('tip', { text: this.$t('personal.state.closeSuccess'), type: 'success' });\r\n            this.switchValue = !type;\r\n            this.$store.dispatch('resetType');\r\n          } else {\r\n            this.$bus.$emit('tip', { text: this.$t('personal.state.openSuccess'), type: 'success' });\r\n            this.switchValue = !type;\r\n            this.$store.dispatch('resetType');\r\n          }\r\n        } else {\r\n          this.$bus.$emit('tip', { text: updateFeeCoinOpen.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    // 身份认证对话框 select 列表 -- krw定制\r\n    krwAuthTypeOptions() {\r\n      return [\r\n        // 韩国\r\n        { value: this.$t('personal.krw.authType'), code: '1' },\r\n        // 外国人\r\n        { value: this.$t('personal.krw.authOther'), code: '2' },\r\n      ];\r\n    },\r\n    krwAlertData() {\r\n      let authFlag = false;\r\n      if (this.krwPhoneAuth === '1' || this.authLevel === 1) {\r\n        authFlag = true;\r\n      }\r\n      const arr = [\r\n        // 请您先完成NICE认证或身份认证\r\n        { text: this.$t('personal.krw.alertk'), flag: authFlag },\r\n        // OTP认证\r\n        { text: this.$t('personal.krw.OTPk'), flag: Boolean(this.googleCode) },\r\n      ];\r\n      return arr;\r\n    },\r\n    krwUserBank() {\r\n      return this.$store.state.personal.krwUserBank;\r\n    },\r\n    // 该用户是否完成nice认证\r\n    krwPhoneAuth() {\r\n      let str = '0';\r\n      if (this.userInfo\r\n        && this.userInfo.is_krw_phone_auth) {\r\n        str = this.userInfo.is_krw_phone_auth.toString();\r\n      }\r\n      return str;\r\n    },\r\n    // 开启验证方式\r\n    coinsKrwOpen() {\r\n      const { publicInfo } = this.$store.state.baseData;\r\n      let str = '0';\r\n      if (publicInfo && publicInfo.switch && publicInfo.switch.coins_krw_open) {\r\n        str = publicInfo.switch.coins_krw_open.toString();\r\n      }\r\n      return str;\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    modifyNickName() {\r\n      return this.$store.state.personal.modifyNickName;\r\n    },\r\n    openMobileVerify() {\r\n      return this.$store.state.personal.openMobileVerify;\r\n    },\r\n    updateFeeCoinOpen() {\r\n      return this.$store.state.personal.updateFeeCoinOpen;\r\n    },\r\n    headImg() {\r\n      return imgMap.head;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$store.dispatch('getUserInfo');\r\n    },\r\n    krwConfirmClick() {\r\n      this.krwConfrimFlag = false;\r\n      this.$store.dispatch('getUserInfo');\r\n    },\r\n    krwAlertClose() {\r\n      this.krwAlertFlag = false;\r\n    },\r\n    // krw 绑定银行卡\r\n    krwBindBank() {\r\n      let authFlag = false;\r\n      if (this.krwPhoneAuth === '1' || this.authLevel === 1) {\r\n        authFlag = true;\r\n      }\r\n      if (this.googleCode && authFlag) {\r\n        this.$router.push('/personal/krwBank');\r\n      } else {\r\n        this.krwAlertFlag = true;\r\n      }\r\n    },\r\n    // nice证对话框 clone -- krw定制\r\n    krwAuthClose() {\r\n      this.krwAuthFlag = false;\r\n    },\r\n    // nice对话框 confirm -- krw定制\r\n    krwAuthConfirm() {\r\n      if (this.krwAuthType === '1') {\r\n        // window.open('/ex/personal/krwKyc');\r\n        if (this.krwPhoneAuth === '1') {\r\n          this.$router.push('/personal/idAuth');\r\n        } else {\r\n          this.krwAuthFlag = false;\r\n          // 请您先完善手机实名认证\r\n          this.$bus.$emit('tip', { text: this.$t('personal.krw.phonek'), type: 'warning' });\r\n        }\r\n      } else {\r\n        this.$router.push('/personal/idAuth');\r\n      }\r\n    },\r\n    // nice认证 点击认证按钮 -- krw定制\r\n    krwAuthentication() {\r\n      this.krwConfrimFlag = true;\r\n      window.open('/personal/krwKyc',\r\n        '_blank',\r\n        'menubar=0,scrollbars=1, resizable=1,status=1,titlebar=0,toolbar=0,location=1,height=614,width=432');\r\n      // window.open('/ex/personal/krwKyc');\r\n      // this.$router.push('/personal/krwKyc');\r\n    },\r\n    // nice认证 选择国籍 -- krw定制\r\n    krwAuthTypeChange(item) {\r\n      this.krwAuthType = item.code;\r\n    },\r\n    // 身份认证点击\r\n    krwUserAuthClick() {\r\n      if (this.krwPhoneAuth === '1') {\r\n        this.$router.push('/personal/idAuth');\r\n      } else {\r\n        this.krwAuthFlag = true;\r\n      }\r\n    },\r\n    copyClick(name) {\r\n      if (name === 'inviteCode') {\r\n        this.copy(this.inviteCode);\r\n      } else {\r\n        this.copy(this.inviteUrl);\r\n      }\r\n    },\r\n    copy(str) {\r\n      // this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\r\n      function save(e) {\r\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\r\n        e.preventDefault(); // 阻止默认行为\r\n      }\r\n      document.addEventListener('copy', save);\r\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\r\n      document.removeEventListener('copy', save);\r\n    },\r\n    handMouseenter(name) {\r\n      if (name === 'inviteCode') {\r\n        this.inviteCodeShow = false;\r\n      } else {\r\n        this.inviteUrlShow = false;\r\n      }\r\n    },\r\n    handMouseleave(name) {\r\n      if (name === 'inviteCode') {\r\n        this.inviteCodeShow = true;\r\n      } else {\r\n        this.inviteUrlShow = true;\r\n      }\r\n    },\r\n    btnLink(link) {\r\n      if (link === 'google') {\r\n        this.$router.push('/personal/bindGoogle');\r\n      } else if (link === 'phone') {\r\n        this.$router.push('/personal/bindPhone');\r\n      } else if (link === 'email') {\r\n        this.$router.push('/personal/bindEmail');\r\n      } else if (link === 'krwBank') {\r\n        this.$router.push('/personal/krwBank');\r\n      } else {\r\n        this.$router.push('/personal/idAuth');\r\n      }\r\n    },\r\n    dialogClose() { // 关闭或取消时\r\n      this.dialogConfirmDisabled = false;\r\n      this.dialogConfirmFlag = false;\r\n      this.dialogFlag = false;\r\n      this.checkValue = this.oldName;\r\n      this.checkErrorFlag = false;\r\n    },\r\n    dialogConfirm() { // 点击确认时\r\n      if (this.dialogType === 2) {\r\n        this.dialogConfirmFlag = false;\r\n        this.dialogFlag = false;\r\n      } else {\r\n        const val = this.checkValue;\r\n        if (val.length === 0) { // 为空提示\r\n          this.checkErrorFlag = true;\r\n          // 昵称不能为空\r\n          this.errorText = this.$t('personal.userManagement.nameError1');\r\n        } else if (val.length > 10) {\r\n          this.checkErrorFlag = true;\r\n          // 昵称长度不可超过十位\r\n          this.errorText = this.$t('personal.userManagement.nameError2');\r\n        } else { // 非空提交\r\n          this.dialogConfirmLoading = true;\r\n          this.$store.dispatch('modifyNickName', { nickname: val });\r\n        }\r\n      }\r\n    },\r\n    inputChanges(val) { // 获取输入框内容\r\n      this.checkValue = val;\r\n    },\r\n    checkFocus() {\r\n\r\n    },\r\n    modify(num) {\r\n      if (num === 1) {\r\n        this.dialogType = 1;\r\n        this.titleText = this.$t('personal.dialog.title');\r\n      } else {\r\n        this.dialogType = 2;\r\n        this.titleText = this.$t('personal.userManagement.otherList.myInviteCod.text');\r\n      }\r\n      this.dialogConfirmFlag = true;\r\n      this.dialogFlag = true;\r\n    },\r\n    getUserInfo() {\r\n      if (this.userInfo !== null) {\r\n        // 邀请码信息\r\n        this.inviteCode = this.userInfo.inviteCode;\r\n        this.inviteQECode = this.userInfo.inviteQECode;\r\n        this.inviteUrl = this.userInfo.inviteUrl;\r\n        // 邀请码信息\r\n        this.userName = (this.userInfo.mobileNumber !== '') ? this.userInfo.mobileNumber : this.userInfo.email;// 有电话号码显示电话号码,无则显示邮箱\r\n        this.mobileNumber = this.userInfo.mobileNumber;// 电话号码\r\n        this.nickName = (this.userInfo.nickName !== '')\r\n          ? this.userInfo.nickName\r\n          : this.$t('personal.userManagement.userName');\r\n        this.email = this.userInfo.email;// 邮箱\r\n        this.checkValue = this.userInfo.nickName;\r\n        this.oldName = this.userInfo.nickName;\r\n        this.authLevel = this.userInfo.authLevel; // 身份认证状态\r\n        // this.authLevel = 2\r\n        this.is_krw_phone_auth = this.userInfo.is_krw_phone_auth; // NICE认证\r\n        if (Number(this.userInfo.useFeeCoinOpen) === 1) { // 是否开启手续费设置 1 开启 0 关闭\r\n          this.switchValue = true;\r\n        } else {\r\n          this.switchValue = false;\r\n        }\r\n        this.feeCoinOpen = this.userInfo.fee_coin_open;\r\n      }\r\n    },\r\n    openMobile() {\r\n      this.$store.dispatch('openMobileVerify');\r\n    },\r\n    switchChange() {\r\n      if (this.clickType) {\r\n        this.clickType = false;\r\n        setTimeout(() => {\r\n          this.clickType = true;\r\n        }, 1000);\r\n        if (this.switchValue) {\r\n          const info = { useFeeCoinOpen: '0' };\r\n          this.$store.dispatch('updateFeeCoinOpen', info);\r\n        } else {\r\n          const info = { useFeeCoinOpen: '1' };\r\n          this.$store.dispatch('updateFeeCoinOpen', info);\r\n        }\r\n      }\r\n    },\r\n    changePassword() {\r\n      if (this.smsCode === true || this.googleCode === true) {\r\n        this.$router.push('/personal/changePassword');\r\n      } else {\r\n        this.alertFlag = true;\r\n      }\r\n    },\r\n    changeEmail() {\r\n      if (this.smsCode === true || this.googleCode === true) {\r\n        this.$router.push('/personal/changeEmail');\r\n      } else {\r\n        this.alertFlag = true;\r\n      }\r\n    },\r\n    alertClose() {\r\n      this.alertFlag = false;\r\n    },\r\n    alertGo() {\r\n      this.alertFlag = false;\r\n    },\r\n  },\r\n};\r\n"]}]}