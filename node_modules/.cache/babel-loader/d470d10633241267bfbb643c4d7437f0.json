{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/assets/coAccount/coAccount.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/assets/coAccount/coAccount.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { fixD, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'page-coAccount',\n  data: function data() {\n    return {\n      showFlag: false,\n      tabelInfoData: [],\n      // 列表元素数据\n      detailsData: {},\n      // 账户详情\n      tabelLoading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      transferSide: '1',\n      transferValue: '',\n      dialogConfirmLoading: false,\n      // openContract:true,\n      // transStatus:0,\n      symbol: null,\n      // 开通合约交易弹框\n      openFuturesDialogShow: false\n    };\n  },\n  filters: {\n    fixDFn: function fixDFn(v, that) {\n      return fixD(v, that.detailsData.showPrecision);\n    }\n  },\n  watch: {\n    // 监听 用户配置信息\n    openContract: function openContract(val) {\n      if (!val) {\n        this.openFuturesDialogShow = true;\n      }\n    }\n  },\n  computed: {\n    // 是否开通合约\n    openContract: function openContract() {\n      if (this.$store.state.future) {\n        return this.$store.state.future.openContract;\n      }\n\n      return true;\n    },\n    // 是否被冻结\n    transStatus: function transStatus() {\n      if (this.$store.state.future) {\n        return this.$store.state.future.transStatus;\n      }\n\n      return true;\n    },\n    // 币种信息\n    marginCoinInfor: function marginCoinInfor() {\n      if (this.$store.state.future.marginCoinInfor) {\n        return this.$store.state.future.marginCoinInfor;\n      }\n\n      return {};\n    },\n    // 合约列表\n    contractList: function contractList() {\n      if (this.$store.state.future.contractList) {\n        return this.$store.state.future.contractList;\n      }\n\n      return [];\n    },\n    userInfo: function userInfo() {\n      if (this.$store.state.baseData.userInfo) {\n        return this.$store.state.baseData.userInfo;\n      }\n\n      return {};\n    },\n    // 表格数据\n    tableData: function tableData() {\n      var _this = this;\n\n      var arr = [];\n      this.tabelInfoData.forEach(function (item) {\n        var precision = _this.marginCoinInfor[item.symbol].marginCoinPrecision;\n        arr.push({\n          id: JSON.stringify(item),\n          data: [item.symbol, // 币种\n          fixD(item.canUseAmount, precision), // 可用s\n          fixD(item.totalAmount, precision), // 总资产\n          fixD(item.totalMargin, precision), // 全仓保证金\n          fixD(item.isolateMargin, precision), // 逐仓保证金\n          fixD(item.lockAmount, precision), // 冻结保证金\n          // fixD(item.realizedAmount, precision), // 已实现盈亏\n          // fixD(item.unRealizedAmount, precision), // 未实现盈亏\n          [{\n            type: _this.transStatus ? 'button' : 'label',\n            text: _this.$t('futures.coAccount.transfer'),\n            // 划转\n            eventType: 'clickDialog',\n            classes: [_this.transStatus ? '' : 'tableNownStyle tableTithDraw b-2-cl']\n          }]]\n        });\n      });\n      return arr;\n    },\n    // 表格title\n    columns: function columns() {\n      return [{\n        title: this.$t('futures.coAccount.coin'),\n        width: '5%'\n      }, // 币种\n      {\n        title: this.$t('futures.coAccount.canUser'),\n        width: '15%'\n      }, // 可用\n      {\n        title: this.$t('futures.coAccount.allBalance'),\n        width: '15%'\n      }, // 总资产\n      {\n        title: this.$t('futures.coAccount.allMargin'),\n        width: '15%'\n      }, // 全仓保证金\n      {\n        title: this.$t('futures.coAccount.subMargin'),\n        width: '15%'\n      }, // 逐仓保证金\n      {\n        title: this.$t('futures.coAccount.lockMargin'),\n        width: '15%'\n      }, // 冻结保证金\n      // { title: '已实现盈亏', width: '10%' }, // 已实现盈亏\n      // { title: '未实现盈亏', width: '10%' }, // 未实现盈亏s\n      {\n        title: this.$t('futures.coAccount.opera'),\n        width: '10%'\n      } // 未实现盈亏\n      ];\n    },\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    }\n  },\n  methods: {\n    init: function init() {\n      // 请求合约PublicInfo\n      this.$store.dispatch('getFutorePublicInfo');\n\n      if (!this.openContract) {\n        this.openFuturesDialogShow = true;\n      }\n\n      this.getDetailData();\n    },\n    getDetailData: function getDetailData() {\n      var _this2 = this;\n\n      this.axios({\n        url: 'position/get_assets_list',\n        hostType: 'co',\n        params: {\n          onlyAccount: 1\n        }\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          if (data.data.accountList.length) {\n            _this2.tabelInfoData = data.data.accountList;\n          }\n        }\n\n        _this2.tabelLoading = false;\n      });\n    },\n    tableClick: function tableClick(type, data) {\n      if (type === 'clickDialog') {\n        this.symbol = JSON.parse(data).symbol;\n        this.showFlag = true;\n      }\n    },\n    // 开通合约交易\n    submit: function submit() {\n      this.openFuturesDialogShow = false;\n      this.getDetailData();\n    },\n    // 关闭弹窗\n    closeDialog: function closeDialog(data) {\n      if (data) {\n        this.getDetailData();\n      } // 关闭开通合约交易弹框\n\n\n      this.openFuturesDialogShow = false;\n      this.showFlag = false;\n    }\n  }\n};",null]}