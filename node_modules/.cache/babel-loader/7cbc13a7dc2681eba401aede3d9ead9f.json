{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/SafetyRecord/SafetyRecord.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/SafetyRecord/SafetyRecord.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'bindEmail',\n  watch: {\n    loginHistory: function loginHistory(_loginHistory) {\n      this.loading1 = false;\n\n      if (_loginHistory) {\n        if (!_loginHistory.code) {\n          this.count = _loginHistory.count;\n          this.processData(_loginHistory.historyLoginList);\n        }\n      }\n    },\n    settingHistory: function settingHistory(_settingHistory) {\n      this.loading2 = false;\n\n      if (_settingHistory) {\n        if (!_settingHistory.code) {\n          this.count2 = _settingHistory.count;\n          this.processData(_settingHistory.historySettingList);\n        }\n      }\n    }\n  },\n  computed: {\n    navTab: function navTab() {\n      return [{\n        name: this.$t('personal.safetyRecord.navTab')[0],\n        index: 1\n      }, {\n        name: this.$t('personal.safetyRecord.navTab')[1],\n        index: 2\n      }];\n    },\n    loginHistory: function loginHistory() {\n      return this.$store.state.personal.loginHistory;\n    },\n    settingHistory: function settingHistory() {\n      return this.$store.state.personal.settingHistory;\n    }\n  },\n  data: function data() {\n    return {\n      loading1: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      loading2: true,\n      // 横向导航参数\n      currentTab: 1,\n      lineHeight: '55',\n      marginRight: 48,\n      // 距离右边的距离\n      // table 参数\n      columns: [{\n        title: this.$t('personal.safetyRecord.loginColumn')[0],\n        align: 'left',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('personal.safetyRecord.loginColumn')[1],\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('personal.safetyRecord.loginColumn')[2],\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('personal.safetyRecord.loginColumn')[3],\n        align: 'right',\n        width: ''\n      }],\n      columns2: [{\n        title: this.$t('personal.safetyRecord.settingColumn')[0],\n        align: 'left',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('personal.safetyRecord.settingColumn')[1],\n        align: 'center',\n        width: ''\n      }, {\n        title: this.$t('personal.safetyRecord.settingColumn')[2],\n        align: 'center',\n        width: ''\n      }],\n      dataList: [],\n      dataList2: [],\n      cellHeight: 55,\n      headHeight: 30,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // 数据相关\n      count: 0,\n      // 总条数\n      page: 1,\n      // 当前page\n      pageSize: 10,\n      // 每页显示\n      count2: 0,\n      // 总条数\n      page2: 1,\n      // 当前page\n      pageSize2: 10 // 每页显示\n\n    };\n  },\n  methods: {\n    init: function init() {\n      this.getLoginHistory();\n    },\n    // 接收当前的头部状态\n    currentType: function currentType(data) {\n      if (data.index !== this.currentTab) {\n        this.currentTab = data.index;\n\n        if (this.currentTab === 1) {\n          this.getLoginHistory();\n          this.count2 = 0; // 总条数\n\n          this.page2 = 1; // 当前page\n\n          this.pageSize2 = 10; // 每页显示\n        } else {\n          this.getSettingHistory();\n          this.count = 0; // 总条数\n\n          this.page = 1; // 当前page\n\n          this.pageSize = 10; // 每页显示\n        }\n      }\n    },\n    // 处理数据\n    processData: function processData(list) {\n      var _this = this;\n\n      if (this.currentTab === 1) {\n        this.dataList = list.map(function (obj) {\n          return {\n            data: [obj.formatLgInTime, obj.lgPlatform, obj.lgIp, obj.lgStatus === 1 ? _this.$t('personal.safetyRecord.success') : _this.$t('personal.safetyRecord.failure')]\n          };\n        });\n      } else {\n        this.dataList2 = list.map(function (obj) {\n          return {\n            data: [obj.formatCtime, obj.optTypeName, obj.optIp]\n          };\n        });\n      }\n    },\n    pagechange: function pagechange(page) {\n      if (this.currentTab === 1) {\n        this.page = page;\n        var info = {\n          page: this.page,\n          pageSize: this.pageSize\n        };\n        this.$store.dispatch('loginHistory', info);\n      } else {\n        this.page2 = page;\n        var _info = {\n          page: this.page2,\n          pageSize: this.pageSize2\n        };\n        this.$store.dispatch('settingHistory', _info);\n      }\n    },\n    getLoginHistory: function getLoginHistory() {\n      // 获取登录历史数据\n      var info = {\n        page: this.page,\n        pageSize: this.pageSize\n      };\n      this.loading1 = true;\n      this.$store.dispatch('loginHistory', info);\n    },\n    getSettingHistory: function getSettingHistory() {\n      // 获取安全设置历史数据\n      var info = {\n        page: this.page2,\n        pageSize: this.pageSize2\n      };\n      this.loading2 = true;\n      this.$store.dispatch('settingHistory', info);\n    }\n  }\n};",null]}