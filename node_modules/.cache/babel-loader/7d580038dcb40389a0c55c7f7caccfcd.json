{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/modules/trade/tradeForm/ex-tradeForm/ex-tradeForm.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/modules/trade/tradeForm/ex-tradeForm/ex-tradeForm.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport { myStorage, nul, getCoinShowName, fixRate, fixD, imgMap } from '@/utils';\nexport default {\n  name: 'tableList',\n  data: function data() {\n    return {\n      formData_1: {\n        title: this.$t('trade.price'),\n        // 价格\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[1] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: ''\n      },\n      formData_2: {\n        title: this.$t('trade.number'),\n        // '数量',\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: null\n      },\n      formData_3: {\n        title: this.$t('trade.price'),\n        // '价格',\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[1] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: null\n      },\n      formData_4: {\n        title: this.$t('trade.number'),\n        // '数量',\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: null\n      },\n      formData_5: {\n        title: this.$t('trade.noUnlock'),\n        // '充值未解锁',\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: true,\n        disabledText: '',\n        isShowUnit: true,\n        value: null\n      },\n      formData_6: {\n        title: this.$t('trade.ySellVol'),\n        // '可卖出数量',\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: true,\n        disabledText: '',\n        isShowUnit: true,\n        value: null\n      },\n      // 交易类型 1限价 2 市价\n      transactionType: 1,\n      // 当前切换的货币对\n      symbolCurrent: myStorage.get('sSymbolName'),\n      // 百分比\n      perArr: [25, 50, 75, 100],\n      perBuy: null,\n      perSell: null,\n      // 防止多次提交\n      fal: true,\n      assetsInter: null,\n      totalBalancesHide: false,\n      unlockSellFlag: true,\n      // 解锁卖出\n      isShowDialog: false,\n      imgMap: imgMap,\n      tsTexttype: 1\n    };\n  },\n  props: {},\n  computed: {\n    localText: function localText() {\n      return {\n        title1: this.$t('trade.price'),\n        // 价格\n        title2: this.$t('trade.number'),\n        // '数量',\n        title3: this.$t('trade.price'),\n        // '价格',\n        title4: this.$t('trade.number'),\n        // '数量',\n        title5: this.$t('trade.noUnlock'),\n        // '充值未解锁',\n        title6: this.$t('trade.ySellVol') // '可卖出数量',\n\n      };\n    },\n    coinSymbols: function coinSymbols() {\n      if (this.symbolCurrent) {\n        return this.symbolCurrent.replace('/', ',');\n      }\n\n      return '';\n    },\n    // 全部币种列表\n    coinList: function coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    overchargeMsg: function overchargeMsg() {\n      var symbolInfo = this.coinList[this.symbolUnit.symbol];\n      return symbolInfo ? symbolInfo.isOverchargeMsg : '';\n    },\n    // 是否展示解锁卖出\n    showUnlockSell: function showUnlockSell() {\n      var symbol = this.symbolUnit.symbol;\n      var publicInfo = this.$store.state.baseData.publicInfo;\n      var flag = false;\n\n      if (publicInfo && symbol && this.isLogin && publicInfo.market) {\n        var coinList = publicInfo.market.coinList;\n\n        if (coinList[symbol] && coinList[symbol].isOvercharge && coinList[symbol].isOvercharge.toString() === '1') {\n          flag = true;\n        }\n      }\n\n      return flag;\n    },\n    // 是否为计价货币手续费币对\n    openQuoteFee: function openQuoteFee() {\n      var _this$symbolUnit = this.symbolUnit,\n          units = _this$symbolUnit.units,\n          symbol = _this$symbolUnit.symbol;\n      var publicInfo = this.$store.state.baseData.publicInfo;\n      var flag = false;\n\n      if (publicInfo && units && symbol && publicInfo.market) {\n        var market = publicInfo.market.market;\n\n        if (market[units] && market[units][\"\".concat(symbol, \"/\").concat(units)] && market[units][\"\".concat(symbol, \"/\").concat(units)].openQuoteFee && market[units][\"\".concat(symbol, \"/\").concat(units)].openQuoteFee.toString() === '1') {\n          flag = true;\n        }\n      }\n\n      return flag;\n    },\n    // 计价货币手续费率\n    quoteFeeRate: function quoteFeeRate() {\n      var _this$symbolUnit2 = this.symbolUnit,\n          units = _this$symbolUnit2.units,\n          symbol = _this$symbolUnit2.symbol;\n      var publicInfo = this.$store.state.baseData.publicInfo;\n      var quoteFeeRate = 0;\n\n      if (publicInfo && symbol && units && publicInfo.market && this.openQuoteFee) {\n        var market = publicInfo.market.market;\n        quoteFeeRate = market[units][\"\".concat(symbol, \"/\").concat(units)].quoteFeeRate;\n      }\n\n      return quoteFeeRate;\n    },\n    isLogin: function isLogin() {\n      if (this.$store.state.baseData.isLogin) {\n        return this.$store.state.baseData.isLogin;\n      }\n\n      return false;\n    },\n    // 按钮信息\n    buttosContent: function buttosContent() {\n      return {\n        buyButton: {\n          text: this.isLogin ? \"\".concat(this.$t('trade.buy'), \" \").concat(getCoinShowName(this.symbolUnit.symbol, this.coinList)) : this.$t('trade.loginReg'),\n          // '登录/注册',\n          class: this.isLogin ? 'u-1-bg buyBtn u-16-cl' : 'u-8-bg buyBtn u-16-cl'\n        },\n        sellButton: {\n          text: this.isLogin ? \"\".concat(this.$t('trade.sell'), \" \").concat(getCoinShowName(this.symbolUnit.symbol, this.coinList)) : this.$t('trade.loginReg'),\n          // '登录/注册',\n          class: this.isLogin ? 'u-4-bg sellBtn u-16-cl' : 'u-8-bg sellBtn u-16-cl'\n        },\n        unlockSellButton: {\n          text: this.isLogin ? '一键解锁卖出' : this.$t('trade.loginReg'),\n          // '登录/注册',\n          class: this.isLogin ? 'u-4-bg sellBtn u-16-cl' : 'u-8-bg sellBtn u-16-cl'\n        }\n      };\n    },\n    // 账户资产\n    accountBalance: function accountBalance() {\n      if (this.$store.state.assets) {\n        return this.$store.state.assets.assetsCoinData;\n      }\n\n      return null;\n    },\n    // 当前币对的资产\n    currenTaccount: function currenTaccount() {\n      if (this.accountBalance && this.symbolUnit && this.fixValue) {\n        var allCoinMap = this.accountBalance.allCoinMap;\n        var _this$symbolUnit3 = this.symbolUnit,\n            symbol = _this$symbolUnit3.symbol,\n            units = _this$symbolUnit3.units;\n        return {\n          symbolAccoubt: allCoinMap[symbol] ? fixD(allCoinMap[symbol].normal_balance, this.fixValue.volumeFix) : '0',\n          unitsAccoubt: allCoinMap[units] ? fixD(allCoinMap[units].normal_balance, this.fixValue.priceFix) : '0',\n          symbolOpen: allCoinMap[symbol] ? allCoinMap[symbol].depositOpen : '0',\n          unitsOpen: allCoinMap[units] ? allCoinMap[units].depositOpen : '0',\n          // 可卖出数量\n          overcharge: allCoinMap[symbol] ? fixD(allCoinMap[symbol].overcharge_balance, this.fixValue.volumeFix) : '0',\n          // 充值未解锁\n          lockPositionV2Amount: allCoinMap[symbol] ? fixD(allCoinMap[symbol].lock_position_v2_amount, this.fixValue.volumeFix) : '0'\n        };\n      }\n\n      return {\n        symbolAccoubt: '0',\n        unitsAccoubt: '0',\n        symbolOpen: '0',\n        unitsOpen: '0',\n        overcharge: '0',\n        lockPositionV2Amount: '0'\n      };\n    },\n    // 折合总资产\n    totalBalances: function totalBalances() {\n      if (this.accountBalance) {\n        var _this$accountBalance = this.accountBalance,\n            totalBalance = _this$accountBalance.totalBalance,\n            totalBalanceSymbol = _this$accountBalance.totalBalanceSymbol;\n        return {\n          totalBalance: totalBalance,\n          totalBalanceSymbol: totalBalanceSymbol,\n          totalRater: fixRate(totalBalance, this.rateData, totalBalanceSymbol)\n        };\n      }\n\n      return {\n        totalBalance: '0.0000',\n        totalBalanceSymbol: 'BTC',\n        totalRater: '0.00'\n      };\n    },\n    // 当前币对\n    symbolUnit: function symbolUnit() {\n      if (this.symbolCurrent) {\n        var publicInfo = this.$store.state.baseData.publicInfo;\n\n        var _this$symbolCurrent$s = this.symbolCurrent.split('/'),\n            _this$symbolCurrent$s2 = _slicedToArray(_this$symbolCurrent$s, 2),\n            symbol = _this$symbolCurrent$s2[0],\n            units = _this$symbolCurrent$s2[1];\n\n        var showPrecision = publicInfo && publicInfo.market ? publicInfo.market.coinList[units].showPrecision : 0;\n        return {\n          symbol: symbol,\n          units: units,\n          showPrecision: showPrecision\n        };\n      }\n\n      return {};\n    },\n    // 汇率单位\n    rateData: function rateData() {\n      return this.$store.state.baseData.rate;\n    },\n    // 全部币对列表\n    symbolAll: function symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    // 当前币对精度计算的值\n    fixValue: function fixValue() {\n      if (this.symbolAll && this.symbolCurrent) {\n        var symbol = this.symbolAll[this.symbolCurrent];\n        return {\n          priceFix: symbol.price,\n          volumeFix: symbol.volume\n        };\n      }\n\n      return {\n        priceFix: 2,\n        volumeFix: 8\n      };\n    },\n    formData2Fix: function formData2Fix() {\n      if (this.transactionType === 2) {\n        return this.fixValue.priceFix;\n      }\n\n      return this.fixValue.volumeFix;\n    },\n    // 买入交易额\n    tradeVolumeBuy: function tradeVolumeBuy() {\n      var count = nul(fixD(this.formData_1.value, this.fixValue.priceFix), fixD(this.formData_2.value, this.fixValue.priceFix));\n      return fixD(count, this.symbolUnit.showPrecision);\n    },\n    tradeVolumeSell: function tradeVolumeSell() {\n      var count = nul(fixD(this.formData_3.value, this.fixValue.priceFix), fixD(this.formData_4.value, this.fixValue.priceFix));\n      return fixD(count, this.symbolUnit.showPrecision);\n    },\n    baseData: function baseData() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    // 交易是否开启了必须实名认证\n    exchangeTradeKycOpen: function exchangeTradeKycOpen() {\n      var isOpen = 0;\n\n      if (this.baseData && this.baseData.kycLimitConfig) {\n        isOpen = this.baseData.kycLimitConfig.exchange_trade_kyc_open;\n      }\n\n      return Number(isOpen);\n    },\n    // 用户信息\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    // 认证信息\n    idAuth: function idAuth() {\n      var idAuth = 0;\n\n      if (this.userInfo) {\n        idAuth = Number(this.userInfo.authLevel);\n      }\n\n      return idAuth;\n    }\n  },\n  watch: {\n    localText: function localText(_localText) {\n      this.formData_1.title = _localText.title1;\n      this.formData_2.title = _localText.title2;\n      this.formData_3.title = _localText.title3;\n      this.formData_4.title = _localText.title4;\n      this.formData_5.title = _localText.title5;\n      this.formData_6.title = _localText.title6;\n    },\n    currenTaccount: function currenTaccount(value) {\n      if (value) {\n        this.formData_5.disabledText = value.lockPositionV2Amount;\n        this.formData_6.disabledText = value.overcharge;\n      }\n    },\n    isLogin: function isLogin(val) {\n      var _this = this;\n\n      if (val) {\n        this.$store.dispatch('assetsExchangeData', {\n          auto: false,\n          coinSymbols: this.coinSymbols\n        });\n        clearInterval(this.assetsInter);\n        this.assetsInter = setInterval(function () {\n          _this.$store.dispatch('assetsExchangeData', {\n            auto: true,\n            coinSymbols: _this.symbolUnit.symbol\n          });\n        }, 10000);\n      }\n    },\n    // 切换 限价交易 和 市价交易\n    transactionType: function transactionType(val) {\n      // 2 市价交易\n      if (val === 2) {\n        this.formData_1.disabled = true;\n        this.formData_1.disabledText = this.$t('trade.mPriceBuy'); // 以市场最优价买入\n\n        this.formData_2.title = this.$t('trade.dealMoney'); // '交易额';\n\n        this.formData_2.units = this.symbolUnit.units;\n        this.formData_3.disabled = true;\n        this.formData_3.disabledText = this.$t('trade.mPriceSell'); // 以市场最优价卖出\n      } else {\n        this.formData_1.disabled = false;\n        this.formData_1.disabledText = '';\n        this.formData_2.title = this.$t('trade.number'); // '数量';\n\n        this.formData_2.units = this.symbolUnit.symbol;\n        this.formData_3.disabled = false;\n        this.formData_3.disabledText = '';\n      }\n    },\n    // 各个输入框的 单位\n    symbolUnit: function symbolUnit(val) {\n      this.formData_1.units = val.units;\n      this.formData_2.units = val.symbol;\n      this.formData_3.units = val.units;\n      this.formData_4.units = val.symbol;\n      this.formData_5.units = val.symbol;\n      this.formData_6.units = val.symbol;\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this2 = this;\n\n      // 监听 当前货币对切换\n      this.$bus.$on('SYMBOL_CURRENT', function (val) {\n        _this2.clearValue();\n\n        _this2.symbolCurrent = val;\n\n        if (_this2.transactionType === 3) {\n          _this2.transactionType = 1;\n        }\n      });\n\n      if (this.isLogin) {\n        this.$store.dispatch('assetsExchangeData', {\n          auto: false,\n          coinSymbols: this.coinSymbols\n        });\n        clearInterval(this.assetsInter);\n        this.assetsInter = setInterval(function () {\n          _this2.$store.dispatch('assetsExchangeData', {\n            auto: true,\n            coinSymbols: _this2.symbolUnit.symbol\n          });\n        }, 10000);\n      } // 监听 价格点击\n\n\n      this.$bus.$on('HANDEL_PRICE', function (data) {\n        if (data) {\n          // const obj = {name: 'formData_1', data };\n          var arr = ['formData_1', 'formData_3'];\n          arr.forEach(function (item) {\n            _this2.onChaneForm({\n              name: item,\n              value: data\n            });\n          }); // onChaneForm\n          // this.formData_1.value = data;\n          // this.formData_3.value = data;\n        }\n      });\n    },\n    unlockSell: function unlockSell() {\n      var _this3 = this;\n\n      if (!this.unlockSellFlag) return;\n      this.unlockSellFlag = false;\n\n      if (this.exchangeTradeKycOpen && this.idAuth !== 1) {\n        this.isShowDialog = true;\n      } else {\n        this.axios({\n          url: 'order/create_overcharge_onekey',\n          headers: {},\n          params: {\n            symbol: this.symbolCurrent\n          },\n          method: 'post'\n        }).then(function (data) {\n          _this3.unlockSellFlag = true;\n\n          if (data.code === '0') {\n            // 重新请求资产\n            _this3.$store.dispatch('assetsExchangeData', {\n              auto: false,\n              coinSymbols: _this3.coinSymbols\n            }); // 提示成功 下单成功\n\n\n            _this3.$bus.$emit('tip', {\n              text: _this3.$t('trade.dealCussess'),\n              type: 'success'\n            });\n          } else {\n            _this3.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    },\n    goCz: function goCz(v) {\n      if (this.exchangeTradeKycOpen && this.idAuth !== 1) {\n        this.tsTexttype = 2;\n        this.isShowDialog = true;\n      } else if (v) {\n        if (process.env.NODE_ENV === 'development') {\n          window.location.href = \"assets/recharge?symbol=\".concat(v);\n        } else {\n          window.location.href = \"/assets/recharge?symbol=\".concat(v);\n        }\n      }\n    },\n    // 切换 限价交易 和 市价交易\n    switchTradeType: function switchTradeType(type) {\n      this.clearValue();\n      this.transactionType = type;\n    },\n    // 显示隐藏折合资产\n    handelTotal: function handelTotal() {\n      this.totalBalancesHide = !this.totalBalancesHide;\n    },\n    // input 框 输入事件\n    onChaneForm: function onChaneForm(data) {\n      this[data.name].value = data.value;\n\n      if (data.value) {\n        this[data.name].isError = false;\n      }\n\n      if (data.name === 'formData_3' || data.name === 'formData_1') {\n        this[data.name].subText = fixRate(fixD(data.value, this.fixValue.priceFix), this.rateData, this.symbolUnit.units);\n      }\n\n      if (data.name === 'formData_2' || data.name === 'formData_1') {\n        var V1 = this.formData_1.value;\n        var V2 = this.formData_2.value;\n        var UA = this.currenTaccount.unitsAccoubt;\n        this.perBuy = V1 * V2 / UA * 100;\n      }\n\n      if (data.name === 'formData_4' || data.name === 'formData_3') {\n        var V3 = parseFloat(this.formData_3.value);\n        var V4 = parseFloat(this.formData_4.value);\n        var SA = this.currenTaccount.symbolAccoubt;\n        this.perSell = V3 * V4 / SA * 100;\n      }\n\n      if (!data.value) {\n        this[data.name].subText = null;\n      }\n    },\n    // 点击百分之 事件\n    setPerNumber: function setPerNumber(type, num) {\n      if (!this.isLogin) {\n        // 请先登录账号\n        this.$bus.$emit('tip', {\n          text: this.$t('trade.pleaseLogin'),\n          type: 'error'\n        });\n      } else if (type === 'buy') {\n        if (!this.formData_1.value && this.transactionType === 1) {\n          // 请输入价格\n          this.formData_1.errorText = this.$t('trade.pleasePrice');\n          this.formData_1.isError = true;\n        } else if (this.transactionType === 1) {\n          this.perBuy = num;\n          var data = this.currenTaccount.unitsAccoubt / this.formData_1.value * (num / 100); // 可用余额 / (价格*(1+手续费比例)）* 百分比\n\n          var dataFee = this.currenTaccount.unitsAccoubt / (this.formData_1.value * (1 + this.quoteFeeRate)) * (num / 100);\n          var numberVol = this.openQuoteFee ? dataFee : data;\n          this.formData_2.value = fixD(numberVol, this.fixValue.volumeFix);\n        } else {\n          this.perBuy = num;\n\n          var _data = this.currenTaccount.unitsAccoubt * (num / 100);\n\n          this.formData_2.value = fixD(_data, this.fixValue.priceFix);\n        }\n      } else if (type === 'sell') {\n        this.perSell = num;\n\n        var _data2 = this.currenTaccount.symbolAccoubt * (num / 100);\n\n        this.formData_4.value = fixD(_data2, this.fixValue.volumeFix);\n      }\n    },\n    // 百分比按钮class\n    perSellClass: function perSellClass(num) {\n      if (this.perSell === num) {\n        return ['a-12-bd', 'b-4-cl'];\n      }\n\n      return 'a-3-bd';\n    },\n    perBuyClass: function perBuyClass(num) {\n      if (this.perBuy === num) {\n        return ['a-12-bd', 'b-4-cl'];\n      }\n\n      return 'a-3-bd';\n    },\n    // 交易额 文字颜色Class\n    volumeTradeClass: function volumeTradeClass(num, total) {\n      if (parseFloat(num) > parseFloat(total)) {\n        return 'u-4-cl';\n      }\n\n      return 'b-1-cl';\n    },\n    submitFormKey: function submitFormKey(type) {\n      var formKey = [];\n      var price = null;\n      var volume = null;\n\n      if (this.transactionType === 1) {\n        if (type === 'BUY') {\n          formKey = ['formData_1', 'formData_2'];\n          price = fixD(this.formData_1.value, this.fixValue.priceFix);\n          volume = fixD(this.formData_2.value, this.fixValue.volumeFix);\n        } else {\n          formKey = ['formData_3', 'formData_4'];\n          price = fixD(this.formData_3.value, this.fixValue.priceFix);\n          volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\n        }\n      } else if (type === 'BUY') {\n        formKey = ['formData_2'];\n        volume = fixD(this.formData_2.value, this.fixValue.priceFix);\n      } else {\n        formKey = ['formData_4'];\n        volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\n      }\n\n      return {\n        formKey: formKey,\n        price: price,\n        volume: volume\n      };\n    },\n    // 清空 表单数据\n    clearValue: function clearValue() {\n      var _this4 = this;\n\n      var formKey = ['formData_1', 'formData_2', 'formData_3', 'formData_4'];\n      formKey.forEach(function (item) {\n        _this4[item].value = '';\n        _this4[item].isError = false;\n        _this4[item].subText = null;\n      });\n      this.perSell = 0;\n      this.perBuy = 0;\n    },\n    submit: function submit(side) {\n      var _this5 = this;\n\n      if (!this.isLogin) {\n        this.$router.push('/login');\n      } else if (this.exchangeTradeKycOpen && this.idAuth !== 1) {\n        this.tsTexttype = 1;\n        this.isShowDialog = true;\n      } else {\n        var _this$submitFormKey = this.submitFormKey(side),\n            formKey = _this$submitFormKey.formKey,\n            price = _this$submitFormKey.price,\n            volume = _this$submitFormKey.volume;\n\n        var fal = true;\n\n        if (formKey.length) {\n          formKey.forEach(function (item) {\n            var value = _this5[item].value;\n\n            if (!value) {\n              _this5[item].errorText = \"\".concat(_this5.$t('trade.pleaseInput')).concat(_this5[item].title);\n              _this5[item].isError = true;\n              fal = false;\n            }\n\n            if (parseFloat(value) <= 0) {\n              _this5[item].errorText = \"\".concat(_this5[item].title).concat(_this5.$t('trade.inputError')); // 输入有误\n\n              _this5[item].isError = true;\n              fal = false;\n            }\n          });\n\n          if (this.fal && fal) {\n            var symbolArr = this.symbolCurrent.split('/');\n            var symbol = symbolArr[0].toLowerCase() + symbolArr[1].toLowerCase();\n            this.fal = false;\n            var submitData = {\n              side: side,\n              price: price,\n              volume: volume,\n              symbol: symbol,\n              type: this.transactionType\n            };\n            this.axios({\n              url: this.$store.state.url.cointran.order_create,\n              headers: {},\n              params: submitData,\n              method: 'post'\n            }).then(function (data) {\n              if (data.code === '0') {\n                // 清空表单\n                _this5.clearValue(); // 重新请求资产\n\n\n                _this5.$store.dispatch('assetsExchangeData', {\n                  auto: false,\n                  coinSymbols: _this5.coinSymbols\n                }); // 发送下单成功的事件\n\n\n                _this5.$bus.$emit('ORDER_CREATE', {\n                  type: 'success'\n                }); // 提示成功 下单成功\n\n\n                _this5.$bus.$emit('tip', {\n                  text: _this5.$t('trade.dealCussess'),\n                  type: 'success'\n                });\n\n                _this5.fal = true;\n              } else {\n                _this5.$bus.$emit('tip', {\n                  text: data.msg,\n                  type: 'error'\n                });\n\n                _this5.fal = true;\n              }\n            });\n          }\n        }\n      }\n    },\n    dialogClose: function dialogClose() {\n      this.isShowDialog = false;\n    },\n    // 去认证\n    gotoAuth: function gotoAuth() {\n      this.$router.push('/personal/userManagement');\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/modules/trade/tradeForm/ex-tradeForm/ex-tradeForm.js"],"names":["myStorage","nul","getCoinShowName","fixRate","fixD","imgMap","name","data","formData_1","title","$t","units","get","split","subText","errorText","isError","disabled","disabledText","value","formData_2","formData_3","formData_4","formData_5","isShowUnit","formData_6","transactionType","symbolCurrent","perArr","perBuy","perSell","fal","assetsInter","totalBalancesHide","unlockSellFlag","isShowDialog","tsTexttype","props","computed","localText","title1","title2","title3","title4","title5","title6","coinSymbols","replace","coinList","$store","state","baseData","market","overchargeMsg","symbolInfo","symbolUnit","symbol","isOverchargeMsg","showUnlockSell","publicInfo","flag","isLogin","isOvercharge","toString","openQuoteFee","quoteFeeRate","buttosContent","buyButton","text","class","sellButton","unlockSellButton","accountBalance","assets","assetsCoinData","currenTaccount","fixValue","allCoinMap","symbolAccoubt","normal_balance","volumeFix","unitsAccoubt","priceFix","symbolOpen","depositOpen","unitsOpen","overcharge","overcharge_balance","lockPositionV2Amount","lock_position_v2_amount","totalBalances","totalBalance","totalBalanceSymbol","totalRater","rateData","showPrecision","rate","symbolAll","price","volume","formData2Fix","tradeVolumeBuy","count","tradeVolumeSell","exchangeTradeKycOpen","isOpen","kycLimitConfig","exchange_trade_kyc_open","Number","userInfo","idAuth","authLevel","watch","val","dispatch","auto","clearInterval","setInterval","methods","init","$bus","$on","clearValue","arr","forEach","item","onChaneForm","unlockSell","axios","url","headers","params","method","then","code","$emit","type","msg","goCz","v","process","env","NODE_ENV","window","location","href","switchTradeType","handelTotal","V1","V2","UA","V3","parseFloat","V4","SA","setPerNumber","num","dataFee","numberVol","perSellClass","perBuyClass","volumeTradeClass","total","submitFormKey","formKey","submit","side","$router","push","length","symbolArr","toLowerCase","submitData","cointran","order_create","dialogClose","gotoAuth"],"mappings":"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","sourcesContent":["import {\r\n  myStorage, nul, getCoinShowName, fixRate, fixD, imgMap,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'tableList',\r\n  data() {\r\n    return {\r\n      formData_1: {\r\n        title: this.$t('trade.price'), // 价格\r\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[1] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: '',\r\n      },\r\n      formData_2: {\r\n        title: this.$t('trade.number'), // '数量',\r\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: null,\r\n      },\r\n      formData_3: {\r\n        title: this.$t('trade.price'), // '价格',\r\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[1] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: null,\r\n      },\r\n      formData_4: {\r\n        title: this.$t('trade.number'), // '数量',\r\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: null,\r\n      },\r\n      formData_5: {\r\n        title: this.$t('trade.noUnlock'), // '充值未解锁',\r\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: true,\r\n        disabledText: '',\r\n        isShowUnit: true,\r\n        value: null,\r\n      },\r\n      formData_6: {\r\n        title: this.$t('trade.ySellVol'), // '可卖出数量',\r\n        units: myStorage.get('sSymbolName') ? myStorage.get('sSymbolName').split('/')[0] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: true,\r\n        disabledText: '',\r\n        isShowUnit: true,\r\n        value: null,\r\n      },\r\n      // 交易类型 1限价 2 市价\r\n      transactionType: 1,\r\n      // 当前切换的货币对\r\n      symbolCurrent: myStorage.get('sSymbolName'),\r\n      // 百分比\r\n      perArr: [25, 50, 75, 100],\r\n      perBuy: null,\r\n      perSell: null,\r\n      // 防止多次提交\r\n      fal: true,\r\n      assetsInter: null,\r\n      totalBalancesHide: false,\r\n      unlockSellFlag: true, // 解锁卖出\r\n      isShowDialog: false,\r\n      imgMap,\r\n      tsTexttype: 1,\r\n    };\r\n  },\r\n  props: {\r\n  },\r\n  computed: {\r\n    localText() {\r\n      return {\r\n        title1: this.$t('trade.price'), // 价格\r\n        title2: this.$t('trade.number'), // '数量',\r\n        title3: this.$t('trade.price'), // '价格',\r\n        title4: this.$t('trade.number'), // '数量',\r\n        title5: this.$t('trade.noUnlock'), // '充值未解锁',\r\n        title6: this.$t('trade.ySellVol'), // '可卖出数量',\r\n      };\r\n    },\r\n    coinSymbols() {\r\n      if (this.symbolCurrent) {\r\n        return this.symbolCurrent.replace('/', ',');\r\n      }\r\n      return '';\r\n    },\r\n    // 全部币种列表\r\n    coinList() {\r\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\r\n        return this.$store.state.baseData.market.coinList;\r\n      }\r\n      return null;\r\n    },\r\n    overchargeMsg() {\r\n      const symbolInfo = this.coinList[this.symbolUnit.symbol];\r\n      return symbolInfo ? symbolInfo.isOverchargeMsg : '';\r\n    },\r\n    // 是否展示解锁卖出\r\n    showUnlockSell() {\r\n      const { symbol } = this.symbolUnit;\r\n      const { publicInfo } = this.$store.state.baseData;\r\n      let flag = false;\r\n      if (publicInfo && symbol && this.isLogin && publicInfo.market) {\r\n        const { coinList } = publicInfo.market;\r\n        if (coinList[symbol]\r\n          && coinList[symbol].isOvercharge\r\n          && coinList[symbol].isOvercharge.toString() === '1') {\r\n          flag = true;\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    // 是否为计价货币手续费币对\r\n    openQuoteFee() {\r\n      const { units, symbol } = this.symbolUnit;\r\n      const { publicInfo } = this.$store.state.baseData;\r\n      let flag = false;\r\n      if (publicInfo && units && symbol && publicInfo.market) {\r\n        const { market } = publicInfo.market;\r\n        if (market[units]\r\n          && market[units][`${symbol}/${units}`]\r\n          && market[units][`${symbol}/${units}`].openQuoteFee\r\n          && market[units][`${symbol}/${units}`].openQuoteFee.toString() === '1') {\r\n          flag = true;\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    // 计价货币手续费率\r\n    quoteFeeRate() {\r\n      const { units, symbol } = this.symbolUnit;\r\n      const { publicInfo } = this.$store.state.baseData;\r\n      let quoteFeeRate = 0;\r\n      if (publicInfo && symbol && units && publicInfo.market && this.openQuoteFee) {\r\n        const { market } = publicInfo.market;\r\n        quoteFeeRate = market[units][`${symbol}/${units}`].quoteFeeRate;\r\n      }\r\n      return quoteFeeRate;\r\n    },\r\n    isLogin() {\r\n      if (this.$store.state.baseData.isLogin) {\r\n        return this.$store.state.baseData.isLogin;\r\n      }\r\n      return false;\r\n    },\r\n    // 按钮信息\r\n    buttosContent() {\r\n      return {\r\n        buyButton: {\r\n          text: this.isLogin\r\n            ? `${this.$t('trade.buy')} ${getCoinShowName(this.symbolUnit.symbol, this.coinList)}`\r\n            : this.$t('trade.loginReg'), // '登录/注册',\r\n          class: this.isLogin ? 'u-1-bg buyBtn u-16-cl' : 'u-8-bg buyBtn u-16-cl',\r\n        },\r\n        sellButton: {\r\n          text: this.isLogin\r\n            ? `${this.$t('trade.sell')} ${getCoinShowName(this.symbolUnit.symbol, this.coinList)}`\r\n            : this.$t('trade.loginReg'), // '登录/注册',\r\n          class: this.isLogin ? 'u-4-bg sellBtn u-16-cl' : 'u-8-bg sellBtn u-16-cl',\r\n        },\r\n        unlockSellButton: {\r\n          text: this.isLogin ? '一键解锁卖出' : this.$t('trade.loginReg'), // '登录/注册',\r\n          class: this.isLogin ? 'u-4-bg sellBtn u-16-cl' : 'u-8-bg sellBtn u-16-cl',\r\n        },\r\n      };\r\n    },\r\n    // 账户资产\r\n    accountBalance() {\r\n      if (this.$store.state.assets) {\r\n        return this.$store.state.assets.assetsCoinData;\r\n      }\r\n      return null;\r\n    },\r\n    // 当前币对的资产\r\n    currenTaccount() {\r\n      if (this.accountBalance && this.symbolUnit && this.fixValue) {\r\n        const { allCoinMap } = this.accountBalance;\r\n        const { symbol, units } = this.symbolUnit;\r\n        return {\r\n          symbolAccoubt: allCoinMap[symbol] ? fixD(allCoinMap[symbol].normal_balance, this.fixValue.volumeFix) : '0',\r\n          unitsAccoubt: allCoinMap[units] ? fixD(allCoinMap[units].normal_balance, this.fixValue.priceFix) : '0',\r\n          symbolOpen: allCoinMap[symbol] ? allCoinMap[symbol].depositOpen : '0',\r\n          unitsOpen: allCoinMap[units] ? allCoinMap[units].depositOpen : '0',\r\n          // 可卖出数量\r\n          overcharge: allCoinMap[symbol] ? fixD(allCoinMap[symbol].overcharge_balance, this.fixValue.volumeFix) : '0',\r\n          // 充值未解锁\r\n          lockPositionV2Amount: allCoinMap[symbol] ? fixD(allCoinMap[symbol].lock_position_v2_amount, this.fixValue.volumeFix) : '0',\r\n        };\r\n      }\r\n      return {\r\n        symbolAccoubt: '0',\r\n        unitsAccoubt: '0',\r\n        symbolOpen: '0',\r\n        unitsOpen: '0',\r\n        overcharge: '0',\r\n        lockPositionV2Amount: '0',\r\n      };\r\n    },\r\n    // 折合总资产\r\n    totalBalances() {\r\n      if (this.accountBalance) {\r\n        const { totalBalance, totalBalanceSymbol } = this.accountBalance;\r\n        return {\r\n          totalBalance,\r\n          totalBalanceSymbol,\r\n          totalRater: fixRate(totalBalance, this.rateData, totalBalanceSymbol),\r\n        };\r\n      }\r\n      return {\r\n        totalBalance: '0.0000',\r\n        totalBalanceSymbol: 'BTC',\r\n        totalRater: '0.00',\r\n      };\r\n    },\r\n    // 当前币对\r\n    symbolUnit() {\r\n      if (this.symbolCurrent) {\r\n        const { publicInfo } = this.$store.state.baseData;\r\n        const [symbol, units] = this.symbolCurrent.split('/');\r\n        const showPrecision = publicInfo && publicInfo.market\r\n          ? publicInfo.market.coinList[units].showPrecision : 0;\r\n        return {\r\n          symbol,\r\n          units,\r\n          showPrecision,\r\n        };\r\n      }\r\n      return {};\r\n    },\r\n    // 汇率单位\r\n    rateData() {\r\n      return this.$store.state.baseData.rate;\r\n    },\r\n    // 全部币对列表\r\n    symbolAll() {\r\n      return this.$store.state.baseData.symbolAll;\r\n    },\r\n    // 当前币对精度计算的值\r\n    fixValue() {\r\n      if (this.symbolAll && this.symbolCurrent) {\r\n        const symbol = this.symbolAll[this.symbolCurrent];\r\n        return {\r\n          priceFix: symbol.price,\r\n          volumeFix: symbol.volume,\r\n        };\r\n      }\r\n      return {\r\n        priceFix: 2,\r\n        volumeFix: 8,\r\n      };\r\n    },\r\n    formData2Fix() {\r\n      if (this.transactionType === 2) {\r\n        return this.fixValue.priceFix;\r\n      }\r\n      return this.fixValue.volumeFix;\r\n    },\r\n    // 买入交易额\r\n    tradeVolumeBuy() {\r\n      const count = nul(fixD(this.formData_1.value, this.fixValue.priceFix),\r\n        fixD(this.formData_2.value, this.fixValue.priceFix));\r\n\r\n      return fixD(\r\n        count,\r\n        this.symbolUnit.showPrecision,\r\n      );\r\n    },\r\n    tradeVolumeSell() {\r\n      const count = nul(fixD(this.formData_3.value, this.fixValue.priceFix),\r\n        fixD(this.formData_4.value, this.fixValue.priceFix));\r\n\r\n      return fixD(\r\n        count,\r\n        this.symbolUnit.showPrecision,\r\n      );\r\n    },\r\n    baseData() {\r\n      return this.$store.state.baseData.publicInfo;\r\n    },\r\n    // 交易是否开启了必须实名认证\r\n    exchangeTradeKycOpen() {\r\n      let isOpen = 0;\r\n      if (this.baseData && this.baseData.kycLimitConfig) {\r\n        isOpen = this.baseData.kycLimitConfig.exchange_trade_kyc_open;\r\n      }\r\n      return Number(isOpen);\r\n    },\r\n    // 用户信息\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    // 认证信息\r\n    idAuth() {\r\n      let idAuth = 0;\r\n      if (this.userInfo) {\r\n        idAuth = Number(this.userInfo.authLevel);\r\n      }\r\n      return idAuth;\r\n    },\r\n  },\r\n  watch: {\r\n    localText(localText) {\r\n      this.formData_1.title = localText.title1;\r\n      this.formData_2.title = localText.title2;\r\n      this.formData_3.title = localText.title3;\r\n      this.formData_4.title = localText.title4;\r\n      this.formData_5.title = localText.title5;\r\n      this.formData_6.title = localText.title6;\r\n    },\r\n    currenTaccount(value) {\r\n      if (value) {\r\n        this.formData_5.disabledText = value.lockPositionV2Amount;\r\n        this.formData_6.disabledText = value.overcharge;\r\n      }\r\n    },\r\n    isLogin(val) {\r\n      if (val) {\r\n        this.$store.dispatch('assetsExchangeData', {\r\n          auto: false,\r\n          coinSymbols: this.coinSymbols,\r\n        });\r\n        clearInterval(this.assetsInter);\r\n        this.assetsInter = setInterval(() => {\r\n          this.$store.dispatch('assetsExchangeData', {\r\n            auto: true,\r\n            coinSymbols: this.symbolUnit.symbol,\r\n          });\r\n        }, 10000);\r\n      }\r\n    },\r\n    // 切换 限价交易 和 市价交易\r\n    transactionType(val) {\r\n      // 2 市价交易\r\n      if (val === 2) {\r\n        this.formData_1.disabled = true;\r\n        this.formData_1.disabledText = this.$t('trade.mPriceBuy'); // 以市场最优价买入\r\n        this.formData_2.title = this.$t('trade.dealMoney'); // '交易额';\r\n        this.formData_2.units = this.symbolUnit.units;\r\n        this.formData_3.disabled = true;\r\n        this.formData_3.disabledText = this.$t('trade.mPriceSell'); // 以市场最优价卖出\r\n      } else {\r\n        this.formData_1.disabled = false;\r\n        this.formData_1.disabledText = '';\r\n        this.formData_2.title = this.$t('trade.number'); // '数量';\r\n        this.formData_2.units = this.symbolUnit.symbol;\r\n        this.formData_3.disabled = false;\r\n        this.formData_3.disabledText = '';\r\n      }\r\n    },\r\n    // 各个输入框的 单位\r\n    symbolUnit(val) {\r\n      this.formData_1.units = val.units;\r\n      this.formData_2.units = val.symbol;\r\n      this.formData_3.units = val.units;\r\n      this.formData_4.units = val.symbol;\r\n      this.formData_5.units = val.symbol;\r\n      this.formData_6.units = val.symbol;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 监听 当前货币对切换\r\n      this.$bus.$on('SYMBOL_CURRENT', (val) => {\r\n        this.clearValue();\r\n        this.symbolCurrent = val;\r\n        if (this.transactionType === 3) {\r\n          this.transactionType = 1;\r\n        }\r\n      });\r\n      if (this.isLogin) {\r\n        this.$store.dispatch('assetsExchangeData', {\r\n          auto: false,\r\n          coinSymbols: this.coinSymbols,\r\n        });\r\n        clearInterval(this.assetsInter);\r\n        this.assetsInter = setInterval(() => {\r\n          this.$store.dispatch('assetsExchangeData', {\r\n            auto: true,\r\n            coinSymbols: this.symbolUnit.symbol,\r\n          });\r\n        }, 10000);\r\n      }\r\n      // 监听 价格点击\r\n      this.$bus.$on('HANDEL_PRICE', (data) => {\r\n        if (data) {\r\n        // const obj = {name: 'formData_1', data };\r\n          const arr = ['formData_1', 'formData_3'];\r\n          arr.forEach((item) => {\r\n            this.onChaneForm({ name: item, value: data });\r\n          });\r\n        // onChaneForm\r\n        // this.formData_1.value = data;\r\n        // this.formData_3.value = data;\r\n        }\r\n      });\r\n    },\r\n    unlockSell() {\r\n      if (!this.unlockSellFlag) return;\r\n      this.unlockSellFlag = false;\r\n      if (this.exchangeTradeKycOpen && this.idAuth !== 1) {\r\n        this.isShowDialog = true;\r\n      } else {\r\n        this.axios({\r\n          url: 'order/create_overcharge_onekey',\r\n          headers: {},\r\n          params: { symbol: this.symbolCurrent },\r\n          method: 'post',\r\n        }).then((data) => {\r\n          this.unlockSellFlag = true;\r\n          if (data.code === '0') {\r\n            // 重新请求资产\r\n            this.$store.dispatch('assetsExchangeData', {\r\n              auto: false,\r\n              coinSymbols: this.coinSymbols,\r\n            });\r\n            // 提示成功 下单成功\r\n            this.$bus.$emit('tip', { text: this.$t('trade.dealCussess'), type: 'success' });\r\n          } else {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    goCz(v) {\r\n      if (this.exchangeTradeKycOpen && this.idAuth !== 1) {\r\n        this.tsTexttype = 2;\r\n        this.isShowDialog = true;\r\n      } else if (v) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          window.location.href = `assets/recharge?symbol=${v}`;\r\n        } else {\r\n          window.location.href = `/assets/recharge?symbol=${v}`;\r\n        }\r\n      }\r\n    },\r\n    // 切换 限价交易 和 市价交易\r\n    switchTradeType(type) {\r\n      this.clearValue();\r\n      this.transactionType = type;\r\n    },\r\n    // 显示隐藏折合资产\r\n    handelTotal() {\r\n      this.totalBalancesHide = !this.totalBalancesHide;\r\n    },\r\n    // input 框 输入事件\r\n    onChaneForm(data) {\r\n      this[data.name].value = data.value;\r\n      if (data.value) {\r\n        this[data.name].isError = false;\r\n      }\r\n      if (data.name === 'formData_3' || data.name === 'formData_1') {\r\n        this[data.name].subText = fixRate(fixD(data.value, this.fixValue.priceFix),\r\n          this.rateData, this.symbolUnit.units);\r\n      }\r\n      if (data.name === 'formData_2' || data.name === 'formData_1') {\r\n        const V1 = this.formData_1.value;\r\n        const V2 = this.formData_2.value;\r\n        const UA = this.currenTaccount.unitsAccoubt;\r\n        this.perBuy = ((V1 * V2) / UA) * 100;\r\n      }\r\n      if (data.name === 'formData_4' || data.name === 'formData_3') {\r\n        const V3 = parseFloat(this.formData_3.value);\r\n        const V4 = parseFloat(this.formData_4.value);\r\n        const SA = this.currenTaccount.symbolAccoubt;\r\n        this.perSell = ((V3 * V4) / SA) * 100;\r\n      }\r\n      if (!data.value) {\r\n        this[data.name].subText = null;\r\n      }\r\n    },\r\n    // 点击百分之 事件\r\n    setPerNumber(type, num) {\r\n      if (!this.isLogin) {\r\n        // 请先登录账号\r\n        this.$bus.$emit('tip', { text: this.$t('trade.pleaseLogin'), type: 'error' });\r\n      } else if (type === 'buy') {\r\n        if (!this.formData_1.value && this.transactionType === 1) {\r\n          // 请输入价格\r\n          this.formData_1.errorText = this.$t('trade.pleasePrice');\r\n          this.formData_1.isError = true;\r\n        } else if (this.transactionType === 1) {\r\n          this.perBuy = num;\r\n          const data = (this.currenTaccount.unitsAccoubt / this.formData_1.value) * (num / 100);\r\n          // 可用余额 / (价格*(1+手续费比例)）* 百分比\r\n          const dataFee = (this.currenTaccount.unitsAccoubt / (this.formData_1.value\r\n             * (1 + this.quoteFeeRate)))\r\n            * (num / 100);\r\n          const numberVol = this.openQuoteFee ? dataFee : data;\r\n          this.formData_2.value = fixD(numberVol, this.fixValue.volumeFix);\r\n        } else {\r\n          this.perBuy = num;\r\n          const data = this.currenTaccount.unitsAccoubt * (num / 100);\r\n          this.formData_2.value = fixD(data, this.fixValue.priceFix);\r\n        }\r\n      } else if (type === 'sell') {\r\n        this.perSell = num;\r\n        const data = this.currenTaccount.symbolAccoubt * (num / 100);\r\n        this.formData_4.value = fixD(data, this.fixValue.volumeFix);\r\n      }\r\n    },\r\n    // 百分比按钮class\r\n    perSellClass(num) {\r\n      if (this.perSell === num) {\r\n        return ['a-12-bd', 'b-4-cl'];\r\n      }\r\n      return 'a-3-bd';\r\n    },\r\n    perBuyClass(num) {\r\n      if (this.perBuy === num) {\r\n        return ['a-12-bd', 'b-4-cl'];\r\n      }\r\n      return 'a-3-bd';\r\n    },\r\n    // 交易额 文字颜色Class\r\n    volumeTradeClass(num, total) {\r\n      if (parseFloat(num) > parseFloat(total)) {\r\n        return 'u-4-cl';\r\n      }\r\n      return 'b-1-cl';\r\n    },\r\n    submitFormKey(type) {\r\n      let formKey = [];\r\n      let price = null;\r\n      let volume = null;\r\n      if (this.transactionType === 1) {\r\n        if (type === 'BUY') {\r\n          formKey = ['formData_1', 'formData_2'];\r\n          price = fixD(this.formData_1.value, this.fixValue.priceFix);\r\n          volume = fixD(this.formData_2.value, this.fixValue.volumeFix);\r\n        } else {\r\n          formKey = ['formData_3', 'formData_4'];\r\n          price = fixD(this.formData_3.value, this.fixValue.priceFix);\r\n          volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\r\n        }\r\n      } else if (type === 'BUY') {\r\n        formKey = ['formData_2'];\r\n        volume = fixD(this.formData_2.value, this.fixValue.priceFix);\r\n      } else {\r\n        formKey = ['formData_4'];\r\n        volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\r\n      }\r\n      return { formKey, price, volume };\r\n    },\r\n    // 清空 表单数据\r\n    clearValue() {\r\n      const formKey = ['formData_1', 'formData_2', 'formData_3', 'formData_4'];\r\n      formKey.forEach((item) => {\r\n        this[item].value = '';\r\n        this[item].isError = false;\r\n        this[item].subText = null;\r\n      });\r\n      this.perSell = 0;\r\n      this.perBuy = 0;\r\n    },\r\n    submit(side) {\r\n      if (!this.isLogin) {\r\n        this.$router.push('/login');\r\n      } else if (this.exchangeTradeKycOpen && this.idAuth !== 1) {\r\n        this.tsTexttype = 1;\r\n        this.isShowDialog = true;\r\n      } else {\r\n        const { formKey, price, volume } = this.submitFormKey(side);\r\n        let fal = true;\r\n        if (formKey.length) {\r\n          formKey.forEach((item) => {\r\n            const { value } = this[item];\r\n            if (!value) {\r\n              this[item].errorText = `${this.$t('trade.pleaseInput')}${this[item].title}`;\r\n              this[item].isError = true;\r\n              fal = false;\r\n            }\r\n            if (parseFloat(value) <= 0) {\r\n              this[item].errorText = `${this[item].title}${this.$t('trade.inputError')}`; // 输入有误\r\n              this[item].isError = true;\r\n              fal = false;\r\n            }\r\n          });\r\n          if (this.fal && fal) {\r\n            const symbolArr = this.symbolCurrent.split('/');\r\n            const symbol = symbolArr[0].toLowerCase() + symbolArr[1].toLowerCase();\r\n            this.fal = false;\r\n            const submitData = {\r\n              side,\r\n              price,\r\n              volume,\r\n              symbol,\r\n              type: this.transactionType,\r\n            };\r\n            this.axios({\r\n              url: this.$store.state.url.cointran.order_create,\r\n              headers: {},\r\n              params: submitData,\r\n              method: 'post',\r\n            }).then((data) => {\r\n              if (data.code === '0') {\r\n                // 清空表单\r\n                this.clearValue();\r\n                // 重新请求资产\r\n                this.$store.dispatch('assetsExchangeData', {\r\n                  auto: false,\r\n                  coinSymbols: this.coinSymbols,\r\n                });\r\n                // 发送下单成功的事件\r\n                this.$bus.$emit('ORDER_CREATE', { type: 'success' });\r\n                // 提示成功 下单成功\r\n                this.$bus.$emit('tip', { text: this.$t('trade.dealCussess'), type: 'success' });\r\n                this.fal = true;\r\n              } else {\r\n                this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n                this.fal = true;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    dialogClose() {\r\n      this.isShowDialog = false;\r\n    },\r\n    // 去认证\r\n    gotoAuth() {\r\n      this.$router.push('/personal/userManagement');\r\n    },\r\n  },\r\n};\r\n"]}]}