{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/blockchain-ui-privatization/PC/components/calendar/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/components/calendar/index.vue","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { directive as clickOutside } from 'v-click-outside-x';\r\nimport buttons from '../button/Button.vue';\r\nimport calendar from './Calendar.vue';\r\n\r\nexport default {\r\n  name: 'c-calendar',\r\n  components: {\r\n    calendar,\r\n    buttons,\r\n  },\r\n  directives: { clickOutside },\r\n  props: {\r\n    // 初始化默认 选中的值 String：直接显示，Number： 选项索引值\r\n    value: {\r\n      type: [String, Number],\r\n      default: '',\r\n    },\r\n    options: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    name: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // Title\r\n    promptText: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // 设置边框样式. 默认线性样式\r\n    box: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 下拉框显示多少条，默认显示5条 多出显示滚动条\r\n    optionNumber: {\r\n      type: Number,\r\n      default: 5,\r\n    },\r\n    // 选项列表 行高 默认40px\r\n    optionHeight: {\r\n      type: Number,\r\n      default: 40,\r\n    },\r\n    // 下拉框右侧展开 ICON 默认 三角形icon\r\n    appendIcon: {\r\n      type: String,\r\n      default: 'icon-triangle-down',\r\n    },\r\n    // 是否关闭\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否开启头部日期详情\r\n    showDateInfo: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    dateInfoTilteClass: {\r\n      type: String,\r\n      default: 'f-1-cl',\r\n    },\r\n    // 错误提示语\r\n    errorText: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // 将 下拉框设置成错误状态\r\n    errorFlag: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否开启 清空选项的功能\r\n    clearable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 清空选项按钮的Icon, icon的class\r\n    clearableIcon: {\r\n      type: String,\r\n      default: 'icon-clear',\r\n    },\r\n    // 设置输入框下划线class\r\n    inputLineStyle: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // 下拉框的宽度 （字符串 后面加单位 px %）\r\n    width: {\r\n      type: [String],\r\n      default: '',\r\n    },\r\n    // 下拉框的高度\r\n    height: {\r\n      type: [String],\r\n      default: '',\r\n    },\r\n    // 样式\r\n    styles: {\r\n      type: [Object, String],\r\n      default: '',\r\n    },\r\n    elementId: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // 是否需要验证\r\n    errorHave: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    agoDayHide: { type: String, default: '' },\r\n    futureDayHide: { type: String, default: '2554387200' },\r\n    defaultShowDate: {\r\n      type: Number,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 存储选中的值 和 默认选中的值\r\n      values: '',\r\n      oldvalues: '',\r\n      // 控制下拉框是都可见\r\n      visible: false,\r\n      // 选项列表是否有数据\r\n      isNotOption: false,\r\n      // isFocused\r\n      isFocused: false,\r\n      // 是否设置成错误状态\r\n      isError: false,\r\n      nowV: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.value) {\r\n      this.values = this.value.replace(/\\//g, '-');\r\n      this.nowV = this.values;\r\n    }\r\n  },\r\n  computed: {\r\n    currentLan() {\r\n      if (this.$store.state.baseData) {\r\n        return this.$store.state.baseData.lan;\r\n      }\r\n      return null;\r\n    },\r\n    currentDate() {\r\n      const date = new Date(this.value);\r\n\r\n      return {\r\n        year: date.getFullYear(),\r\n        week: date.getDay(),\r\n        month: date.getMonth(),\r\n        day: date.getDate(),\r\n      };\r\n    },\r\n    previewDateText() {\r\n      if (!this.value) return '';\r\n      const isChinese = this.currentLan === 'zh_CN';\r\n      const weekText = this.$t(`weeks.${this.currentDate.week}`);\r\n      const month = this.$t(`months.${this.currentDate.month}`);\r\n      const day = `${this.currentDate.day}${isChinese ? '日' : ''}`;\r\n      // 2019-02-01\r\n\r\n      const en = `${weekText},${day} ${month}`;\r\n      const zh = `${month}${day}，${weekText}`;\r\n\r\n      return isChinese ? zh : en;\r\n    },\r\n    classes() {\r\n      return [\r\n        'common-select',\r\n        {\r\n          'select-visible': this.visible,\r\n          'select-disabled': this.disabled,\r\n          'select-value': this.values,\r\n          'select-error': this.isError,\r\n        },\r\n      ];\r\n    },\r\n    stylees() {\r\n      const styles = this.styles || {};\r\n      if (this.width) styles.width = this.width;\r\n      if (this.height) styles.width = this.height;\r\n      return styles;\r\n    },\r\n  },\r\n  watch: {\r\n    value(data) {\r\n      if (!data) this.values = '';\r\n      else if (this.value) {\r\n        this.values = data.replace(/\\//g, '-');\r\n      }\r\n    },\r\n    visible(value) {\r\n      this.$emit('opent-chang', value, this.name);\r\n    },\r\n    errorFlag(value) {\r\n      this.isError = value;\r\n    },\r\n  },\r\n  methods: {\r\n    clickDay(data) {\r\n      this.nowV = data.replace(/\\//g, '-');\r\n      this.$emit('onChanges', data.replace(/\\//g, '-'), this.name);\r\n    },\r\n    /* changeDate(data) {\r\n      console.log(data); // 左右点击切换月份\r\n    }, */\r\n    // 下拉框 显示&隐藏\r\n    toggleMenu() {\r\n      this.visible = !this.visible;\r\n    },\r\n    // 点击 select 以外 隐藏下拉框\r\n    onClickOutside() {\r\n      this.oldvalues = this.values;\r\n      this.visible = false;\r\n    },\r\n    // 点击 选项\r\n    onOptionClick(item) {\r\n      this.visible = false;\r\n      this.isError = false;\r\n      this.$emit('onChanges', item, this.name);\r\n    },\r\n    // 清除选项\r\n    resetOptionData() {\r\n      this.values = '';\r\n      this.$emit('onClear', true, this.name);\r\n    },\r\n    // 取消选择日期\r\n    cancelCalendar() {\r\n      this.$emit('onChanges', this.oldvalues, this.name);\r\n      this.visible = false;\r\n      this.isError = false;\r\n    },\r\n    confirmCalendar() {\r\n      this.oldvalues = this.values;\r\n      this.visible = false;\r\n      this.$emit('onSelect', this.nowV, this.name);\r\n    },\r\n  },\r\n};\r\n",null]}