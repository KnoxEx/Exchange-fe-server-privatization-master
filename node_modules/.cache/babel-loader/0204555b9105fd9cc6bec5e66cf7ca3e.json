{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/problemCenter/questionsList/questionsList.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/problemCenter/questionsList/questionsList.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { formatTime, imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'questionsList',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      tabelLoading: false,\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      },\n      tabelList: [],\n      revokeList: [] // 撤销队列\n\n    };\n  },\n  computed: {\n    columns: function columns() {\n      return [// 提交时间\n      {\n        title: this.$t('questions.list1'),\n        width: '100px'\n      }, // 编号\n      {\n        title: this.$t('questions.list2')\n      }, // 类型\n      {\n        title: this.$t('questions.list3')\n      }, // 描述\n      {\n        title: this.$t('questions.list4'),\n        width: '20%'\n      }, // 状态\n      {\n        title: this.$t('questions.list5')\n      }, // 操作\n      {\n        title: this.$t('questions.list6')\n      }];\n    }\n  },\n  methods: {\n    init: function init() {\n      this.getData();\n    },\n    getData: function getData() {\n      var _this = this;\n\n      this.tabelLoading = true;\n      this.axios({\n        url: 'question/list_problem',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage // 页码\n\n        }\n      }).then(function (data) {\n        _this.tabelLoading = false;\n\n        if (data.code.toString() === '0') {\n          var arr = [];\n          data.data.rqInfoList.forEach(function (item) {\n            arr.push({\n              id: item.id,\n              data: [formatTime(item.ctime), [{\n                type: 'button',\n                text: item.id,\n                eventType: 'details'\n              }], item.rqTypeText, item.rqDescribe, item.rqStatusText, [{\n                type: 'button',\n                text: _this.$t('questions.delete'),\n                eventType: 'delete'\n              }]]\n            });\n          });\n          _this.tabelList = arr;\n          _this.paginationObj.total = data.data.count;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    tableClick: function tableClick(type, id) {\n      var _this2 = this;\n\n      if (type === 'details') {\n        this.$router.push(\"/questions/questionsDetails?id=\".concat(id));\n      } else if (type === 'delete') {\n        if (this.revokeList.indexOf(id) === -1) {\n          this.revokeList.push(id);\n          this.axios({\n            url: '/question/delete_problem',\n            params: {\n              id: id\n            }\n          }).then(function (data) {\n            var ind = _this2.revokeList.indexOf(id);\n\n            _this2.revokeList.splice(ind, 1);\n\n            if (data.code.toString() === '0') {\n              _this2.$bus.$emit('tip', {\n                text: data.msg,\n                type: 'success'\n              });\n\n              _this2.getData();\n            } else {\n              _this2.$bus.$emit('tip', {\n                text: data.msg,\n                type: 'error'\n              });\n            }\n          });\n        }\n      }\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/problemCenter/questionsList/questionsList.js"],"names":["formatTime","imgMap","colorMap","name","data","tabelLoading","paginationObj","total","display","currentPage","tabelList","revokeList","computed","columns","title","$t","width","methods","init","getData","axios","url","params","pageSize","page","then","code","toString","arr","rqInfoList","forEach","item","push","id","ctime","type","text","eventType","rqTypeText","rqDescribe","rqStatusText","count","$bus","$emit","msg","tableClick","$router","indexOf","ind","splice","pagechange","v"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,QAA6C,SAA7C;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,eADO;AAEbC,EAAAA,IAFa,kBAEN;AACL,WAAO;AACLH,MAAAA,MAAM,EAANA,MADK;AAELC,MAAAA,QAAQ,EAARA,QAFK;AAGLG,MAAAA,YAAY,EAAE,KAHT;AAILC,MAAAA,aAAa,EAAE;AACbC,QAAAA,KAAK,EAAE,CADM;AACH;AACVC,QAAAA,OAAO,EAAE,EAFI;AAEA;AACbC,QAAAA,WAAW,EAAE,CAHA,CAGG;;AAHH,OAJV;AASLC,MAAAA,SAAS,EAAE,EATN;AAULC,MAAAA,UAAU,EAAE,EAVP,CAUW;;AAVX,KAAP;AAYD,GAfY;AAgBbC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OADQ,qBACE;AACR,aAAO,CACL;AACA;AACEC,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR,CADT;AAEEC,QAAAA,KAAK,EAAE;AAFT,OAFK,EAML;AACA;AACEF,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR;AADT,OAPK,EAUL;AACA;AACED,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR;AADT,OAXK,EAcL;AACA;AACED,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR,CADT;AAEEC,QAAAA,KAAK,EAAE;AAFT,OAfK,EAmBL;AACA;AACEF,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR;AADT,OApBK,EAuBL;AACA;AACED,QAAAA,KAAK,EAAE,KAAKC,EAAL,CAAQ,iBAAR;AADT,OAxBK,CAAP;AA4BD;AA9BO,GAhBG;AAgDbE,EAAAA,OAAO,EAAE;AACPC,IAAAA,IADO,kBACA;AACL,WAAKC,OAAL;AACD,KAHM;AAIPA,IAAAA,OAJO,qBAIG;AAAA;;AACR,WAAKd,YAAL,GAAoB,IAApB;AACA,WAAKe,KAAL,CAAW;AACTC,QAAAA,GAAG,EAAE,uBADI;AAETC,QAAAA,MAAM,EAAE;AACNC,UAAAA,QAAQ,EAAE,KAAKjB,aAAL,CAAmBE,OADvB;AACgC;AACtCgB,UAAAA,IAAI,EAAE,KAAKlB,aAAL,CAAmBG,WAFnB,CAEgC;;AAFhC;AAFC,OAAX,EAMGgB,IANH,CAMQ,UAACrB,IAAD,EAAU;AAChB,QAAA,KAAI,CAACC,YAAL,GAAoB,KAApB;;AACA,YAAID,IAAI,CAACsB,IAAL,CAAUC,QAAV,OAAyB,GAA7B,EAAkC;AAChC,cAAMC,GAAG,GAAG,EAAZ;AACAxB,UAAAA,IAAI,CAACA,IAAL,CAAUyB,UAAV,CAAqBC,OAArB,CAA6B,UAACC,IAAD,EAAU;AACrCH,YAAAA,GAAG,CAACI,IAAJ,CAAS;AACPC,cAAAA,EAAE,EAAEF,IAAI,CAACE,EADF;AAEP7B,cAAAA,IAAI,EAAE,CACJJ,UAAU,CAAC+B,IAAI,CAACG,KAAN,CADN,EAEJ,CACE;AACEC,gBAAAA,IAAI,EAAE,QADR;AAEEC,gBAAAA,IAAI,EAAEL,IAAI,CAACE,EAFb;AAGEI,gBAAAA,SAAS,EAAE;AAHb,eADF,CAFI,EASJN,IAAI,CAACO,UATD,EAUJP,IAAI,CAACQ,UAVD,EAWJR,IAAI,CAACS,YAXD,EAYJ,CACE;AACEL,gBAAAA,IAAI,EAAE,QADR;AAEEC,gBAAAA,IAAI,EAAE,KAAI,CAACrB,EAAL,CAAQ,kBAAR,CAFR;AAGEsB,gBAAAA,SAAS,EAAE;AAHb,eADF,CAZI;AAFC,aAAT;AAuBD,WAxBD;AAyBA,UAAA,KAAI,CAAC3B,SAAL,GAAiBkB,GAAjB;AACA,UAAA,KAAI,CAACtB,aAAL,CAAmBC,KAAnB,GAA2BH,IAAI,CAACA,IAAL,CAAUqC,KAArC;AACD,SA7BD,MA6BO;AACL,UAAA,KAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,KAAhB,EAAuB;AAAEP,YAAAA,IAAI,EAAEhC,IAAI,CAACwC,GAAb;AAAkBT,YAAAA,IAAI,EAAE;AAAxB,WAAvB;AACD;AACF,OAxCD;AAyCD,KA/CM;AAgDPU,IAAAA,UAhDO,sBAgDIV,IAhDJ,EAgDUF,EAhDV,EAgDc;AAAA;;AACnB,UAAIE,IAAI,KAAK,SAAb,EAAwB;AACtB,aAAKW,OAAL,CAAad,IAAb,0CAAoDC,EAApD;AACD,OAFD,MAEO,IAAIE,IAAI,KAAK,QAAb,EAAuB;AAC5B,YAAI,KAAKxB,UAAL,CAAgBoC,OAAhB,CAAwBd,EAAxB,MAAgC,CAAC,CAArC,EAAwC;AACtC,eAAKtB,UAAL,CAAgBqB,IAAhB,CAAqBC,EAArB;AACA,eAAKb,KAAL,CAAW;AACTC,YAAAA,GAAG,EAAE,0BADI;AAETC,YAAAA,MAAM,EAAE;AACNW,cAAAA,EAAE,EAAFA;AADM;AAFC,WAAX,EAKGR,IALH,CAKQ,UAACrB,IAAD,EAAU;AAChB,gBAAM4C,GAAG,GAAG,MAAI,CAACrC,UAAL,CAAgBoC,OAAhB,CAAwBd,EAAxB,CAAZ;;AACA,YAAA,MAAI,CAACtB,UAAL,CAAgBsC,MAAhB,CAAuBD,GAAvB,EAA4B,CAA5B;;AACA,gBAAI5C,IAAI,CAACsB,IAAL,CAAUC,QAAV,OAAyB,GAA7B,EAAkC;AAChC,cAAA,MAAI,CAACe,IAAL,CAAUC,KAAV,CAAgB,KAAhB,EAAuB;AAAEP,gBAAAA,IAAI,EAAEhC,IAAI,CAACwC,GAAb;AAAkBT,gBAAAA,IAAI,EAAE;AAAxB,eAAvB;;AACA,cAAA,MAAI,CAAChB,OAAL;AACD,aAHD,MAGO;AACL,cAAA,MAAI,CAACuB,IAAL,CAAUC,KAAV,CAAgB,KAAhB,EAAuB;AAAEP,gBAAAA,IAAI,EAAEhC,IAAI,CAACwC,GAAb;AAAkBT,gBAAAA,IAAI,EAAE;AAAxB,eAAvB;AACD;AACF,WAdD;AAeD;AACF;AACF,KAvEM;AAwEPe,IAAAA,UAxEO,sBAwEIC,CAxEJ,EAwEO;AACZ,WAAK7C,aAAL,CAAmBG,WAAnB,GAAiC0C,CAAjC;AACA,WAAKhC,OAAL;AACD;AA3EM;AAhDI,CAAf","sourcesContent":["import { formatTime, imgMap, colorMap } from '@/utils';\r\n\r\nexport default {\r\n  name: 'questionsList',\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      tabelLoading: false,\r\n      paginationObj: {\r\n        total: 0, // 数据总条数\r\n        display: 10, // 每页显示条数\r\n        currentPage: 1, // 当前页码\r\n      },\r\n      tabelList: [],\r\n      revokeList: [], // 撤销队列\r\n    };\r\n  },\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        // 提交时间\r\n        {\r\n          title: this.$t('questions.list1'),\r\n          width: '100px',\r\n        },\r\n        // 编号\r\n        {\r\n          title: this.$t('questions.list2'),\r\n        },\r\n        // 类型\r\n        {\r\n          title: this.$t('questions.list3'),\r\n        },\r\n        // 描述\r\n        {\r\n          title: this.$t('questions.list4'),\r\n          width: '20%',\r\n        },\r\n        // 状态\r\n        {\r\n          title: this.$t('questions.list5'),\r\n        },\r\n        // 操作\r\n        {\r\n          title: this.$t('questions.list6'),\r\n        },\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getData();\r\n    },\r\n    getData() {\r\n      this.tabelLoading = true;\r\n      this.axios({\r\n        url: 'question/list_problem',\r\n        params: {\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n        },\r\n      }).then((data) => {\r\n        this.tabelLoading = false;\r\n        if (data.code.toString() === '0') {\r\n          const arr = [];\r\n          data.data.rqInfoList.forEach((item) => {\r\n            arr.push({\r\n              id: item.id,\r\n              data: [\r\n                formatTime(item.ctime),\r\n                [\r\n                  {\r\n                    type: 'button',\r\n                    text: item.id,\r\n                    eventType: 'details',\r\n                  },\r\n                ],\r\n                item.rqTypeText,\r\n                item.rqDescribe,\r\n                item.rqStatusText,\r\n                [\r\n                  {\r\n                    type: 'button',\r\n                    text: this.$t('questions.delete'),\r\n                    eventType: 'delete',\r\n                  },\r\n                ],\r\n              ],\r\n            });\r\n          });\r\n          this.tabelList = arr;\r\n          this.paginationObj.total = data.data.count;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    tableClick(type, id) {\r\n      if (type === 'details') {\r\n        this.$router.push(`/questions/questionsDetails?id=${id}`);\r\n      } else if (type === 'delete') {\r\n        if (this.revokeList.indexOf(id) === -1) {\r\n          this.revokeList.push(id);\r\n          this.axios({\r\n            url: '/question/delete_problem',\r\n            params: {\r\n              id,\r\n            },\r\n          }).then((data) => {\r\n            const ind = this.revokeList.indexOf(id);\r\n            this.revokeList.splice(ind, 1);\r\n            if (data.code.toString() === '0') {\r\n              this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n              this.getData();\r\n            } else {\r\n              this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    pagechange(v) {\r\n      this.paginationObj.currentPage = v;\r\n      this.getData();\r\n    },\r\n  },\r\n};\r\n"]}]}