{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/stranger/stranger.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/stranger/stranger.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { fixD, imgMap, colorMap, getCoinShowName } from '@/utils';\nexport default {\n  name: 'stronger',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      loading: false,\n      side: 'SELL',\n      identity: 0,\n      // 0 为拉黑， 1 被拉黑\n      // 弹框\n      dialogFlag: false,\n      dialogConfirmLoading: false,\n      dialogConfirmDisabled: false,\n      blackList: 0,\n      // 0 用户本人或未登录， 1 被拉黑， 2 未被拉黑\n      uid: '',\n      name: '',\n      loginStatus: 0,\n      // 在线状态 (1在线，0离线)\n      imageUrl: '',\n      otcNickName: '',\n      completeOrders: '',\n      complainNum: '',\n      sucComplainNum: '',\n      authLevel: '',\n      // 认证状态 0、未审核，1、通过，2、未通过  3、未认证\n      mobileAuthStatus: '',\n      // 是否开启了手机认证:0-未开启,1-开启\n      // 横向导航参数\n      currentTab: 1,\n      navTab: [{\n        name: this.$t('stranger.navTab')[0],\n        index: 1\n      }, {\n        name: this.$t('stranger.navTab')[1],\n        index: 2\n      }],\n      lineHeight: '55',\n      marginRight: 48,\n      // 距离右边的距离\n      // table 相关\n      columns: [{\n        title: this.$t('stranger.columns')[0],\n        align: 'left',\n        width: '100px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[1],\n        align: 'right',\n        width: '100px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[2],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[3],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[4],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('stranger.columns')[5],\n        align: 'right',\n        width: '200px',\n        classes: ''\n      }],\n      dataList: [],\n      cellHeight: 55,\n      headHeight: 34,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // page相关\n      count: 0,\n      page: 1,\n      pageSize: 10\n    };\n  },\n  created: function created() {\n    this.init();\n  },\n  computed: {\n    otcPersonHomePage: function otcPersonHomePage() {\n      return this.$store.state.fiatdeal.otcPersonHomePage;\n    },\n    otcPersonAds: function otcPersonAds() {\n      return this.$store.state.personal.otcPersonAds;\n    },\n    otcUserContacts: function otcUserContacts() {\n      return this.$store.state.fiatdeal.otcUserContacts;\n    },\n    otcUserContactsRemove: function otcUserContactsRemove() {\n      return this.$store.state.fiatdeal.otcUserContactsRemove;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    }\n  },\n  watch: {\n    otcPersonHomePage: function otcPersonHomePage(_otcPersonHomePage) {\n      if (_otcPersonHomePage !== null) {\n        this.name = _otcPersonHomePage.data.otcNickName.substring(0, 1);\n        this.otcNickName = _otcPersonHomePage.data.otcNickName;\n        this.loginStatus = _otcPersonHomePage.data.loginStatus;\n        this.imageUrl = _otcPersonHomePage.data.imageUrl;\n        this.completeOrders = _otcPersonHomePage.data.completeOrders;\n        this.complainNum = _otcPersonHomePage.data.complainNum;\n        this.sucComplainNum = _otcPersonHomePage.data.sucComplainNum;\n        this.authLevel = _otcPersonHomePage.data.authLevel;\n        this.mobileAuthStatus = _otcPersonHomePage.data.mobileAuthStatus;\n        this.blackList = _otcPersonHomePage.data.identity;\n      }\n    },\n    otcUserContactsRemove: function otcUserContactsRemove(_otcUserContactsRemove) {\n      if (_otcUserContactsRemove !== null) {\n        if (_otcUserContactsRemove.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcUserContactsRemove.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('otcPersonHomePage', {\n            uid: this.uid\n          });\n          this.dialogFlag = false;\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcUserContactsRemove.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    otcPersonAds: function otcPersonAds(_otcPersonAds) {\n      if (_otcPersonAds !== null) {\n        if (this.publicInfo) {\n          this.loading = false; // 数据处理\n\n          this.dataProcessin(_otcPersonAds.data, this.$store.state.baseData.market);\n        }\n      }\n    },\n    otcUserContacts: function otcUserContacts(_otcUserContacts) {\n      if (_otcUserContacts !== null) {\n        if (_otcUserContacts.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _otcUserContacts.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('otcPersonHomePage', {\n            uid: this.uid\n          });\n          this.dialogFlag = false;\n        } else {\n          this.$bus.$emit('tip', {\n            text: _otcUserContacts.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n          this.$bus.$emit('getCode-clear', 'phone');\n        }\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var uid = this.$route.query.uid;\n      this.uid = uid;\n      this.$store.dispatch('otcPersonHomePage', {\n        uid: uid\n      });\n      var info = {\n        uid: this.uid,\n        page: this.page,\n        pageSize: this.pageSize,\n        adType: 'BUY'\n      };\n      this.$store.dispatch('otcPersonAds', info);\n      this.loading = true;\n      var infoData = {\n        relationType: 'BLACKLIST',\n        pageSize: 10000,\n        page: 1\n      };\n      this.$store.dispatch('otcPersonRelationship', infoData);\n    },\n    dataProcessin: function dataProcessin(data, market) {\n      var _this = this;\n\n      this.count = data.count;\n      var list = [];\n      data.adList.forEach(function (obj) {\n        list.push({\n          id: [_this.uid, obj.advertId],\n          data: [getCoinShowName(obj.coin, market.coinList), fixD(obj.volume, market.coinList[obj.coin].showPrecision), \"\".concat(fixD(obj.minTrade, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision), \" -\\n              \").concat(fixD(obj.maxTrade, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision), \" \").concat(obj.payCoin), fixD(obj.price, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : _this.$store.state.baseData.defaultFiatPrecision) + obj.payCoin, [{\n            type: 'icon',\n            iconSvg: \"<ul>\\n                    \".concat(_this.paymentsList(obj.payments).join(''), \"\\n                </ul>\"),\n            classes: 'payments-ul'\n          }], [{\n            type: 'button',\n            // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n            text: _this.textShow(obj.side),\n            iconClass: [''],\n            eventType: 'close',\n            classes: ['']\n          }]]\n        });\n      });\n      this.dataList = list;\n    },\n    textShow: function textShow(side) {\n      var text = '';\n\n      if (this.blackList === 0) {\n        text = this.$t('stranger.view');\n      } else {\n        text = side === 'SELL' ? this.$t('stranger.buy') : this.$t('stranger.sell');\n      }\n\n      return text;\n    },\n    paymentsList: function paymentsList(data) {\n      var list = [];\n      data.forEach(function (obj) {\n        list.push(\"<li class='a-2-bg'><img src=\\\"\".concat(obj.icon, \"\\\"/></li>\"));\n      });\n      return list;\n    },\n    blackClick: function blackClick() {\n      this.dialogFlag = true;\n    },\n    dialogClose: function dialogClose() {\n      this.dialogFlag = false;\n    },\n    dialogConfirm: function dialogConfirm() {\n      if (this.blackList === 1) {\n        // 移除\n        var info = {\n          friendId: this.uid\n        };\n        this.$store.dispatch('otcUserContactsRemove', info);\n      } else {\n        // 加入黑名单\n        var _info = {\n          otherUid: this.uid,\n          relationType: 'BLACKLIST'\n        };\n        this.$store.dispatch('otcUserContacts', _info);\n      }\n    },\n    currentType: function currentType(data) {\n      this.loading = true;\n      this.currentTab = data.index;\n      this.page = 1;\n\n      if (this.currentTab === 1) {\n        this.side = 'BUY';\n        var info = {\n          uid: this.uid,\n          page: this.page,\n          pageSize: this.pageSize,\n          adType: 'BUY'\n        };\n        this.$store.dispatch('otcPersonAds', info);\n      } else {\n        this.side = 'SELL';\n        var _info2 = {\n          uid: this.uid,\n          page: this.page,\n          pageSize: this.pageSize,\n          adType: 'SELL'\n        };\n        this.$store.dispatch('otcPersonAds', _info2);\n      }\n    },\n    operation: function operation(type, id) {\n      if (type === 'close') {\n        this.$router.push({\n          path: '/otcTrade?',\n          query: {\n            orderId: id[1],\n            userId: id[0]\n          }\n        });\n      }\n    },\n    pagechange: function pagechange(page) {\n      this.page = page;\n      var info = {\n        uid: this.uid,\n        page: this.page,\n        pageSize: this.pageSize,\n        adType: this.side\n      };\n      this.$store.dispatch('otcPersonAds', info);\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/stranger/stranger.js"],"names":["fixD","imgMap","colorMap","getCoinShowName","name","data","loading","side","identity","dialogFlag","dialogConfirmLoading","dialogConfirmDisabled","blackList","uid","loginStatus","imageUrl","otcNickName","completeOrders","complainNum","sucComplainNum","authLevel","mobileAuthStatus","currentTab","navTab","$t","index","lineHeight","marginRight","columns","title","align","width","classes","dataList","cellHeight","headHeight","lineNumber","headClasses","bodyClasses","lineClass","count","page","pageSize","created","init","computed","otcPersonHomePage","$store","state","fiatdeal","otcPersonAds","personal","otcUserContacts","otcUserContactsRemove","publicInfo","baseData","watch","substring","text","$bus","$emit","msg","type","dispatch","dataProcessin","market","methods","$route","query","info","adType","infoData","relationType","list","adList","forEach","obj","push","id","advertId","coin","coinList","volume","showPrecision","minTrade","fiatPrecision","payCoin","toLowerCase","Number","defaultFiatPrecision","maxTrade","price","iconSvg","paymentsList","payments","join","textShow","iconClass","eventType","icon","blackClick","dialogClose","dialogConfirm","friendId","otherUid","currentType","operation","$router","path","orderId","userId","pagechange"],"mappings":"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","sourcesContent":["import {\r\n  fixD, imgMap, colorMap, getCoinShowName,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'stronger',\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      loading: false,\r\n      side: 'SELL',\r\n      identity: 0, // 0 为拉黑， 1 被拉黑\r\n      // 弹框\r\n      dialogFlag: false,\r\n      dialogConfirmLoading: false,\r\n      dialogConfirmDisabled: false,\r\n      blackList: 0, // 0 用户本人或未登录， 1 被拉黑， 2 未被拉黑\r\n      uid: '',\r\n      name: '',\r\n      loginStatus: 0, // 在线状态 (1在线，0离线)\r\n      imageUrl: '',\r\n      otcNickName: '',\r\n      completeOrders: '',\r\n      complainNum: '',\r\n      sucComplainNum: '',\r\n      authLevel: '', // 认证状态 0、未审核，1、通过，2、未通过  3、未认证\r\n      mobileAuthStatus: '', // 是否开启了手机认证:0-未开启,1-开启\r\n      // 横向导航参数\r\n      currentTab: 1,\r\n      navTab: [\r\n        {\r\n          name: this.$t('stranger.navTab')[0],\r\n          index: 1,\r\n        },\r\n        {\r\n          name: this.$t('stranger.navTab')[1],\r\n          index: 2,\r\n        },\r\n      ],\r\n      lineHeight: '55',\r\n      marginRight: 48, // 距离右边的距离\r\n      // table 相关\r\n      columns: [\r\n        {\r\n          title: this.$t('stranger.columns')[0],\r\n          align: 'left',\r\n          width: '100px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('stranger.columns')[1],\r\n          align: 'right',\r\n          width: '100px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('stranger.columns')[2],\r\n          align: 'right',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('stranger.columns')[3],\r\n          align: 'right',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('stranger.columns')[4],\r\n          align: 'right',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('stranger.columns')[5],\r\n          align: 'right',\r\n          width: '200px',\r\n          classes: '',\r\n        },\r\n      ],\r\n      dataList: [],\r\n      cellHeight: 55,\r\n      headHeight: 34,\r\n      lineNumber: 10,\r\n      classes: '',\r\n      headClasses: '',\r\n      bodyClasses: '',\r\n      lineClass: '',\r\n      // page相关\r\n      count: 0,\r\n      page: 1,\r\n      pageSize: 10,\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  computed: {\r\n    otcPersonHomePage() {\r\n      return this.$store.state.fiatdeal.otcPersonHomePage;\r\n    },\r\n    otcPersonAds() {\r\n      return this.$store.state.personal.otcPersonAds;\r\n    },\r\n    otcUserContacts() {\r\n      return this.$store.state.fiatdeal.otcUserContacts;\r\n    },\r\n    otcUserContactsRemove() {\r\n      return this.$store.state.fiatdeal.otcUserContactsRemove;\r\n    },\r\n    publicInfo() {\r\n      return this.$store.state.baseData.publicInfo;\r\n    },\r\n  },\r\n  watch: {\r\n    otcPersonHomePage(otcPersonHomePage) {\r\n      if (otcPersonHomePage !== null) {\r\n        this.name = otcPersonHomePage.data.otcNickName.substring(0, 1);\r\n        this.otcNickName = otcPersonHomePage.data.otcNickName;\r\n        this.loginStatus = otcPersonHomePage.data.loginStatus;\r\n        this.imageUrl = otcPersonHomePage.data.imageUrl;\r\n        this.completeOrders = otcPersonHomePage.data.completeOrders;\r\n        this.complainNum = otcPersonHomePage.data.complainNum;\r\n        this.sucComplainNum = otcPersonHomePage.data.sucComplainNum;\r\n        this.authLevel = otcPersonHomePage.data.authLevel;\r\n        this.mobileAuthStatus = otcPersonHomePage.data.mobileAuthStatus;\r\n        this.blackList = otcPersonHomePage.data.identity;\r\n      }\r\n    },\r\n    otcUserContactsRemove(otcUserContactsRemove) {\r\n      if (otcUserContactsRemove !== null) {\r\n        if (otcUserContactsRemove.text === 'success') {\r\n          this.$bus.$emit('tip', { text: otcUserContactsRemove.msg, type: 'success' });\r\n          this.$store.dispatch('resetType');\r\n          this.$store.dispatch('otcPersonHomePage', { uid: this.uid });\r\n          this.dialogFlag = false;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: otcUserContactsRemove.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n    otcPersonAds(otcPersonAds) {\r\n      if (otcPersonAds !== null) {\r\n        if (this.publicInfo) {\r\n          this.loading = false;\r\n          // 数据处理\r\n          this.dataProcessin(otcPersonAds.data, this.$store.state.baseData.market);\r\n        }\r\n      }\r\n    },\r\n    otcUserContacts(otcUserContacts) {\r\n      if (otcUserContacts !== null) {\r\n        if (otcUserContacts.text === 'success') {\r\n          this.$bus.$emit('tip', { text: otcUserContacts.msg, type: 'success' });\r\n          this.$store.dispatch('resetType');\r\n          this.$store.dispatch('otcPersonHomePage', { uid: this.uid });\r\n          this.dialogFlag = false;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: otcUserContacts.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n          this.$bus.$emit('getCode-clear', 'phone');\r\n        }\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      const { uid } = this.$route.query;\r\n      this.uid = uid;\r\n      this.$store.dispatch('otcPersonHomePage', { uid });\r\n      const info = {\r\n        uid: this.uid,\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n        adType: 'BUY',\r\n      };\r\n      this.$store.dispatch('otcPersonAds', info);\r\n      this.loading = true;\r\n      const infoData = { relationType: 'BLACKLIST', pageSize: 10000, page: 1 };\r\n      this.$store.dispatch('otcPersonRelationship', infoData);\r\n    },\r\n    dataProcessin(data, market) {\r\n      this.count = data.count;\r\n      const list = [];\r\n      data.adList.forEach((obj) => {\r\n        list.push(\r\n          {\r\n            id: [this.uid, obj.advertId],\r\n            data: [\r\n              getCoinShowName(obj.coin, market.coinList),\r\n              fixD(obj.volume, market.coinList[obj.coin].showPrecision),\r\n              `${fixD(obj.minTrade, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : this.$store.state.baseData.defaultFiatPrecision)} -\r\n              ${fixD(obj.maxTrade, market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()] ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]) : this.$store.state.baseData.defaultFiatPrecision)} ${obj.payCoin}`,\r\n              fixD(obj.price,\r\n                market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()]\r\n                  ? Number(market.coinList[obj.coin].fiatPrecision[obj.payCoin.toLowerCase()])\r\n                  : this.$store.state.baseData.defaultFiatPrecision) + obj.payCoin,\r\n              [\r\n                {\r\n                  type: 'icon',\r\n                  iconSvg: `<ul>\r\n                    ${this.paymentsList(obj.payments).join('')}\r\n                </ul>`,\r\n                  classes: 'payments-ul',\r\n                },\r\n              ],\r\n              [\r\n                {\r\n                  type: 'button', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                  text: this.textShow(obj.side),\r\n                  iconClass: [''],\r\n                  eventType: 'close',\r\n                  classes: [''],\r\n                },\r\n              ],\r\n            ],\r\n          },\r\n        );\r\n      });\r\n      this.dataList = list;\r\n    },\r\n    textShow(side) {\r\n      let text = '';\r\n      if (this.blackList === 0) {\r\n        text = this.$t('stranger.view');\r\n      } else {\r\n        text = (side === 'SELL') ? this.$t('stranger.buy') : this.$t('stranger.sell');\r\n      }\r\n      return text;\r\n    },\r\n    paymentsList(data) {\r\n      const list = [];\r\n      data.forEach((obj) => {\r\n        list.push(`<li class='a-2-bg'><img src=\"${obj.icon}\"/></li>`);\r\n      });\r\n      return list;\r\n    },\r\n    blackClick() {\r\n      this.dialogFlag = true;\r\n    },\r\n    dialogClose() {\r\n      this.dialogFlag = false;\r\n    },\r\n    dialogConfirm() {\r\n      if (this.blackList === 1) { // 移除\r\n        const info = { friendId: this.uid };\r\n        this.$store.dispatch('otcUserContactsRemove', info);\r\n      } else { // 加入黑名单\r\n        const info = { otherUid: this.uid, relationType: 'BLACKLIST' };\r\n        this.$store.dispatch('otcUserContacts', info);\r\n      }\r\n    },\r\n    currentType(data) {\r\n      this.loading = true;\r\n      this.currentTab = data.index;\r\n      this.page = 1;\r\n      if (this.currentTab === 1) {\r\n        this.side = 'BUY';\r\n        const info = {\r\n          uid: this.uid,\r\n          page: this.page,\r\n          pageSize: this.pageSize,\r\n          adType: 'BUY',\r\n        };\r\n        this.$store.dispatch('otcPersonAds', info);\r\n      } else {\r\n        this.side = 'SELL';\r\n        const info = {\r\n          uid: this.uid,\r\n          page: this.page,\r\n          pageSize: this.pageSize,\r\n          adType: 'SELL',\r\n        };\r\n        this.$store.dispatch('otcPersonAds', info);\r\n      }\r\n    },\r\n    operation(type, id) {\r\n      if (type === 'close') {\r\n        this.$router.push({ path: '/otcTrade?', query: { orderId: id[1], userId: id[0] } });\r\n      }\r\n    },\r\n    pagechange(page) {\r\n      this.page = page;\r\n      const info = {\r\n        uid: this.uid,\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n        adType: this.side,\r\n      };\r\n      this.$store.dispatch('otcPersonAds', info);\r\n    },\r\n  },\r\n};\r\n"]}]}