{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/router/ex-router.js","dependencies":[{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/router/ex-router.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _toConsumableArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport { commonRouter, personalRouter, exRouter } from 'blockchain-ui-privatization/PC/router';\nimport { setCookie, routerEnv } from '@/utils';\nvar originalPush = Router.prototype.push;\n\nRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(function (err) {\n    return err;\n  });\n};\n\nvar evnConfig = ['ex', 'otc', 'co'];\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  base: '/',\n  routes: [// 创新试验区详情\n  {\n    path: \"\".concat(routerEnv, \"/innovation/:id\"),\n    name: 'innovationView',\n    meta: {\n      mustLogin: false,\n      theme: 'homeOther',\n      navigation: '1',\n      // 国际版中使用横向导航\n      hideFooter: 'false',\n      // 不隐藏footer\n      pageTitle: 'innovation'\n    },\n    component: function component() {\n      return import('@/views/innovation/view.vue');\n    }\n  }, // agent\n  {\n    path: \"\".concat(routerEnv, \"/agent\"),\n    name: 'agentView',\n    meta: {\n      mustLogin: false,\n      theme: 'homeOther',\n      navigation: '1',\n      // 国际版中使用横向导航\n      hideFooter: 'false',\n      // 不隐藏footer\n      pageTitle: 'agent'\n    },\n    component: function component() {\n      return import('@/views/agent/view.vue');\n    }\n  }].concat(_toConsumableArray(commonRouter), _toConsumableArray(personalRouter), _toConsumableArray(exRouter))\n});\n\nif (process.env.NODE_ENV === 'development') {\n  router.beforeEach(function (to, from, next) {\n    var fromPathArr = from.path.split('/');\n    var toPathArr = to.path.split('/');\n\n    var _fromPathArr = _slicedToArray(fromPathArr, 3),\n        fromHostEnv = _fromPathArr[1],\n        fromLan = _fromPathArr[2];\n\n    var _toPathArr = _slicedToArray(toPathArr, 3),\n        toHostEnv = _toPathArr[1],\n        toLan = _toPathArr[2];\n\n    var reg = /^[a-z]{2}_[A-Z]{2}$/;\n\n    if (evnConfig.indexOf(toHostEnv) !== -1 && reg.test(toLan)) {\n      setCookie('lan', toLan);\n      next();\n    } else {\n      if (from.path === '/') {\n        var ev = '';\n        evnConfig.forEach(function (item) {\n          var fit = \"/\".concat(item, \"/\");\n\n          if (to.path.indexOf(item) !== -1) {\n            ev = fit;\n          }\n        });\n\n        var _str = \"\".concat(ev, \"zh_CN/\").concat(to.path.split(ev)[1]);\n\n        setCookie('lan', 'zh_CN');\n        next(_str);\n        return false;\n      }\n\n      var str = '';\n      fromHostEnv = evnConfig.indexOf(fromHostEnv) !== -1 ? fromHostEnv : 'ex';\n      fromLan = reg.test(fromLan) ? fromLan : 'zh_CN';\n\n      if (evnConfig.indexOf(toHostEnv) === -1) {\n        str += \"/\".concat(fromHostEnv);\n      }\n\n      if (!reg.test(toLan)) {\n        str += \"/\".concat(fromLan);\n      }\n\n      str += to.fullPath;\n      setCookie('lan', fromLan);\n      next(str);\n    }\n\n    return false;\n  });\n} else {\n  var reg = /^[a-z]{2}_[A-Z]{2}$/;\n  router.beforeEach(function (to, from, next) {\n    if (from.path === '/') {\n      next();\n    } else {\n      var fromPathArr = from.path.split('/');\n      var fromLan = fromPathArr[1];\n      var toPathArr = to.path.split('/');\n      var toLan = toPathArr[1];\n\n      if (reg.test(toLan)) {\n        next();\n      } else {\n        var toPath = \"/\".concat(fromLan).concat(to.fullPath);\n        next(toPath);\n      }\n    }\n  });\n}\n\nexport default router;",{"version":3,"sources":["/Users/h/partTimeJob/exchange-fe-server-privatization-master/app/view/src/router/ex-router.js"],"names":["Vue","Router","commonRouter","personalRouter","exRouter","setCookie","routerEnv","originalPush","prototype","push","location","onResolve","onReject","call","catch","err","evnConfig","use","router","mode","base","routes","path","name","meta","mustLogin","theme","navigation","hideFooter","pageTitle","component","process","env","NODE_ENV","beforeEach","to","from","next","fromPathArr","split","toPathArr","fromHostEnv","fromLan","toHostEnv","toLan","reg","indexOf","test","ev","forEach","item","fit","str","fullPath","toPath"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport {\n  commonRouter,\n  personalRouter,\n  exRouter,\n} from 'blockchain-ui-privatization/PC/router';\nimport { setCookie, routerEnv } from '@/utils';\n\nconst originalPush = Router.prototype.push;\nRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(err => err);\n};\n\nconst evnConfig = ['ex', 'otc', 'co'];\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'history',\n  base: '/',\n  routes: [\n    // 创新试验区详情\n    {\n      path: `${routerEnv}/innovation/:id`,\n      name: 'innovationView',\n      meta: {\n        mustLogin: false,\n        theme: 'homeOther',\n        navigation: '1', // 国际版中使用横向导航\n        hideFooter: 'false', // 不隐藏footer\n        pageTitle: 'innovation',\n      },\n      component: () => import('@/views/innovation/view.vue'),\n    },\n    // agent\n    {\n      path: `${routerEnv}/agent`,\n      name: 'agentView',\n      meta: {\n        mustLogin: false,\n        theme: 'homeOther',\n        navigation: '1', // 国际版中使用横向导航\n        hideFooter: 'false', // 不隐藏footer\n        pageTitle: 'agent',\n      },\n      component: () => import('@/views/agent/view.vue'),\n    },\n    ...commonRouter,\n    // 个人中心\n    ...personalRouter,\n    ...exRouter,\n  ],\n});\n\nif (process.env.NODE_ENV === 'development') {\n  router.beforeEach((to, from, next) => {\n    const fromPathArr = from.path.split('/');\n    const toPathArr = to.path.split('/');\n    let [, fromHostEnv, fromLan] = fromPathArr;\n    const [, toHostEnv, toLan] = toPathArr;\n    const reg = /^[a-z]{2}_[A-Z]{2}$/;\n    if ((evnConfig.indexOf(toHostEnv) !== -1) && reg.test(toLan)) {\n      setCookie('lan', toLan);\n      next();\n    } else {\n      if (from.path === '/') {\n        let ev = '';\n        evnConfig.forEach((item) => {\n          const fit = `/${item}/`;\n          if (to.path.indexOf(item) !== -1) {\n            ev = fit;\n          }\n        });\n        const str = `${ev}zh_CN/${to.path.split(ev)[1]}`;\n        setCookie('lan', 'zh_CN');\n        next(str);\n        return false;\n      }\n      let str = '';\n      fromHostEnv = evnConfig.indexOf(fromHostEnv) !== -1 ? fromHostEnv : 'ex';\n      fromLan = reg.test(fromLan) ? fromLan : 'zh_CN';\n      if (evnConfig.indexOf(toHostEnv) === -1) {\n        str += `/${fromHostEnv}`;\n      }\n      if (!reg.test(toLan)) {\n        str += `/${fromLan}`;\n      }\n      str += to.fullPath;\n      setCookie('lan', fromLan);\n      next(str);\n    }\n    return false;\n  });\n} else {\n  const reg = /^[a-z]{2}_[A-Z]{2}$/;\n  router.beforeEach((to, from, next) => {\n    if (from.path === '/') {\n      next();\n    } else {\n      const fromPathArr = from.path.split('/');\n      const fromLan = fromPathArr[1];\n      const toPathArr = to.path.split('/');\n      const toLan = toPathArr[1];\n      if (reg.test(toLan)) {\n        next();\n      } else {\n        const toPath = `/${fromLan}${to.fullPath}`;\n        next(toPath);\n      }\n    }\n  });\n}\n\nexport default router;\n"]}]}