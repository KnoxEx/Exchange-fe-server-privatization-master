{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/broker/excheif/excheif.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/broker/excheif/excheif.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport { colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'excheif',\n  data: function data() {\n    return {\n      headClasses: 'c-4-bg',\n      bodyClasses: 'c-4-bg',\n      tableLoading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      backgroundImg: \"background: url(\".concat(imgMap.jjrNeaderBg, \")  center bottom no-repeat #0E1A2E\"),\n      carpbgImg: \"background: url(\".concat(imgMap.broker_carp, \")\"),\n      carpbgImgTow: \"background: url(\".concat(imgMap.broker_carp2, \")\"),\n      tableData: [],\n      // 角色列表\n      // 邀请人数\n      userCount: 0,\n      inviteUrlShow: true,\n      // 返佣邀请链接\n      inviteUrl: '',\n      inviteQECode: '',\n      inviteQECodeShow: false,\n      isDiractShow: false,\n      // 用户的返佣信息\n      level: {\n        levelOneSum: '',\n        levelTwoSum: '',\n        symbol: '',\n        allSum: ''\n      },\n      errorHave: false,\n      // 二维码开关\n      imgCodeFlag: false\n    };\n  },\n  watch: {},\n  computed: {\n    columns: function columns() {\n      return [{\n        title: this.$t('excheif.tabel1'),\n        width: '8%'\n      }, {\n        title: this.$t('excheif.tabel2'),\n        width: '22%'\n      }, {\n        title: \"\".concat(this.$t('excheif.tabel3'), \"\\uFF08\").concat(this.$t('excheif.preson'), \"\\uFF09\"),\n        width: '26%'\n      }, {\n        title: this.$t('excheif.tabel4'),\n        width: '22%',\n        styleClass: 'brtime'\n      }];\n    }\n  },\n  methods: {\n    init: function init() {\n      this.getCode();\n      this.getLevel();\n      this.getData();\n    },\n    // 获取邀请链接和人数\n    getCode: function getCode() {\n      var _this = this;\n\n      this.axios({\n        url: this.$store.state.url.common.broker_code,\n        method: 'get'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this.inviteUrl = data.data.inviteUrl;\n          _this.userCount = data.data.inviteNUm;\n          _this.inviteQECode = data.data.inviteQRCode;\n        }\n      });\n    },\n    // 获取返佣信息\n    getLevel: function getLevel() {\n      var _this2 = this;\n\n      this.axios({\n        url: this.$store.state.url.common.broker_asset,\n        method: 'get'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this2.level = data.data;\n        }\n      });\n    },\n    // 请求tabel数据\n    getData: function getData() {\n      var _this3 = this;\n\n      this.tableLoading = true;\n      this.axios({\n        url: this.$store.state.url.common.broker_data_list,\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          if (data.data) {\n            if (data.data.length) {\n              data.data.forEach(function (ele) {\n                var obj = ele;\n                obj.newList = [];\n\n                if (obj.list && obj.list.length) {\n                  obj.list.forEach(function (item) {\n                    obj.newList.push({\n                      id: item.uid,\n                      data: [item.nickName, // 账户名\n                      \"\".concat(item.otcSumBrokerage, \"\\uFF08\").concat(item.otcBrokerageSymbol, \"\\uFF09\"), // 收益\n                      item.num, // 好友数\n                      [{\n                        type: 'html',\n                        text: \"\".concat(item.dateStr, \"<br>\").concat(item.timeStr)\n                      }] // 注册日期\n                      ]\n                    });\n                  });\n                }\n\n                _this3.tableData.push(obj);\n              });\n            }\n          }\n        }\n\n        _this3.tableLoading = false;\n      });\n    },\n    copyClick: function copyClick() {\n      this.copy(this.inviteUrl);\n    },\n    copy: function copy(str) {\n      this.$bus.$emit('tip', {\n        text: this.$t('personal.prompt.copySucces'),\n        type: 'success'\n      });\n\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n\n        e.preventDefault(); // 阻止默认行为\n      }\n\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n\n      document.removeEventListener('copy', save);\n    },\n    handMouseenter: function handMouseenter() {\n      this.inviteUrlShow = false;\n    },\n    handMouseleave: function handMouseleave() {\n      this.inviteUrlShow = true;\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    },\n    imgCodeShow: function imgCodeShow() {\n      this.imgCodeFlag = true;\n    },\n    imgCodeHide: function imgCodeHide() {\n      this.imgCodeFlag = false;\n    }\n  }\n};",null]}