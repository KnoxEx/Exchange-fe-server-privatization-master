{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/modules/trade/tradeForm/lever-tradeForm/lever-tradeForm.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/modules/trade/tradeForm/lever-tradeForm/lever-tradeForm.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport { myStorage, getCoinShowName, nul, fixRate, fixD, fixInput, imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'tableList',\n  filters: {\n    rateFix: function rateFix(v) {\n      var data = v || 0;\n      return \"\".concat(fixD(data * 100, 2), \"%\");\n    }\n  },\n  data: function data() {\n    return {\n      formData_1: {\n        title: this.$t('trade.price'),\n        // 价格\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[1] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: ''\n      },\n      formData_2: {\n        title: this.$t('trade.number'),\n        // '数量',\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[0] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: null\n      },\n      formData_3: {\n        title: this.$t('trade.price'),\n        // '价格',\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[1] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: null\n      },\n      formData_4: {\n        title: this.$t('trade.number'),\n        // '数量',\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[0] : 'USDT',\n        subText: '',\n        errorText: '',\n        isError: false,\n        disabled: false,\n        disabledText: '',\n        value: null\n      },\n      imgMap: imgMap,\n      colorMap: colorMap,\n      // 交易类型 1限价 2 市价\n      transactionType: 1,\n      // 当前切换的货币对\n      symbolCurrent: myStorage.get('leverSymbolName'),\n      // 百分比\n      perArr: [25, 50, 75, 100],\n      perBuy: null,\n      perSell: null,\n      // 防止多次提交\n      fal: true,\n      assetsInter: null,\n      totalBalancesHide: false,\n      // 资产数据\n      financeData: null,\n      // 借贷弹框\n      isShowDialog: false,\n      confirmFormTitle: this.$t('lever.leverjd'),\n      // '借贷',\n      borrowType: 'Base',\n      // 借贷数量\n      borrowValue: '',\n      borrowPromptText: this.$t('lever.leverJdNumber'),\n      // '借贷数量',\n      borrowErrorText: null,\n      borrowErrorFlag: false,\n      borrowCoin: null,\n      confirmLoading: false,\n      // 提水框\n      alertFlag: false,\n      tradeSide: null,\n      notAuthShowDialog: false,\n      tsTexttype: 1\n    };\n  },\n  props: {},\n  computed: {\n    localText: function localText() {\n      return {\n        title1: this.$t('trade.price'),\n        // 价格\n        title2: this.$t('trade.number'),\n        // '数量',\n        title3: this.$t('trade.price'),\n        // '价格',\n        title4: this.$t('trade.number') // '数量',\n\n      };\n    },\n    coinSymbols: function coinSymbols() {\n      if (this.symbolCurrent) {\n        return this.symbolCurrent.replace('/', ',');\n      }\n\n      return '';\n    },\n    // 全部币种列表\n    coinList: function coinList() {\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\n        return this.$store.state.baseData.market.coinList;\n      }\n\n      return null;\n    },\n    isLogin: function isLogin() {\n      if (this.$store.state.baseData.isLogin) {\n        return this.$store.state.baseData.isLogin;\n      }\n\n      return false;\n    },\n    // 按钮信息\n    buttosContent: function buttosContent() {\n      return {\n        buyButton: {\n          text: this.isLogin ? \"\".concat(this.$t('lever.buy'), \" \").concat(getCoinShowName(this.symbolUnit.symbol, this.coinList)) : this.$t('trade.loginReg'),\n          // '登录/注册',\n          class: this.isLogin ? 'u-1-bg buyBtn u-16-cl' : 'u-8-bg buyBtn u-16-cl'\n        },\n        sellButton: {\n          text: this.isLogin ? \"\".concat(this.$t('lever.sell'), \" \").concat(getCoinShowName(this.symbolUnit.symbol, this.coinList)) : this.$t('trade.loginReg'),\n          // '登录/注册',\n          class: this.isLogin ? 'u-4-bg sellBtn u-16-cl' : 'u-8-bg sellBtn u-16-cl'\n        }\n      };\n    },\n    // 账户资产\n    accountBalance: function accountBalance() {\n      if (this.$store.state.assets) {\n        return this.$store.state.assets.assetsCoinData;\n      }\n\n      return null;\n    },\n    // 当前币对的资产\n    currenTaccount: function currenTaccount() {\n      if (this.financeData) {\n        return {\n          symbolAccoubt: this.financeData.baseNormalBalance,\n          unitsAccoubt: this.financeData.quoteNormalBalance\n        };\n      }\n\n      return {\n        symbolAccoubt: '0',\n        unitsAccoubt: '0'\n      };\n    },\n    // 折合总资产\n    totalBalances: function totalBalances() {\n      if (this.accountBalance) {\n        var _this$accountBalance = this.accountBalance,\n            totalBalance = _this$accountBalance.totalBalance,\n            totalBalanceSymbol = _this$accountBalance.totalBalanceSymbol;\n        return {\n          totalBalance: totalBalance,\n          totalBalanceSymbol: totalBalanceSymbol,\n          totalRater: fixRate(totalBalance, this.rateData, totalBalanceSymbol)\n        };\n      }\n\n      return {\n        totalBalance: '0.0000',\n        totalBalanceSymbol: 'BTC',\n        totalRater: '0.00'\n      };\n    },\n    // 当前币对\n    symbolUnit: function symbolUnit() {\n      if (this.symbolCurrent) {\n        return {\n          symbol: this.symbolCurrent.split('/')[0],\n          units: this.symbolCurrent.split('/')[1]\n        };\n      }\n\n      return {\n        symbol: '',\n        units: ''\n      };\n    },\n    // 汇率单位4\n    rateData: function rateData() {\n      return this.$store.state.baseData.rate;\n    },\n    // 全部币对列表\n    symbolAll: function symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    // 当前币对精度计算的值\n    fixValue: function fixValue() {\n      if (this.symbolAll && this.symbolCurrent) {\n        var symbol = this.symbolAll[this.symbolCurrent];\n        return {\n          priceFix: symbol.price,\n          volumeFix: symbol.volume\n        };\n      }\n\n      return {\n        priceFix: 2,\n        volumeFix: 8\n      };\n    },\n    formData2Fix: function formData2Fix() {\n      if (this.transactionType === 2) {\n        return this.fixValue.priceFix;\n      }\n\n      return this.fixValue.volumeFix;\n    },\n    // 买入交易额\n    tradeVolumeBuy: function tradeVolumeBuy() {\n      var count = nul(fixD(this.formData_1.value, this.fixValue.priceFix), fixD(this.formData_2.value, this.fixValue.priceFix));\n      return fixD(count, this.fixValue.priceFix);\n    },\n    tradeVolumeSell: function tradeVolumeSell() {\n      var count = nul(fixD(this.formData_3.value, this.fixValue.priceFix), fixD(this.formData_4.value, this.fixValue.priceFix));\n      return fixD(count, this.fixValue.priceFix);\n    },\n    // 修改保证金是否可以提交\n    confirmDisabled: function confirmDisabled() {\n      if (this.confirmLoading) {\n        return false;\n      }\n\n      if (this.borrowValue && this.borrowValue > 0) {\n        return false;\n      }\n\n      return true;\n    },\n    baseData: function baseData() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    // 交易是否开启了必须实名认证\n    leverTradeKycOpen: function leverTradeKycOpen() {\n      var isOpen = 0;\n\n      if (this.baseData && this.baseData.kycLimitConfig) {\n        isOpen = this.baseData.kycLimitConfig.lever_trade_kyc_open;\n      }\n\n      return Number(isOpen);\n    },\n    // 用户信息\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    // 认证信息\n    idAuth: function idAuth() {\n      var idAuth = 0;\n\n      if (this.userInfo) {\n        idAuth = Number(this.userInfo.authLevel);\n      }\n\n      return idAuth;\n    }\n  },\n  watch: {\n    localText: function localText(_localText) {\n      this.formData_1.title = _localText.title1;\n      this.formData_2.title = _localText.title2;\n      this.formData_3.title = _localText.title3;\n      this.formData_4.title = _localText.title4;\n    },\n    isLogin: function isLogin(val) {\n      if (val) {\n        this.$store.dispatch('assetsExchangeData', {\n          auto: false,\n          coinSymbols: this.coinSymbols\n        });\n        this.getLeverageFinance(); // clearInterval(this.assetsInter);\n        // this.assetsInter = setInterval(() => {\n        //   this.$store.dispatch('assetsExchangeData', {\n        //     auto: false,\n        //     coinSymbols: this.symbolUnit.symbol,\n        //   });\n        //   this.getLeverageFinance();\n        // }, 10000);\n      }\n    },\n    // 切换 限价交易 和 市价交易\n    transactionType: function transactionType(val) {\n      // 2 市价交易\n      if (val === 2) {\n        this.formData_1.disabled = true;\n        this.formData_1.disabledText = this.$t('trade.mPriceBuy'); // 以市场最优价买入\n\n        this.formData_2.title = this.$t('trade.dealMoney'); // '交易额';\n\n        this.formData_2.units = this.symbolUnit.units;\n        this.formData_3.disabled = true;\n        this.formData_3.disabledText = this.$t('trade.mPriceSell'); // 以市场最优价卖出\n      } else {\n        this.formData_1.disabled = false;\n        this.formData_1.disabledText = '';\n        this.formData_2.title = this.$t('trade.number'); // '数量';\n\n        this.formData_2.units = this.symbolUnit.symbol;\n        this.formData_3.disabled = false;\n        this.formData_3.disabledText = '';\n      }\n    },\n    // 各个输入框的 单位\n    symbolUnit: function symbolUnit(val) {\n      this.formData_1.units = val.units;\n      this.formData_2.units = val.symbol;\n      this.formData_3.units = val.units;\n      this.formData_4.units = val.symbol;\n    },\n    borrowValue: function borrowValue(v) {\n      // this.borrowValue = fixInput(v, this.valuePrecision(this.borrowCoin));\n      this.borrowValue = fixInput(v, 3);\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      this.symbolCurrent = myStorage.get('leverSymbolName'); // 监听 当前货币对切换\n\n      this.$bus.$on('SYMBOL_CURRENT', function (val) {\n        _this.clearValue();\n\n        _this.symbolCurrent = val;\n\n        _this.getLeverageFinance();\n      });\n\n      if (this.isLogin) {\n        this.$store.dispatch('assetsExchangeData', {\n          auto: false,\n          coinSymbols: this.coinSymbols\n        });\n        this.getLeverageFinance(); // clearInterval(this.assetsInter);\n        // this.assetsInter = setInterval(() => {\n        //   this.$store.dispatch('assetsExchangeData', {\n        //     auto: false,\n        //     coinSymbols: this.symbolUnit.symbol,\n        //   });\n        //   this.getLeverageFinance();\n        // }, 10000);\n      } // 监听 价格点击\n\n\n      this.$bus.$on('HANDEL_PRICE', function (data) {\n        if (data) {\n          var arr = ['formData_1', 'formData_3'];\n          arr.forEach(function (item) {\n            _this.onChaneForm({\n              name: item,\n              value: data\n            });\n          });\n        }\n      });\n    },\n    setFex: function setFex(val) {\n      return fixInput(val, 3);\n    },\n    // 获取币种精度\n    valuePrecision: function valuePrecision(sy) {\n      if (this.coinList) {\n        return this.coinList[sy].showPrecision;\n      }\n\n      return 4;\n    },\n    // 切换 限价交易 和 市价交易\n    switchTradeType: function switchTradeType(type) {\n      this.clearValue();\n      this.transactionType = type;\n    },\n    // 显示隐藏折合资产\n    handelTotal: function handelTotal() {\n      this.totalBalancesHide = !this.totalBalancesHide;\n    },\n    // input 框 输入事件\n    onChaneForm: function onChaneForm(data) {\n      this[data.name].value = data.value;\n\n      if (data.value) {\n        this[data.name].isError = false;\n      }\n\n      if (data.name === 'formData_3' || data.name === 'formData_1') {\n        this[data.name].subText = fixRate(parseFloat(data.value), this.rateData, this.symbolUnit.units);\n      }\n\n      if (data.name === 'formData_2' || data.name === 'formData_1') {\n        var V1 = this.formData_1.value;\n        var V2 = this.formData_2.value;\n        var UA = this.currenTaccount.unitsAccoubt;\n        this.perBuy = V1 * V2 / UA * 100;\n      }\n\n      if (data.name === 'formData_4' || data.name === 'formData_3') {\n        var V3 = parseFloat(this.formData_3.value);\n        var V4 = parseFloat(this.formData_4.value);\n        var SA = this.currenTaccount.symbolAccoubt;\n        this.perSell = V3 * V4 / SA * 100;\n      }\n\n      if (!data.value) {\n        this[data.name].subText = null;\n      }\n    },\n    // 点击百分之 事件\n    setPerNumber: function setPerNumber(type, num) {\n      if (!this.isLogin) {\n        // 请先登录账号\n        this.$bus.$emit('tip', {\n          text: this.$t('trade.pleaseLogin'),\n          type: 'error'\n        });\n      } else if (type === 'buy') {\n        if (!this.formData_1.value && this.transactionType === 1) {\n          // 请输入价格\n          this.formData_1.errorText = this.$t('trade.pleasePrice');\n          this.formData_1.isError = true;\n        } else if (this.transactionType === 1) {\n          this.perBuy = num;\n          var data = this.currenTaccount.unitsAccoubt / this.formData_1.value * (num / 100);\n          this.formData_2.value = fixD(data, this.fixValue.volumeFix);\n        } else {\n          this.perBuy = num;\n\n          var _data = this.currenTaccount.unitsAccoubt * (num / 100);\n\n          this.formData_2.value = fixD(_data, this.fixValue.priceFix);\n        }\n      } else if (type === 'sell') {\n        this.perSell = num;\n\n        var _data2 = this.currenTaccount.symbolAccoubt * (num / 100);\n\n        this.formData_4.value = fixD(_data2, this.fixValue.volumeFix);\n      }\n    },\n    // 百分比按钮class\n    perSellClass: function perSellClass(num) {\n      if (this.perSell === num) {\n        return ['a-12-bd', 'b-4-cl'];\n      }\n\n      return 'a-3-bd';\n    },\n    perBuyClass: function perBuyClass(num) {\n      if (this.perBuy === num) {\n        return ['a-12-bd', 'b-4-cl'];\n      }\n\n      return 'a-3-bd';\n    },\n    // 交易额 文字颜色Class\n    volumeTradeClass: function volumeTradeClass(num, total) {\n      if (parseFloat(num) > parseFloat(total)) {\n        return 'u-4-cl';\n      }\n\n      return 'b-1-cl';\n    },\n    submitFormKey: function submitFormKey(type) {\n      var formKey = [];\n      var price = null;\n      var volume = null;\n\n      if (this.transactionType === 1) {\n        if (type === 'BUY') {\n          formKey = ['formData_1', 'formData_2'];\n          price = fixD(this.formData_1.value, this.fixValue.priceFix);\n          volume = fixD(this.formData_2.value, this.fixValue.volumeFix);\n        } else {\n          formKey = ['formData_3', 'formData_4'];\n          price = fixD(this.formData_3.value, this.fixValue.priceFix);\n          volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\n        }\n      } else if (type === 'BUY') {\n        formKey = ['formData_2'];\n        volume = fixD(this.formData_2.value, this.fixValue.priceFix);\n      } else {\n        formKey = ['formData_4'];\n        volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\n      }\n\n      return {\n        formKey: formKey,\n        price: price,\n        volume: volume\n      };\n    },\n    // 清空 表单数据\n    clearValue: function clearValue() {\n      var _this2 = this;\n\n      var formKey = ['formData_1', 'formData_2', 'formData_3', 'formData_4'];\n      formKey.forEach(function (item) {\n        _this2[item].value = '';\n        _this2[item].isError = false;\n        _this2[item].subText = null;\n      });\n      this.perSell = 0;\n      this.perBuy = 0;\n    },\n    submit: function submit(side) {\n      var _this3 = this;\n\n      if (!this.isLogin) {\n        this.$router.push('/login');\n      } else if (this.leverTradeKycOpen && this.idAuth !== 1) {\n        this.tsTexttype = 1;\n        this.notAuthShowDialog = true;\n      } else {\n        var _this$submitFormKey = this.submitFormKey(side),\n            formKey = _this$submitFormKey.formKey,\n            price = _this$submitFormKey.price,\n            volume = _this$submitFormKey.volume;\n\n        var fal = true;\n\n        if (formKey.length) {\n          formKey.forEach(function (item) {\n            var value = _this3[item].value;\n\n            if (!value) {\n              _this3[item].errorText = \"\".concat(_this3.$t('trade.pleaseInput')).concat(_this3[item].title);\n              _this3[item].isError = true;\n              fal = false;\n            }\n\n            if (parseFloat(value) <= 0) {\n              _this3[item].errorText = \"\".concat(_this3[item].title).concat(_this3.$t('trade.inputError')); // 输入有误\n\n              _this3[item].isError = true;\n              fal = false;\n            }\n          });\n\n          if (this.fal && fal) {\n            var symbolArr = this.symbolCurrent.split('/');\n            var symbol = symbolArr[0].toLowerCase() + symbolArr[1].toLowerCase();\n            this.fal = false;\n            var submitData = {\n              side: side,\n              price: price,\n              volume: volume,\n              symbol: symbol,\n              type: this.transactionType\n            };\n            this.tradeSide = side;\n            this.axios({\n              url: this.$store.state.url.lever.create,\n              headers: {},\n              params: submitData,\n              method: 'post'\n            }).then(function (data) {\n              if (data.code === '0') {\n                // 清空表单\n                _this3.clearValue(); // 重新请求资产\n\n\n                _this3.$store.dispatch('assetsExchangeData', {\n                  auto: false,\n                  coinSymbols: _this3.coinSymbols\n                }); // 发送下单成功的事件\n\n\n                _this3.$bus.$emit('ORDER_CREATE', {\n                  type: 'success'\n                }); // 提示成功 下单成功\n\n\n                _this3.$bus.$emit('tip', {\n                  text: _this3.$t('trade.dealCussess'),\n                  type: 'success'\n                });\n\n                _this3.fal = true;\n              } else {\n                _this3.clearValue();\n\n                _this3.$bus.$emit('tip', {\n                  text: data.msg,\n                  type: 'error'\n                }); // if (data.code === '10036') {\n                //   this.alertFlag = true;\n                // } else {\n                // }\n\n\n                _this3.fal = true;\n              }\n            });\n          }\n        }\n      }\n    },\n    // 请求资产数据\n    getLeverageFinance: function getLeverageFinance() {\n      var _this4 = this;\n\n      if (this.isLogin && this.symbolCurrent) {\n        var symbolArr = this.symbolCurrent.split('/');\n        var symbol = symbolArr[0] + symbolArr[1];\n        this.axios({\n          url: 'lever/finance/symbol/balance',\n          headers: {},\n          params: {\n            symbol: symbol\n          },\n          method: 'post'\n        }).then(function (data) {\n          if (data.code === '0') {\n            var ndata = data.data; // const basePrecision = this.valuePrecision(ndata.baseCoin);\n\n            var quotePrecision = _this4.valuePrecision(ndata.quoteCoin);\n\n            if (_this4.symbolAll) {\n              quotePrecision = _this4.symbolAll[ndata.name] ? _this4.symbolAll[ndata.name].price : 8;\n            }\n\n            if (!_this4.isShowDialog) {\n              _this4.borrowCoin = ndata.baseCoin;\n              _this4.borrowType = 'Base';\n            }\n\n            _this4.financeData = ndata; // 可用\n\n            _this4.financeData.baseNormalBalance = fixD(ndata.baseNormalBalance, 8);\n            _this4.financeData.quoteNormalBalance = fixD(ndata.quoteNormalBalance, 8); // 可借\n\n            _this4.financeData.baseCanBorrow = fixD(ndata.baseCanBorrow, 8);\n            _this4.financeData.quoteCanBorrow = fixD(ndata.quoteCanBorrow, 8); // 已借\n\n            _this4.financeData.baseBorrowBalance = fixD(ndata.baseBorrowBalance, 8);\n            _this4.financeData.quoteBorrowBalance = fixD(ndata.quoteBorrowBalance, 8); // 总额度\n\n            _this4.financeData.baseTotalBorrow = fixD(ndata.baseTotalBorrow, 8);\n            _this4.financeData.quoteTotalBorrow = fixD(ndata.quoteTotalBorrow, 8); // 爆仓价\n\n            _this4.financeData.burstPrice = fixD(ndata.burstPrice, quotePrecision);\n          }\n        });\n      }\n    },\n    // 划转 借贷 借贷数量全部 按钮点击事件\n    buttonsEvent: function buttonsEvent(type, side) {\n      if (type === 'All') {\n        if (this.borrowType === 'Base') {\n          this.borrowValue = this.financeData.baseCanBorrow;\n        } else {\n          this.borrowValue = this.financeData.quoteCanBorrow;\n        }\n      }\n\n      if (type === '1') {\n        if (this.symbolCurrent) {\n          var arr = this.symbolCurrent.split('/');\n          var symbol = (arr[0] + arr[1]).toLowerCase();\n          var currentSymbil = side === 'BUY' ? arr[1] : arr[0];\n          this.$bus.$emit('coTransfer', symbol, currentSymbil);\n        }\n      }\n\n      if (type === '2') {\n        this.isShowDialog = true;\n      }\n    },\n    // 确认借贷\n    dialogConfirm: function dialogConfirm() {\n      var _this5 = this;\n\n      this.confirmLoading = true;\n\n      if (this.isLogin && this.symbolCurrent) {\n        var symbolArr = this.symbolCurrent.split('/');\n        var symbol = symbolArr[0] + symbolArr[1];\n        this.axios({\n          url: 'lever/finance/borrow',\n          headers: {},\n          params: {\n            symbol: symbol,\n            coin: this.borrowCoin,\n            amount: this.borrowValue\n          },\n          method: 'post'\n        }).then(function (data) {\n          _this5.confirmLoading = false;\n\n          if (data.code === '0') {\n            _this5.getLeverageFinance(); // 借贷成功\n\n\n            _this5.$bus.$emit('tip', {\n              text: _this5.$t('lever.leverJdcc'),\n              type: 'success'\n            });\n\n            _this5.isShowDialog = false;\n            _this5.borrowValue = '';\n          } else {\n            _this5.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    },\n    // 切换 借贷币对\n    setReviseType: function setReviseType(type, data) {\n      this.borrowValue = '';\n      this.borrowType = type;\n      this.borrowCoin = data;\n    },\n    // 借贷输入框 输入事件\n    inputChanges: function inputChanges(value, name) {\n      this[name] = value;\n    },\n    // 弹框取消\n    dialogClose: function dialogClose() {\n      this.notAuthShowDialog = false;\n      this.isShowDialog = false;\n      this.borrowValue = '';\n      this.confirmLoading = false;\n    },\n    // 划转回调方法\n    transferSuccess: function transferSuccess() {\n      this.getLeverageFinance();\n    },\n    confirmFun: function confirmFun() {\n      this.buttonsEvent('1', this.tradeSide);\n      this.alertClone();\n    },\n    alertClone: function alertClone() {\n      this.alertFlag = false;\n    },\n    // 去认证\n    gotoAuth: function gotoAuth() {\n      this.$router.push('/personal/userManagement');\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/modules/trade/tradeForm/lever-tradeForm/lever-tradeForm.js"],"names":["myStorage","getCoinShowName","nul","fixRate","fixD","fixInput","imgMap","colorMap","name","filters","rateFix","v","data","formData_1","title","$t","units","get","split","subText","errorText","isError","disabled","disabledText","value","formData_2","formData_3","formData_4","transactionType","symbolCurrent","perArr","perBuy","perSell","fal","assetsInter","totalBalancesHide","financeData","isShowDialog","confirmFormTitle","borrowType","borrowValue","borrowPromptText","borrowErrorText","borrowErrorFlag","borrowCoin","confirmLoading","alertFlag","tradeSide","notAuthShowDialog","tsTexttype","props","computed","localText","title1","title2","title3","title4","coinSymbols","replace","coinList","$store","state","baseData","market","isLogin","buttosContent","buyButton","text","symbolUnit","symbol","class","sellButton","accountBalance","assets","assetsCoinData","currenTaccount","symbolAccoubt","baseNormalBalance","unitsAccoubt","quoteNormalBalance","totalBalances","totalBalance","totalBalanceSymbol","totalRater","rateData","rate","symbolAll","fixValue","priceFix","price","volumeFix","volume","formData2Fix","tradeVolumeBuy","count","tradeVolumeSell","confirmDisabled","publicInfo","leverTradeKycOpen","isOpen","kycLimitConfig","lever_trade_kyc_open","Number","userInfo","idAuth","authLevel","watch","val","dispatch","auto","getLeverageFinance","methods","init","$bus","$on","clearValue","arr","forEach","item","onChaneForm","setFex","valuePrecision","sy","showPrecision","switchTradeType","type","handelTotal","parseFloat","V1","V2","UA","V3","V4","SA","setPerNumber","num","$emit","perSellClass","perBuyClass","volumeTradeClass","total","submitFormKey","formKey","submit","side","$router","push","length","symbolArr","toLowerCase","submitData","axios","url","lever","create","headers","params","method","then","code","msg","ndata","quotePrecision","quoteCoin","baseCoin","baseCanBorrow","quoteCanBorrow","baseBorrowBalance","quoteBorrowBalance","baseTotalBorrow","quoteTotalBorrow","burstPrice","buttonsEvent","currentSymbil","dialogConfirm","coin","amount","setReviseType","inputChanges","dialogClose","transferSuccess","confirmFun","alertClone","gotoAuth"],"mappings":"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","sourcesContent":["\r\nimport {\r\n  myStorage, getCoinShowName, nul, fixRate, fixD, fixInput, imgMap, colorMap,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'tableList',\r\n  filters: {\r\n    rateFix(v) {\r\n      const data = v || 0;\r\n      return `${fixD(data * 100, 2)}%`;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      formData_1: {\r\n        title: this.$t('trade.price'), // 价格\r\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[1] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: '',\r\n      },\r\n      formData_2: {\r\n        title: this.$t('trade.number'), // '数量',\r\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[0] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: null,\r\n      },\r\n      formData_3: {\r\n        title: this.$t('trade.price'), // '价格',\r\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[1] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: null,\r\n      },\r\n      formData_4: {\r\n        title: this.$t('trade.number'), // '数量',\r\n        units: myStorage.get('leverSymbolName') ? myStorage.get('leverSymbolName').split('/')[0] : 'USDT',\r\n        subText: '',\r\n        errorText: '',\r\n        isError: false,\r\n        disabled: false,\r\n        disabledText: '',\r\n        value: null,\r\n      },\r\n      imgMap,\r\n      colorMap,\r\n      // 交易类型 1限价 2 市价\r\n      transactionType: 1,\r\n      // 当前切换的货币对\r\n      symbolCurrent: myStorage.get('leverSymbolName'),\r\n      // 百分比\r\n      perArr: [25, 50, 75, 100],\r\n      perBuy: null,\r\n      perSell: null,\r\n      // 防止多次提交\r\n      fal: true,\r\n      assetsInter: null,\r\n      totalBalancesHide: false,\r\n      // 资产数据\r\n      financeData: null,\r\n      // 借贷弹框\r\n      isShowDialog: false,\r\n      confirmFormTitle: this.$t('lever.leverjd'), // '借贷',\r\n      borrowType: 'Base',\r\n      // 借贷数量\r\n      borrowValue: '',\r\n      borrowPromptText: this.$t('lever.leverJdNumber'), // '借贷数量',\r\n      borrowErrorText: null,\r\n      borrowErrorFlag: false,\r\n      borrowCoin: null,\r\n      confirmLoading: false,\r\n      // 提水框\r\n      alertFlag: false,\r\n      tradeSide: null,\r\n      notAuthShowDialog: false,\r\n      tsTexttype: 1,\r\n    };\r\n  },\r\n  props: {\r\n  },\r\n  computed: {\r\n    localText() {\r\n      return {\r\n        title1: this.$t('trade.price'), // 价格\r\n        title2: this.$t('trade.number'), // '数量',\r\n        title3: this.$t('trade.price'), // '价格',\r\n        title4: this.$t('trade.number'), // '数量',\r\n      };\r\n    },\r\n    coinSymbols() {\r\n      if (this.symbolCurrent) {\r\n        return this.symbolCurrent.replace('/', ',');\r\n      }\r\n      return '';\r\n    },\r\n    // 全部币种列表\r\n    coinList() {\r\n      if (this.$store.state.baseData && this.$store.state.baseData.market) {\r\n        return this.$store.state.baseData.market.coinList;\r\n      }\r\n      return null;\r\n    },\r\n    isLogin() {\r\n      if (this.$store.state.baseData.isLogin) {\r\n        return this.$store.state.baseData.isLogin;\r\n      }\r\n      return false;\r\n    },\r\n    // 按钮信息\r\n    buttosContent() {\r\n      return {\r\n        buyButton: {\r\n\r\n          text: this.isLogin\r\n            ? `${this.$t('lever.buy')} ${getCoinShowName(this.symbolUnit.symbol, this.coinList)}`\r\n            : this.$t('trade.loginReg'), // '登录/注册',\r\n          class: this.isLogin ? 'u-1-bg buyBtn u-16-cl' : 'u-8-bg buyBtn u-16-cl',\r\n        },\r\n        sellButton: {\r\n          text: this.isLogin\r\n            ? `${this.$t('lever.sell')} ${getCoinShowName(this.symbolUnit.symbol, this.coinList)}`\r\n            : this.$t('trade.loginReg'), // '登录/注册',\r\n          class: this.isLogin ? 'u-4-bg sellBtn u-16-cl' : 'u-8-bg sellBtn u-16-cl',\r\n        },\r\n      };\r\n    },\r\n    // 账户资产\r\n    accountBalance() {\r\n      if (this.$store.state.assets) {\r\n        return this.$store.state.assets.assetsCoinData;\r\n      }\r\n      return null;\r\n    },\r\n    // 当前币对的资产\r\n    currenTaccount() {\r\n      if (this.financeData) {\r\n        return {\r\n          symbolAccoubt: this.financeData.baseNormalBalance,\r\n          unitsAccoubt: this.financeData.quoteNormalBalance,\r\n        };\r\n      }\r\n      return {\r\n        symbolAccoubt: '0',\r\n        unitsAccoubt: '0',\r\n      };\r\n    },\r\n    // 折合总资产\r\n    totalBalances() {\r\n      if (this.accountBalance) {\r\n        const { totalBalance, totalBalanceSymbol } = this.accountBalance;\r\n        return {\r\n          totalBalance,\r\n          totalBalanceSymbol,\r\n          totalRater: fixRate(totalBalance, this.rateData, totalBalanceSymbol),\r\n        };\r\n      }\r\n      return {\r\n        totalBalance: '0.0000',\r\n        totalBalanceSymbol: 'BTC',\r\n        totalRater: '0.00',\r\n      };\r\n    },\r\n    // 当前币对\r\n    symbolUnit() {\r\n      if (this.symbolCurrent) {\r\n        return {\r\n          symbol: this.symbolCurrent.split('/')[0],\r\n          units: this.symbolCurrent.split('/')[1],\r\n        };\r\n      }\r\n      return {\r\n        symbol: '',\r\n        units: '',\r\n      };\r\n    },\r\n    // 汇率单位4\r\n    rateData() {\r\n      return this.$store.state.baseData.rate;\r\n    },\r\n    // 全部币对列表\r\n    symbolAll() {\r\n      return this.$store.state.baseData.symbolAll;\r\n    },\r\n    // 当前币对精度计算的值\r\n    fixValue() {\r\n      if (this.symbolAll && this.symbolCurrent) {\r\n        const symbol = this.symbolAll[this.symbolCurrent];\r\n        return {\r\n          priceFix: symbol.price,\r\n          volumeFix: symbol.volume,\r\n        };\r\n      }\r\n      return {\r\n        priceFix: 2,\r\n        volumeFix: 8,\r\n      };\r\n    },\r\n    formData2Fix() {\r\n      if (this.transactionType === 2) {\r\n        return this.fixValue.priceFix;\r\n      }\r\n      return this.fixValue.volumeFix;\r\n    },\r\n    // 买入交易额\r\n    tradeVolumeBuy() {\r\n      const count = nul(fixD(this.formData_1.value, this.fixValue.priceFix),\r\n        fixD(this.formData_2.value, this.fixValue.priceFix));\r\n\r\n      return fixD(\r\n        count,\r\n        this.fixValue.priceFix,\r\n      );\r\n    },\r\n    tradeVolumeSell() {\r\n      const count = nul(fixD(this.formData_3.value, this.fixValue.priceFix),\r\n        fixD(this.formData_4.value, this.fixValue.priceFix));\r\n\r\n      return fixD(\r\n        count,\r\n        this.fixValue.priceFix,\r\n      );\r\n    },\r\n    // 修改保证金是否可以提交\r\n    confirmDisabled() {\r\n      if (this.confirmLoading) {\r\n        return false;\r\n      }\r\n      if (this.borrowValue && this.borrowValue > 0) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    baseData() {\r\n      return this.$store.state.baseData.publicInfo;\r\n    },\r\n    // 交易是否开启了必须实名认证\r\n    leverTradeKycOpen() {\r\n      let isOpen = 0;\r\n      if (this.baseData && this.baseData.kycLimitConfig) {\r\n        isOpen = this.baseData.kycLimitConfig.lever_trade_kyc_open;\r\n      }\r\n      return Number(isOpen);\r\n    },\r\n    // 用户信息\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    // 认证信息\r\n    idAuth() {\r\n      let idAuth = 0;\r\n      if (this.userInfo) {\r\n        idAuth = Number(this.userInfo.authLevel);\r\n      }\r\n      return idAuth;\r\n    },\r\n\r\n  },\r\n  watch: {\r\n    localText(localText) {\r\n      this.formData_1.title = localText.title1;\r\n      this.formData_2.title = localText.title2;\r\n      this.formData_3.title = localText.title3;\r\n      this.formData_4.title = localText.title4;\r\n    },\r\n    isLogin(val) {\r\n      if (val) {\r\n        this.$store.dispatch('assetsExchangeData', {\r\n          auto: false,\r\n          coinSymbols: this.coinSymbols,\r\n        });\r\n        this.getLeverageFinance();\r\n        // clearInterval(this.assetsInter);\r\n        // this.assetsInter = setInterval(() => {\r\n        //   this.$store.dispatch('assetsExchangeData', {\r\n        //     auto: false,\r\n        //     coinSymbols: this.symbolUnit.symbol,\r\n        //   });\r\n        //   this.getLeverageFinance();\r\n        // }, 10000);\r\n      }\r\n    },\r\n    // 切换 限价交易 和 市价交易\r\n    transactionType(val) {\r\n      // 2 市价交易\r\n      if (val === 2) {\r\n        this.formData_1.disabled = true;\r\n        this.formData_1.disabledText = this.$t('trade.mPriceBuy'); // 以市场最优价买入\r\n        this.formData_2.title = this.$t('trade.dealMoney'); // '交易额';\r\n        this.formData_2.units = this.symbolUnit.units;\r\n        this.formData_3.disabled = true;\r\n        this.formData_3.disabledText = this.$t('trade.mPriceSell'); // 以市场最优价卖出\r\n      } else {\r\n        this.formData_1.disabled = false;\r\n        this.formData_1.disabledText = '';\r\n        this.formData_2.title = this.$t('trade.number'); // '数量';\r\n        this.formData_2.units = this.symbolUnit.symbol;\r\n        this.formData_3.disabled = false;\r\n        this.formData_3.disabledText = '';\r\n      }\r\n    },\r\n    // 各个输入框的 单位\r\n    symbolUnit(val) {\r\n      this.formData_1.units = val.units;\r\n      this.formData_2.units = val.symbol;\r\n      this.formData_3.units = val.units;\r\n      this.formData_4.units = val.symbol;\r\n    },\r\n    borrowValue(v) {\r\n      // this.borrowValue = fixInput(v, this.valuePrecision(this.borrowCoin));\r\n      this.borrowValue = fixInput(v, 3);\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.symbolCurrent = myStorage.get('leverSymbolName');\r\n      // 监听 当前货币对切换\r\n      this.$bus.$on('SYMBOL_CURRENT', (val) => {\r\n        this.clearValue();\r\n        this.symbolCurrent = val;\r\n        this.getLeverageFinance();\r\n      });\r\n      if (this.isLogin) {\r\n        this.$store.dispatch('assetsExchangeData', {\r\n          auto: false,\r\n          coinSymbols: this.coinSymbols,\r\n        });\r\n        this.getLeverageFinance();\r\n        // clearInterval(this.assetsInter);\r\n        // this.assetsInter = setInterval(() => {\r\n        //   this.$store.dispatch('assetsExchangeData', {\r\n        //     auto: false,\r\n        //     coinSymbols: this.symbolUnit.symbol,\r\n        //   });\r\n        //   this.getLeverageFinance();\r\n        // }, 10000);\r\n      }\r\n      // 监听 价格点击\r\n      this.$bus.$on('HANDEL_PRICE', (data) => {\r\n        if (data) {\r\n          const arr = ['formData_1', 'formData_3'];\r\n          arr.forEach((item) => {\r\n            this.onChaneForm({ name: item, value: data });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    setFex(val) {\r\n      return fixInput(val, 3);\r\n    },\r\n    // 获取币种精度\r\n    valuePrecision(sy) {\r\n      if (this.coinList) {\r\n        return this.coinList[sy].showPrecision;\r\n      }\r\n      return 4;\r\n    },\r\n    // 切换 限价交易 和 市价交易\r\n    switchTradeType(type) {\r\n      this.clearValue();\r\n      this.transactionType = type;\r\n    },\r\n    // 显示隐藏折合资产\r\n    handelTotal() {\r\n      this.totalBalancesHide = !this.totalBalancesHide;\r\n    },\r\n    // input 框 输入事件\r\n    onChaneForm(data) {\r\n      this[data.name].value = data.value;\r\n      if (data.value) {\r\n        this[data.name].isError = false;\r\n      }\r\n      if (data.name === 'formData_3' || data.name === 'formData_1') {\r\n        this[data.name].subText = fixRate(\r\n          parseFloat(data.value),\r\n          this.rateData,\r\n          this.symbolUnit.units,\r\n        );\r\n      }\r\n      if (data.name === 'formData_2' || data.name === 'formData_1') {\r\n        const V1 = this.formData_1.value;\r\n        const V2 = this.formData_2.value;\r\n        const UA = this.currenTaccount.unitsAccoubt;\r\n        this.perBuy = ((V1 * V2) / UA) * 100;\r\n      }\r\n      if (data.name === 'formData_4' || data.name === 'formData_3') {\r\n        const V3 = parseFloat(this.formData_3.value);\r\n        const V4 = parseFloat(this.formData_4.value);\r\n        const SA = this.currenTaccount.symbolAccoubt;\r\n        this.perSell = ((V3 * V4) / SA) * 100;\r\n      }\r\n      if (!data.value) {\r\n        this[data.name].subText = null;\r\n      }\r\n    },\r\n    // 点击百分之 事件\r\n    setPerNumber(type, num) {\r\n      if (!this.isLogin) {\r\n        // 请先登录账号\r\n        this.$bus.$emit('tip', { text: this.$t('trade.pleaseLogin'), type: 'error' });\r\n      } else if (type === 'buy') {\r\n        if (!this.formData_1.value && this.transactionType === 1) {\r\n          // 请输入价格\r\n          this.formData_1.errorText = this.$t('trade.pleasePrice');\r\n          this.formData_1.isError = true;\r\n        } else if (this.transactionType === 1) {\r\n          this.perBuy = num;\r\n          const data = (this.currenTaccount.unitsAccoubt / this.formData_1.value) * (num / 100);\r\n          this.formData_2.value = fixD(data, this.fixValue.volumeFix);\r\n        } else {\r\n          this.perBuy = num;\r\n          const data = this.currenTaccount.unitsAccoubt * (num / 100);\r\n          this.formData_2.value = fixD(data, this.fixValue.priceFix);\r\n        }\r\n      } else if (type === 'sell') {\r\n        this.perSell = num;\r\n        const data = this.currenTaccount.symbolAccoubt * (num / 100);\r\n        this.formData_4.value = fixD(data, this.fixValue.volumeFix);\r\n      }\r\n    },\r\n    // 百分比按钮class\r\n    perSellClass(num) {\r\n      if (this.perSell === num) {\r\n        return ['a-12-bd', 'b-4-cl'];\r\n      }\r\n      return 'a-3-bd';\r\n    },\r\n    perBuyClass(num) {\r\n      if (this.perBuy === num) {\r\n        return ['a-12-bd', 'b-4-cl'];\r\n      }\r\n      return 'a-3-bd';\r\n    },\r\n    // 交易额 文字颜色Class\r\n    volumeTradeClass(num, total) {\r\n      if (parseFloat(num) > parseFloat(total)) {\r\n        return 'u-4-cl';\r\n      }\r\n      return 'b-1-cl';\r\n    },\r\n    submitFormKey(type) {\r\n      let formKey = [];\r\n      let price = null;\r\n      let volume = null;\r\n      if (this.transactionType === 1) {\r\n        if (type === 'BUY') {\r\n          formKey = ['formData_1', 'formData_2'];\r\n          price = fixD(this.formData_1.value, this.fixValue.priceFix);\r\n          volume = fixD(this.formData_2.value, this.fixValue.volumeFix);\r\n        } else {\r\n          formKey = ['formData_3', 'formData_4'];\r\n          price = fixD(this.formData_3.value, this.fixValue.priceFix);\r\n          volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\r\n        }\r\n      } else if (type === 'BUY') {\r\n        formKey = ['formData_2'];\r\n        volume = fixD(this.formData_2.value, this.fixValue.priceFix);\r\n      } else {\r\n        formKey = ['formData_4'];\r\n        volume = fixD(this.formData_4.value, this.fixValue.volumeFix);\r\n      }\r\n      return { formKey, price, volume };\r\n    },\r\n    // 清空 表单数据\r\n    clearValue() {\r\n      const formKey = ['formData_1', 'formData_2', 'formData_3', 'formData_4'];\r\n      formKey.forEach((item) => {\r\n        this[item].value = '';\r\n        this[item].isError = false;\r\n        this[item].subText = null;\r\n      });\r\n      this.perSell = 0;\r\n      this.perBuy = 0;\r\n    },\r\n    submit(side) {\r\n      if (!this.isLogin) {\r\n        this.$router.push('/login');\r\n      } else if (this.leverTradeKycOpen && this.idAuth !== 1) {\r\n        this.tsTexttype = 1;\r\n        this.notAuthShowDialog = true;\r\n      } else {\r\n        const { formKey, price, volume } = this.submitFormKey(side);\r\n        let fal = true;\r\n        if (formKey.length) {\r\n          formKey.forEach((item) => {\r\n            const { value } = this[item];\r\n            if (!value) {\r\n              this[item].errorText = `${this.$t('trade.pleaseInput')}${this[item].title}`;\r\n              this[item].isError = true;\r\n              fal = false;\r\n            }\r\n            if (parseFloat(value) <= 0) {\r\n              this[item].errorText = `${this[item].title}${this.$t('trade.inputError')}`; // 输入有误\r\n              this[item].isError = true;\r\n              fal = false;\r\n            }\r\n          });\r\n          if (this.fal && fal) {\r\n            const symbolArr = this.symbolCurrent.split('/');\r\n            const symbol = symbolArr[0].toLowerCase() + symbolArr[1].toLowerCase();\r\n            this.fal = false;\r\n            const submitData = {\r\n              side,\r\n              price,\r\n              volume,\r\n              symbol,\r\n              type: this.transactionType,\r\n            };\r\n            this.tradeSide = side;\r\n            this.axios({\r\n              url: this.$store.state.url.lever.create,\r\n              headers: {},\r\n              params: submitData,\r\n              method: 'post',\r\n            }).then((data) => {\r\n              if (data.code === '0') {\r\n                // 清空表单\r\n                this.clearValue();\r\n                // 重新请求资产\r\n                this.$store.dispatch('assetsExchangeData', {\r\n                  auto: false,\r\n                  coinSymbols: this.coinSymbols,\r\n                });\r\n                // 发送下单成功的事件\r\n                this.$bus.$emit('ORDER_CREATE', { type: 'success' });\r\n                // 提示成功 下单成功\r\n                this.$bus.$emit('tip', { text: this.$t('trade.dealCussess'), type: 'success' });\r\n                this.fal = true;\r\n              } else {\r\n                this.clearValue();\r\n                this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n                // if (data.code === '10036') {\r\n                //   this.alertFlag = true;\r\n                // } else {\r\n                // }\r\n                this.fal = true;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 请求资产数据\r\n    getLeverageFinance() {\r\n      if (this.isLogin && this.symbolCurrent) {\r\n        const symbolArr = this.symbolCurrent.split('/');\r\n        const symbol = symbolArr[0] + symbolArr[1];\r\n        this.axios({\r\n          url: 'lever/finance/symbol/balance',\r\n          headers: {},\r\n          params: {\r\n            symbol,\r\n          },\r\n          method: 'post',\r\n        }).then((data) => {\r\n          if (data.code === '0') {\r\n            const ndata = data.data;\r\n            // const basePrecision = this.valuePrecision(ndata.baseCoin);\r\n            let quotePrecision = this.valuePrecision(ndata.quoteCoin);\r\n            if (this.symbolAll) {\r\n              quotePrecision = this.symbolAll[ndata.name] ? this.symbolAll[ndata.name].price : 8;\r\n            }\r\n            if (!this.isShowDialog) {\r\n              this.borrowCoin = ndata.baseCoin;\r\n              this.borrowType = 'Base';\r\n            }\r\n            this.financeData = ndata;\r\n            // 可用\r\n            this.financeData.baseNormalBalance = fixD(ndata.baseNormalBalance, 8);\r\n            this.financeData.quoteNormalBalance = fixD(ndata.quoteNormalBalance, 8);\r\n            // 可借\r\n            this.financeData.baseCanBorrow = fixD(ndata.baseCanBorrow, 8);\r\n            this.financeData.quoteCanBorrow = fixD(ndata.quoteCanBorrow, 8);\r\n            // 已借\r\n            this.financeData.baseBorrowBalance = fixD(ndata.baseBorrowBalance, 8);\r\n            this.financeData.quoteBorrowBalance = fixD(ndata.quoteBorrowBalance, 8);\r\n            // 总额度\r\n            this.financeData.baseTotalBorrow = fixD(ndata.baseTotalBorrow, 8);\r\n            this.financeData.quoteTotalBorrow = fixD(ndata.quoteTotalBorrow, 8);\r\n            // 爆仓价\r\n            this.financeData.burstPrice = fixD(ndata.burstPrice, quotePrecision);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 划转 借贷 借贷数量全部 按钮点击事件\r\n    buttonsEvent(type, side) {\r\n      if (type === 'All') {\r\n        if (this.borrowType === 'Base') {\r\n          this.borrowValue = this.financeData.baseCanBorrow;\r\n        } else {\r\n          this.borrowValue = this.financeData.quoteCanBorrow;\r\n        }\r\n      }\r\n      if (type === '1') {\r\n        if (this.symbolCurrent) {\r\n          const arr = this.symbolCurrent.split('/');\r\n          const symbol = (arr[0] + arr[1]).toLowerCase();\r\n          const currentSymbil = side === 'BUY' ? arr[1] : arr[0];\r\n          this.$bus.$emit('coTransfer', symbol, currentSymbil);\r\n        }\r\n      }\r\n      if (type === '2') {\r\n        this.isShowDialog = true;\r\n      }\r\n    },\r\n    // 确认借贷\r\n    dialogConfirm() {\r\n      this.confirmLoading = true;\r\n      if (this.isLogin && this.symbolCurrent) {\r\n        const symbolArr = this.symbolCurrent.split('/');\r\n        const symbol = symbolArr[0] + symbolArr[1];\r\n        this.axios({\r\n          url: 'lever/finance/borrow',\r\n          headers: {},\r\n          params: {\r\n            symbol,\r\n            coin: this.borrowCoin,\r\n            amount: this.borrowValue,\r\n          },\r\n          method: 'post',\r\n        }).then((data) => {\r\n          this.confirmLoading = false;\r\n          if (data.code === '0') {\r\n            this.getLeverageFinance();\r\n            // 借贷成功\r\n            this.$bus.$emit('tip', { text: this.$t('lever.leverJdcc'), type: 'success' });\r\n            this.isShowDialog = false;\r\n            this.borrowValue = '';\r\n          } else {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 切换 借贷币对\r\n    setReviseType(type, data) {\r\n      this.borrowValue = '';\r\n      this.borrowType = type;\r\n      this.borrowCoin = data;\r\n    },\r\n    // 借贷输入框 输入事件\r\n    inputChanges(value, name) {\r\n      this[name] = value;\r\n    },\r\n    // 弹框取消\r\n    dialogClose() {\r\n      this.notAuthShowDialog = false;\r\n      this.isShowDialog = false;\r\n      this.borrowValue = '';\r\n      this.confirmLoading = false;\r\n    },\r\n    // 划转回调方法\r\n    transferSuccess() {\r\n      this.getLeverageFinance();\r\n    },\r\n    confirmFun() {\r\n      this.buttonsEvent('1', this.tradeSide);\r\n      this.alertClone();\r\n    },\r\n    alertClone() { this.alertFlag = false; },\r\n    // 去认证\r\n    gotoAuth() {\r\n      this.$router.push('/personal/userManagement');\r\n    },\r\n  },\r\n};\r\n"]}]}