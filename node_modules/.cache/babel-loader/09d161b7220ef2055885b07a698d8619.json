{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/order/leverageOrder/leverageOrder.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/order/leverageOrder/leverageOrder.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { fixD, getCoinShowName, imgMap, colorMap } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      deleteArr: [],\n      tabelLoading: true,\n      switchFlag: false,\n      // 显示已撤单\n      nowType: 1,\n      // 1为当前委托 2为历史委托\n      symbol: '',\n      // 当前币种\n      symbolList: [],\n      // 币种选择列表\n      side: 'all',\n      // 方向\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      },\n      symbolMarketList: [],\n      // 市场列表\n      symbolMarket: '',\n      // 当前市场\n      symbolCoinList: [],\n      // 币种列表\n      symbolCoin: '',\n      // 币种列表\n      subTableData: {},\n      tabelList: [],\n      revokeList: [],\n      // 撤销队列\n      subContent: [],\n      // 展开的数据\n      subColumns: [],\n      // 展开的表头\n      subContentId: 0,\n      // 展开的id\n      subLoading: false // 展开的loading\n\n    };\n  },\n  watch: {\n    market: function market(v) {\n      if (v && this.baseMarket) {\n        this.initSymbolMarketList();\n      }\n    },\n    baseMarket: function baseMarket(v) {\n      if (v && this.market) {\n        this.initSymbolMarketList();\n      }\n    }\n  },\n  computed: {\n    navTab: function navTab() {\n      return [// 当前委托\n      {\n        name: this.$t('order.exchangeOrder.nowOrder'),\n        index: 1\n      }, // 历史委托\n      {\n        name: this.$t('order.exchangeOrder.hisOrder'),\n        index: 2\n      }];\n    },\n    sideList: function sideList() {\n      return [// 方向选择列表\n      // 全部\n      {\n        code: 'all',\n        value: this.$t('order.exchangeOrder.all')\n      }, // 买入\n      {\n        code: 'buy',\n        value: this.$t('order.exchangeOrder.buy')\n      }, // 卖出\n      {\n        code: 'sell',\n        value: this.$t('order.exchangeOrder.sell')\n      }];\n    },\n    market: function market() {\n      return {\n        market: this.$store.state.baseData.leverMarket\n      };\n    },\n    baseMarket: function baseMarket() {\n      return this.$store.state.baseData.market;\n    },\n    // 表格title\n    columns: function columns() {\n      var list = []; // let market = this.symbolMarket;\n      // let coin = this.symbolCoin;\n      // const { coinList } = this.baseMarket;\n      // if (coinList) {\n      //   market = market === 'all' ? '' : `(${getCoinShowName(market, coinList)})`;\n      //   coin = coin === 'all' ? '' : `(${getCoinShowName(coin, coinList)})`;\n      // }\n\n      if (this.nowType === 1) {\n        list = [// 时间\n        {\n          title: this.$t('order.exchangeOrder.nowOrderTime'),\n          width: '70px'\n        }, // 币对\n        {\n          title: this.$t('order.exchangeOrder.coin'),\n          width: '70px'\n        }, // 类别\n        {\n          title: this.$t('order.exchangeOrder.nowOrderType'),\n          width: '50px'\n        }, // 价格\n        {\n          title: this.$t('order.exchangeOrder.nowOrderPrice')\n        }, // 数量\n        {\n          title: this.$t('order.exchangeOrder.nowOrderVolume')\n        }, // 交易额\n        {\n          title: this.$t('order.exchangeOrder.nowOrderTotol')\n        }, // 平均成交价\n        {\n          title: this.$t('order.exchangeOrder.nowOrderAverage')\n        }, // 已成交/未成交\n        {\n          title: this.$t('order.exchangeOrder.nowOrderTransaction'),\n          width: '140px'\n        }, // 操作\n        {\n          title: this.$t('order.exchangeOrder.nowOrderOptions'),\n          width: '100px'\n        }];\n      }\n\n      if (this.nowType === 2) {\n        list = [// 时间\n        {\n          title: this.$t('order.exchangeOrder.hisOrderTime'),\n          width: '100px'\n        }, // 币对\n        {\n          title: this.$t('order.exchangeOrder.coin'),\n          width: '50px'\n        }, // 类别\n        {\n          title: this.$t('order.exchangeOrder.hisOrderType'),\n          width: '50px'\n        }, // 价格\n        {\n          title: this.$t('order.exchangeOrder.hisOrderPrice')\n        }, // 数量\n        {\n          title: this.$t('order.exchangeOrder.hisOrderVolume')\n        }, // 成交均价\n        {\n          title: this.$t('order.exchangeOrder.hisOrderAverage'),\n          width: '130px'\n        }, // 状态\n        {\n          title: this.$t('order.exchangeOrder.hisOrderStatus')\n        }, // 操作\n        {\n          title: this.$t('order.exchangeOrder.hisOrderOptions'),\n          width: '100px'\n        }];\n      }\n\n      return list;\n    },\n    axiosSide: function axiosSide() {\n      if (this.side === 'all') {\n        return '';\n      }\n\n      return this.side;\n    },\n    axiosSymbol: function axiosSymbol() {\n      return \"\".concat(this.symbolCoin).concat(this.symbolMarket).toLowerCase();\n    },\n    symbolAll: function symbolAll() {\n      return this.$store.state.baseData.symbolAll;\n    },\n    // 是否开启 查询全部币对\n    openOrderCollect: function openOrderCollect() {\n      if (this.$store.state.baseData.publicInfo) {\n        return this.$store.state.baseData.publicInfo.open_order_collect;\n      }\n\n      return null;\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.$route.query.nowType) {\n        this.nowType = Number(this.$route.query.nowType);\n      }\n\n      if (this.market && this.baseMarket) {\n        this.initSymbolMarketList();\n      }\n    },\n    // 市场发生改变\n    symbolMarketChange: function symbolMarketChange(item) {\n      if (this.symbolMarket === item.code) {\n        return;\n      }\n\n      this.symbolMarket = item.code; // 创建币种列表\n\n      var list = [];\n\n      if (this.openOrderCollect === '1' && this.symbolMarket === 'all') {\n        list.push({\n          value: \"\".concat(this.$t('order.exchangeOrder.all')),\n          code: 'all'\n        });\n      }\n\n      var market = this.market.market;\n      var curList = market[this.symbolMarket];\n\n      if (this.symbolMarket === 'all') {\n        curList = this.symbolAll;\n      }\n\n      if (curList) {\n        Object.keys(curList).forEach(function (citem) {\n          var coinArr = citem.split('/');\n          var citemObj = curList[citem];\n          var showSymbol = citemObj.showName || citemObj.name;\n          list.push({\n            code: \"\".concat(coinArr[0]).concat(coinArr[1]),\n            value: showSymbol\n          });\n        });\n      }\n\n      this.symbolCoinList = list;\n\n      if (list.length) {\n        this.symbolCoinChange(list[0]);\n      }\n    },\n    // 币种发生改变\n    symbolCoinChange: function symbolCoinChange(item) {\n      if (this.symbolCoin === item.code) {\n        return;\n      }\n\n      this.symbolCoin = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.clearSub();\n      this.getData();\n    },\n    // 初始化市场\n    initSymbolMarketList: function initSymbolMarketList() {\n      var market = this.market.market;\n      var coinList = this.baseMarket.coinList;\n      var list = [];\n\n      if (this.openOrderCollect === '1') {\n        list.push({\n          value: this.$t('order.exchangeOrder.all180'),\n          code: 'all'\n        });\n      }\n\n      Object.keys(market).forEach(function (item) {\n        list.push({\n          value: getCoinShowName(item, coinList),\n          code: item\n        });\n      });\n      this.symbolMarketList = list;\n\n      if (list.length) {\n        this.symbolMarketChange(list[0]);\n      }\n    },\n    switchChange: function switchChange() {\n      this.switchFlag = !this.switchFlag;\n      this.getData();\n    },\n    // 切换委托\n    currentType: function currentType(item) {\n      if (this.nowType === item.index) {\n        return;\n      }\n\n      this.nowType = item.index;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.clearSub();\n      this.getData();\n    },\n    getData: function getData() {\n      if (this.nowType === 1) {\n        this.getNowData();\n      } else if (this.nowType === 2) {\n        this.getHisData();\n      }\n    },\n    getFix: function getFix(market, coin) {\n      // 例如 btc/usdt\n      var marketFix = 0; // 市场精度 usdt\n\n      var coinFix = 0; // 交易币种精度 btc\n\n      var symbol = \"\".concat(coin, \"/\").concat(market);\n      var marketObj = this.market.market;\n\n      if (marketObj[market] && marketObj[market][symbol]) {\n        var _marketObj$market$sym = marketObj[market][symbol],\n            price = _marketObj$market$sym.price,\n            volume = _marketObj$market$sym.volume;\n        marketFix = price;\n        coinFix = volume;\n      }\n\n      return {\n        marketFix: marketFix,\n        coinFix: coinFix\n      };\n    },\n    // 获取当前\n    getNowData: function getNowData() {\n      var _this = this;\n\n      var symbolCoin = this.symbolCoin === 'all' ? '' : this.symbolCoin; // const symbolMarket = this.symbolMarket === 'all' ? '' : this.symbolMarket;\n\n      var symbol = symbolCoin.toLowerCase();\n      var ajaxUrl = '/lever/order/list/new';\n      var paramsData = {\n        side: this.axiosSide,\n        pageSize: this.paginationObj.display,\n        // 每页条数\n        page: this.paginationObj.currentPage,\n        // 页码\n        symbol: symbol\n      };\n\n      if (this.openOrderCollect === '1') {\n        paramsData.entrust = this.nowType;\n        paramsData.orderType = 2;\n        ajaxUrl = 'order/entrust_search';\n      }\n\n      this.axios({\n        url: ajaxUrl,\n        method: 'post',\n        params: paramsData\n      }).then(function (data) {\n        if (_this.nowType !== 1) return;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          var orderList = data.data.orderList;\n\n          if (_this.openOrderCollect === '1') {\n            orderList = data.data.orders;\n          }\n\n          orderList.forEach(function (item) {\n            var quoteCoin = item.quoteCoin || item.countCoin;\n\n            var _this$getFix = _this.getFix(quoteCoin, item.baseCoin),\n                marketFix = _this$getFix.marketFix,\n                coinFix = _this$getFix.coinFix;\n\n            list.push({\n              id: item.id,\n              data: [item.created_at, // 时间\n              \"\".concat(item.baseCoin, \"/\").concat(quoteCoin), // 币对\n              [{\n                text: item.side_text,\n                classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl'\n              }], item.type.toString() === '1' ? \"\".concat(fixD(item.price, marketFix), \" \").concat(quoteCoin) // 价格\n              : _this.$t('order.exchangeOrder.marketPrice'), // 市价\n              \"\".concat(fixD(item.volume, coinFix), \" \").concat(item.baseCoin), // 数量\n              \"\".concat(fixD(item.total_price, marketFix), \" \").concat(quoteCoin), // 交易额\n              \"\".concat(fixD(item.avg_price, marketFix), \" \").concat(quoteCoin), // 平均成交价\n              [{\n                text: \"\".concat(fixD(item.deal_volume, coinFix), \" \").concat(item.baseCoin),\n                subContent: {\n                  text: \"\".concat(fixD(item.remain_volume, coinFix), \" \").concat(item.baseCoin)\n                }\n              }], [item.type.toString() === '1' ? {\n                type: 'button',\n                text: _this.$t('order.exchangeOrder.cancel'),\n                // 撤单\n                eventType: 'cancelOrder'\n              } : '']]\n            });\n          });\n          _this.tabelLoading = false;\n          _this.tabelList = list;\n          _this.paginationObj.total = data.data.count;\n        } else {\n          _this.tabelLoading = false;\n\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    // 分页器\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.clearSub();\n      this.getData();\n    },\n    // 获取历史\n    getHisData: function getHisData() {\n      var _this2 = this;\n\n      var symbolCoin = this.symbolCoin === 'all' ? '' : this.symbolCoin; // const symbolMarket = this.symbolMarket === 'all' ? '' : this.symbolMarket;\n\n      var symbol = symbolCoin.toLowerCase();\n      var ajaxUrl = '/lever/order/history';\n      var paramsData = {\n        side: this.axiosSide,\n        pageSize: this.paginationObj.display,\n        // 每页条数\n        page: this.paginationObj.currentPage,\n        // 页码\n        isShowCanceled: this.switchFlag ? 1 : 0,\n        // 是否展示已撤单\n        symbol: symbol\n      };\n\n      if (this.openOrderCollect === '1') {\n        paramsData.entrust = this.nowType;\n        paramsData.orderType = 2;\n        ajaxUrl = 'order/entrust_search';\n      }\n\n      this.axios({\n        url: ajaxUrl,\n        method: 'post',\n        params: paramsData\n      }).then(function (data) {\n        if (_this2.nowType !== 2) return;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          var orderList = data.data.orderList;\n\n          if (_this2.openOrderCollect === '1') {\n            orderList = data.data.orders;\n          }\n\n          orderList.forEach(function (item) {\n            var quoteCoin = item.quoteCoin || item.countCoin;\n\n            var _this2$getFix = _this2.getFix(quoteCoin, item.baseCoin),\n                marketFix = _this2$getFix.marketFix,\n                coinFix = _this2$getFix.coinFix;\n\n            var subTableBtn = [];\n\n            if (item.status === 2 || item.status === 4 && parseFloat(item.deal_volume) !== 0) {\n              subTableBtn = [{\n                type: 'subTable',\n                text: _this2.$t('order.exchangeOrder.details'),\n                // 详情\n                eventType: 'view'\n              }];\n            } else {\n              subTableBtn = [];\n            }\n\n            list.push({\n              id: item.id,\n              data: [item.created_at, \"\".concat(item.baseCoin, \"/\").concat(quoteCoin), // 币对\n              [{\n                text: item.side_text,\n                classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl'\n              }], item.type.toString() === '1' ? \"\".concat(fixD(item.price, marketFix), \" \").concat(quoteCoin) // 价格\n              : _this2.$t('order.exchangeOrder.marketPrice'), // 市价\n              \"\".concat(fixD(item.volume, coinFix), \" \").concat(item.baseCoin), // 数量\n              \"\".concat(fixD(item.avg_price, marketFix), \" \").concat(quoteCoin), // 平均成交价\n              item.status_text, subTableBtn]\n            });\n          });\n          _this2.tabelLoading = false;\n          _this2.tabelList = list;\n          _this2.paginationObj.total = data.data.count;\n        } else {\n          _this2.tabelLoading = false;\n\n          _this2.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    // 切换方向\n    sideChange: function sideChange(item) {\n      if (this.side === item.code) {\n        return;\n      }\n\n      this.side = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.clearSub();\n      this.getData();\n    },\n    tableClick: function tableClick(type, id) {\n      if (type === 'cancelOrder') {\n        this.cancelOrder(id);\n      }\n\n      if (type === 'view') {\n        this.getSubTableData(id);\n      }\n    },\n    // 重置详情\n    clearSub: function clearSub() {\n      this.subContentId = null;\n      this.subColumns = [];\n      this.subContent = [];\n      this.subLoading = false;\n    },\n    // 查看详情\n    getSubTableData: function getSubTableData(v) {\n      var _this3 = this;\n\n      if (v.open) {\n        this.subContentId = v.id;\n        this.subColumns = [this.$t('order.exchangeOrder.detailsTime'), // 时间\n        this.$t('order.exchangeOrder.detailsPrice'), // 价格\n        this.$t('order.exchangeOrder.detailsVolume'), // 数量\n        this.$t('order.exchangeOrder.detailsTotol'), // 成交额\n        this.$t('order.exchangeOrder.detailsFee') // 手续费\n        ];\n        var symbol = '';\n        this.tabelList.forEach(function (item) {\n          if (item.id === v.id) {\n            var _item$data = _slicedToArray(item.data, 2);\n\n            symbol = _item$data[1];\n          }\n        });\n        var symbolCoin = \"\".concat(symbol.split('/')[0]).concat(symbol.split('/')[1]);\n        this.subContent = [];\n        this.subLoading = true;\n        this.axios({\n          url: '/lever/trade/list_by_order',\n          method: 'post',\n          params: {\n            symbol: symbolCoin,\n            order_id: v.id // pageSize: this.pagination.pageSize,\n\n          }\n        }).then(function (data) {\n          if (v.id !== _this3.subContentId) {\n            return;\n          }\n\n          if (data.code.toString() === '0') {\n            var list = [];\n            data.data.trade_list.forEach(function (item) {\n              // const [baseCoin, quoteCoin] = this.symbol.split('/');\n              var _this3$getFix = _this3.getFix(symbol.split('/')[1], symbol.split('/')[0]),\n                  marketFix = _this3$getFix.marketFix,\n                  coinFix = _this3$getFix.coinFix;\n\n              list.push({\n                ctime: item.ctime,\n                price: fixD(item.price, marketFix),\n                volume: fixD(item.volume, coinFix),\n                dealPrice: fixD(item.deal_price, marketFix),\n                fee: item.fee\n              });\n            });\n            _this3.subLoading = false;\n            _this3.subContent = list;\n          } else {\n            _this3.subLoading = false;\n\n            _this3.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    },\n    // 撤单\n    cancelOrder: function cancelOrder(id) {\n      var _this4 = this;\n\n      if (this.revokeList.indexOf(id) === -1) {\n        this.revokeList.push(id);\n        var symbol = '';\n        this.tabelList.forEach(function (item) {\n          if (item.id === id) {\n            var _item$data2 = _slicedToArray(item.data, 2);\n\n            symbol = _item$data2[1];\n          }\n        });\n        symbol = \"\".concat(symbol.split('/')[0]).concat(symbol.split('/')[1]);\n        this.axios({\n          url: 'lever/order/cancel',\n          method: 'post',\n          params: {\n            orderId: id,\n            symbol: symbol\n          }\n        }).then(function (data) {\n          var ind = _this4.revokeList.indexOf(id);\n\n          _this4.revokeList.splice(ind, 1);\n\n          if (data.code.toString() === '0') {\n            _this4.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'success'\n            });\n\n            var sId = 0;\n\n            _this4.tabelList.forEach(function (item, i) {\n              if (item.id === id) {\n                sId = i;\n              }\n            });\n\n            _this4.tabelList.splice(sId, 1); // this.getData();\n\n          } else {\n            _this4.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/order/leverageOrder/leverageOrder.js"],"names":["fixD","getCoinShowName","imgMap","colorMap","data","deleteArr","tabelLoading","switchFlag","nowType","symbol","symbolList","side","paginationObj","total","display","currentPage","symbolMarketList","symbolMarket","symbolCoinList","symbolCoin","subTableData","tabelList","revokeList","subContent","subColumns","subContentId","subLoading","watch","market","v","baseMarket","initSymbolMarketList","computed","navTab","name","$t","index","sideList","code","value","$store","state","baseData","leverMarket","columns","list","title","width","axiosSide","axiosSymbol","toLowerCase","symbolAll","openOrderCollect","publicInfo","open_order_collect","methods","init","$route","query","Number","symbolMarketChange","item","push","curList","Object","keys","forEach","citem","coinArr","split","citemObj","showSymbol","showName","length","symbolCoinChange","clearSub","getData","coinList","switchChange","currentType","getNowData","getHisData","getFix","coin","marketFix","coinFix","marketObj","price","volume","ajaxUrl","paramsData","pageSize","page","entrust","orderType","axios","url","method","params","then","toString","orderList","orders","quoteCoin","countCoin","baseCoin","id","created_at","text","side_text","classes","type","total_price","avg_price","deal_volume","remain_volume","eventType","count","$bus","$emit","msg","pagechange","isShowCanceled","subTableBtn","status","parseFloat","status_text","sideChange","tableClick","cancelOrder","getSubTableData","open","order_id","trade_list","ctime","dealPrice","deal_price","fee","indexOf","orderId","ind","splice","sId","i"],"mappings":"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","sourcesContent":["import {\r\n  fixD,\r\n  getCoinShowName,\r\n  imgMap,\r\n  colorMap,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      deleteArr: [],\r\n      tabelLoading: true,\r\n      switchFlag: false, // 显示已撤单\r\n      nowType: 1, // 1为当前委托 2为历史委托\r\n      symbol: '', // 当前币种\r\n      symbolList: [], // 币种选择列表\r\n      side: 'all', // 方向\r\n      paginationObj: {\r\n        total: 0, // 数据总条数\r\n        display: 10, // 每页显示条数\r\n        currentPage: 1, // 当前页码\r\n      },\r\n      symbolMarketList: [], // 市场列表\r\n      symbolMarket: '', // 当前市场\r\n      symbolCoinList: [], // 币种列表\r\n      symbolCoin: '', // 币种列表\r\n      subTableData: {},\r\n      tabelList: [],\r\n      revokeList: [], // 撤销队列\r\n      subContent: [], // 展开的数据\r\n      subColumns: [], // 展开的表头\r\n      subContentId: 0, // 展开的id\r\n      subLoading: false, // 展开的loading\r\n    };\r\n  },\r\n  watch: {\r\n    market(v) { if (v && this.baseMarket) { this.initSymbolMarketList(); } },\r\n    baseMarket(v) { if (v && this.market) { this.initSymbolMarketList(); } },\r\n  },\r\n  computed: {\r\n    navTab() {\r\n      return [\r\n        // 当前委托\r\n        { name: this.$t('order.exchangeOrder.nowOrder'), index: 1 },\r\n        // 历史委托\r\n        { name: this.$t('order.exchangeOrder.hisOrder'), index: 2 },\r\n      ];\r\n    },\r\n    sideList() {\r\n      return [ // 方向选择列表\r\n        // 全部\r\n        { code: 'all', value: this.$t('order.exchangeOrder.all') },\r\n        // 买入\r\n        { code: 'buy', value: this.$t('order.exchangeOrder.buy') },\r\n        // 卖出\r\n        { code: 'sell', value: this.$t('order.exchangeOrder.sell') },\r\n      ];\r\n    },\r\n    market() { return { market: this.$store.state.baseData.leverMarket }; },\r\n    baseMarket() { return this.$store.state.baseData.market; },\r\n    // 表格title\r\n    columns() {\r\n      let list = [];\r\n      // let market = this.symbolMarket;\r\n      // let coin = this.symbolCoin;\r\n      // const { coinList } = this.baseMarket;\r\n      // if (coinList) {\r\n      //   market = market === 'all' ? '' : `(${getCoinShowName(market, coinList)})`;\r\n      //   coin = coin === 'all' ? '' : `(${getCoinShowName(coin, coinList)})`;\r\n      // }\r\n      if (this.nowType === 1) {\r\n        list = [\r\n          // 时间\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderTime'),\r\n            width: '70px',\r\n          },\r\n          // 币对\r\n          {\r\n            title: this.$t('order.exchangeOrder.coin'),\r\n            width: '70px',\r\n          },\r\n          // 类别\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderType'),\r\n            width: '50px',\r\n          },\r\n          // 价格\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderPrice'),\r\n          },\r\n          // 数量\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderVolume'),\r\n          },\r\n          // 交易额\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderTotol'),\r\n          },\r\n          // 平均成交价\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderAverage'),\r\n          },\r\n          // 已成交/未成交\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderTransaction'),\r\n            width: '140px',\r\n          },\r\n          // 操作\r\n          {\r\n            title: this.$t('order.exchangeOrder.nowOrderOptions'),\r\n            width: '100px',\r\n          },\r\n        ];\r\n      } if (this.nowType === 2) {\r\n        list = [\r\n          // 时间\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderTime'),\r\n            width: '100px',\r\n          },\r\n          // 币对\r\n          {\r\n            title: this.$t('order.exchangeOrder.coin'),\r\n            width: '50px',\r\n          },\r\n          // 类别\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderType'),\r\n            width: '50px',\r\n          },\r\n          // 价格\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderPrice'),\r\n          },\r\n          // 数量\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderVolume'),\r\n          },\r\n          // 成交均价\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderAverage'),\r\n            width: '130px',\r\n          },\r\n          // 状态\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderStatus'),\r\n          },\r\n          // 操作\r\n          {\r\n            title: this.$t('order.exchangeOrder.hisOrderOptions'),\r\n            width: '100px',\r\n          },\r\n        ];\r\n      }\r\n      return list;\r\n    },\r\n    axiosSide() {\r\n      if (this.side === 'all') {\r\n        return '';\r\n      }\r\n      return this.side;\r\n    },\r\n    axiosSymbol() {\r\n      return `${this.symbolCoin}${this.symbolMarket}`.toLowerCase();\r\n    },\r\n    symbolAll() {\r\n      return this.$store.state.baseData.symbolAll;\r\n    },\r\n    // 是否开启 查询全部币对\r\n    openOrderCollect() {\r\n      if (this.$store.state.baseData.publicInfo) {\r\n        return this.$store.state.baseData.publicInfo.open_order_collect;\r\n      }\r\n      return null;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.$route.query.nowType) {\r\n        this.nowType = Number(this.$route.query.nowType);\r\n      }\r\n      if (this.market && this.baseMarket) { this.initSymbolMarketList(); }\r\n    },\r\n    // 市场发生改变\r\n    symbolMarketChange(item) {\r\n      if (this.symbolMarket === item.code) { return; }\r\n      this.symbolMarket = item.code;\r\n      // 创建币种列表\r\n      const list = [];\r\n      if (this.openOrderCollect === '1' && this.symbolMarket === 'all') {\r\n        list.push({\r\n          value: `${this.$t('order.exchangeOrder.all')}`,\r\n          code: 'all',\r\n        });\r\n      }\r\n      const { market } = this.market;\r\n      let curList = market[this.symbolMarket];\r\n      if (this.symbolMarket === 'all') {\r\n        curList = this.symbolAll;\r\n      }\r\n      if (curList) {\r\n        Object.keys(curList).forEach((citem) => {\r\n          const coinArr = citem.split('/');\r\n          const citemObj = curList[citem];\r\n          const showSymbol = citemObj.showName || citemObj.name;\r\n          list.push({ code: `${coinArr[0]}${coinArr[1]}`, value: showSymbol });\r\n        });\r\n      }\r\n      this.symbolCoinList = list;\r\n      if (list.length) {\r\n        this.symbolCoinChange(list[0]);\r\n      }\r\n    },\r\n    // 币种发生改变\r\n    symbolCoinChange(item) {\r\n      if (this.symbolCoin === item.code) { return; }\r\n      this.symbolCoin = item.code;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.clearSub();\r\n      this.getData();\r\n    },\r\n    // 初始化市场\r\n    initSymbolMarketList() {\r\n      const { market } = this.market;\r\n      const { coinList } = this.baseMarket;\r\n      const list = [];\r\n      if (this.openOrderCollect === '1') {\r\n        list.push({ value: this.$t('order.exchangeOrder.all180'), code: 'all' });\r\n      }\r\n      Object.keys(market).forEach((item) => {\r\n        list.push({ value: getCoinShowName(item, coinList), code: item });\r\n      });\r\n      this.symbolMarketList = list;\r\n      if (list.length) {\r\n        this.symbolMarketChange(list[0]);\r\n      }\r\n    },\r\n    switchChange() {\r\n      this.switchFlag = !this.switchFlag;\r\n      this.getData();\r\n    },\r\n    // 切换委托\r\n    currentType(item) {\r\n      if (this.nowType === item.index) { return; }\r\n      this.nowType = item.index;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.clearSub();\r\n      this.getData();\r\n    },\r\n    getData() {\r\n      if (this.nowType === 1) {\r\n        this.getNowData();\r\n      } else if (this.nowType === 2) {\r\n        this.getHisData();\r\n      }\r\n    },\r\n    getFix(market, coin) {\r\n      // 例如 btc/usdt\r\n      let marketFix = 0; // 市场精度 usdt\r\n      let coinFix = 0; // 交易币种精度 btc\r\n      const symbol = `${coin}/${market}`;\r\n      const marketObj = this.market.market;\r\n      if (marketObj[market] && marketObj[market][symbol]) {\r\n        const { price, volume } = marketObj[market][symbol];\r\n        marketFix = price;\r\n        coinFix = volume;\r\n      }\r\n      return {\r\n        marketFix,\r\n        coinFix,\r\n      };\r\n    },\r\n    // 获取当前\r\n    getNowData() {\r\n      const symbolCoin = this.symbolCoin === 'all' ? '' : this.symbolCoin;\r\n      // const symbolMarket = this.symbolMarket === 'all' ? '' : this.symbolMarket;\r\n      const symbol = symbolCoin.toLowerCase();\r\n      let ajaxUrl = '/lever/order/list/new';\r\n      const paramsData = {\r\n        side: this.axiosSide,\r\n        pageSize: this.paginationObj.display, // 每页条数\r\n        page: this.paginationObj.currentPage, // 页码\r\n        symbol,\r\n      };\r\n      if (this.openOrderCollect === '1') {\r\n        paramsData.entrust = this.nowType;\r\n        paramsData.orderType = 2;\r\n        ajaxUrl = 'order/entrust_search';\r\n      }\r\n      this.axios({\r\n        url: ajaxUrl,\r\n        method: 'post',\r\n        params: paramsData,\r\n      }).then((data) => {\r\n        if (this.nowType !== 1) return;\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          let { orderList } = data.data;\r\n          if (this.openOrderCollect === '1') {\r\n            orderList = data.data.orders;\r\n          }\r\n          orderList.forEach((item) => {\r\n            const quoteCoin = item.quoteCoin || item.countCoin;\r\n            const { marketFix, coinFix } = this.getFix(quoteCoin, item.baseCoin);\r\n            list.push({\r\n              id: item.id,\r\n              data: [\r\n                item.created_at, // 时间\r\n                `${item.baseCoin}/${quoteCoin}`, // 币对\r\n                [{\r\n                  text: item.side_text,\r\n                  classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl',\r\n                }],\r\n                item.type.toString() === '1'\r\n                  ? `${fixD(item.price, marketFix)} ${quoteCoin}` // 价格\r\n                  : this.$t('order.exchangeOrder.marketPrice'), // 市价\r\n                `${fixD(item.volume, coinFix)} ${item.baseCoin}`, // 数量\r\n                `${fixD(item.total_price, marketFix)} ${quoteCoin}`, // 交易额\r\n                `${fixD(item.avg_price, marketFix)} ${quoteCoin}`, // 平均成交价\r\n                [\r\n                  {\r\n                    text: `${fixD(item.deal_volume, coinFix)} ${item.baseCoin}`,\r\n                    subContent: { text: `${fixD(item.remain_volume, coinFix)} ${item.baseCoin}` },\r\n                  },\r\n                ],\r\n                [\r\n                  item.type.toString() === '1'\r\n                    ? {\r\n                      type: 'button',\r\n                      text: this.$t('order.exchangeOrder.cancel'), // 撤单\r\n                      eventType: 'cancelOrder',\r\n                    }\r\n                    : '',\r\n                ],\r\n              ],\r\n            });\r\n          });\r\n          this.tabelLoading = false;\r\n          this.tabelList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        } else {\r\n          this.tabelLoading = false;\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    // 分页器\r\n    pagechange(v) {\r\n      this.paginationObj.currentPage = v;\r\n      this.clearSub();\r\n      this.getData();\r\n    },\r\n    // 获取历史\r\n    getHisData() {\r\n      const symbolCoin = this.symbolCoin === 'all' ? '' : this.symbolCoin;\r\n      // const symbolMarket = this.symbolMarket === 'all' ? '' : this.symbolMarket;\r\n      const symbol = symbolCoin.toLowerCase();\r\n      let ajaxUrl = '/lever/order/history';\r\n      const paramsData = {\r\n        side: this.axiosSide,\r\n        pageSize: this.paginationObj.display, // 每页条数\r\n        page: this.paginationObj.currentPage, // 页码\r\n        isShowCanceled: this.switchFlag ? 1 : 0, // 是否展示已撤单\r\n        symbol,\r\n      };\r\n      if (this.openOrderCollect === '1') {\r\n        paramsData.entrust = this.nowType;\r\n        paramsData.orderType = 2;\r\n        ajaxUrl = 'order/entrust_search';\r\n      }\r\n      this.axios({\r\n        url: ajaxUrl,\r\n        method: 'post',\r\n        params: paramsData,\r\n      }).then((data) => {\r\n        if (this.nowType !== 2) return;\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          let { orderList } = data.data;\r\n          if (this.openOrderCollect === '1') {\r\n            orderList = data.data.orders;\r\n          }\r\n          orderList.forEach((item) => {\r\n            const quoteCoin = item.quoteCoin || item.countCoin;\r\n            const { marketFix, coinFix } = this.getFix(quoteCoin, item.baseCoin);\r\n            let subTableBtn = [];\r\n            if (item.status === 2 || (item.status === 4 && parseFloat(item.deal_volume) !== 0)) {\r\n              subTableBtn = [\r\n                {\r\n                  type: 'subTable',\r\n                  text: this.$t('order.exchangeOrder.details'), // 详情\r\n                  eventType: 'view',\r\n                },\r\n              ];\r\n            } else {\r\n              subTableBtn = [];\r\n            }\r\n            list.push({\r\n              id: item.id,\r\n              data: [\r\n                item.created_at,\r\n                `${item.baseCoin}/${quoteCoin}`, // 币对\r\n                [{\r\n                  text: item.side_text,\r\n                  classes: item.side === 'BUY' ? 'b-5-cl' : 'b-6-cl',\r\n                }],\r\n                item.type.toString() === '1'\r\n                  ? `${fixD(item.price, marketFix)} ${quoteCoin}` // 价格\r\n                  : this.$t('order.exchangeOrder.marketPrice'), // 市价\r\n                `${fixD(item.volume, coinFix)} ${item.baseCoin}`, // 数量\r\n                `${fixD(item.avg_price, marketFix)} ${quoteCoin}`, // 平均成交价\r\n                item.status_text,\r\n                subTableBtn,\r\n              ],\r\n            });\r\n          });\r\n          this.tabelLoading = false;\r\n          this.tabelList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        } else {\r\n          this.tabelLoading = false;\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    // 切换方向\r\n    sideChange(item) {\r\n      if (this.side === item.code) { return; }\r\n      this.side = item.code;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.clearSub();\r\n      this.getData();\r\n    },\r\n    tableClick(type, id) {\r\n      if (type === 'cancelOrder') {\r\n        this.cancelOrder(id);\r\n      }\r\n      if (type === 'view') {\r\n        this.getSubTableData(id);\r\n      }\r\n    },\r\n    // 重置详情\r\n    clearSub() {\r\n      this.subContentId = null;\r\n      this.subColumns = [];\r\n      this.subContent = [];\r\n      this.subLoading = false;\r\n    },\r\n    // 查看详情\r\n    getSubTableData(v) {\r\n      if (v.open) {\r\n        this.subContentId = v.id;\r\n        this.subColumns = [\r\n          this.$t('order.exchangeOrder.detailsTime'), // 时间\r\n          this.$t('order.exchangeOrder.detailsPrice'), // 价格\r\n          this.$t('order.exchangeOrder.detailsVolume'), // 数量\r\n          this.$t('order.exchangeOrder.detailsTotol'), // 成交额\r\n          this.$t('order.exchangeOrder.detailsFee'), // 手续费\r\n        ];\r\n        let symbol = '';\r\n        this.tabelList.forEach((item) => {\r\n          if (item.id === v.id) {\r\n            [, symbol] = item.data;\r\n          }\r\n        });\r\n        const symbolCoin = `${symbol.split('/')[0]}${symbol.split('/')[1]}`;\r\n        this.subContent = [];\r\n        this.subLoading = true;\r\n        this.axios({\r\n          url: '/lever/trade/list_by_order',\r\n          method: 'post',\r\n          params: {\r\n            symbol: symbolCoin,\r\n            order_id: v.id,\r\n            // pageSize: this.pagination.pageSize,\r\n          },\r\n        }).then((data) => {\r\n          if (v.id !== this.subContentId) { return; }\r\n          if (data.code.toString() === '0') {\r\n            const list = [];\r\n            data.data.trade_list.forEach((item) => {\r\n              // const [baseCoin, quoteCoin] = this.symbol.split('/');\r\n              const { marketFix, coinFix } = this.getFix(\r\n                symbol.split('/')[1], symbol.split('/')[0],\r\n              );\r\n              list.push({\r\n                ctime: item.ctime,\r\n                price: fixD(item.price, marketFix),\r\n                volume: fixD(item.volume, coinFix),\r\n                dealPrice: fixD(item.deal_price, marketFix),\r\n                fee: item.fee,\r\n              });\r\n            });\r\n            this.subLoading = false;\r\n            this.subContent = list;\r\n          } else {\r\n            this.subLoading = false;\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 撤单\r\n    cancelOrder(id) {\r\n      if (this.revokeList.indexOf(id) === -1) {\r\n        this.revokeList.push(id);\r\n        let symbol = '';\r\n        this.tabelList.forEach((item) => {\r\n          if (item.id === id) {\r\n            [, symbol] = item.data;\r\n          }\r\n        });\r\n        symbol = `${symbol.split('/')[0]}${symbol.split('/')[1]}`;\r\n        this.axios({\r\n          url: 'lever/order/cancel',\r\n          method: 'post',\r\n          params: {\r\n            orderId: id,\r\n            symbol,\r\n          },\r\n        }).then((data) => {\r\n          const ind = this.revokeList.indexOf(id);\r\n          this.revokeList.splice(ind, 1);\r\n          if (data.code.toString() === '0') {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n            let sId = 0;\r\n            this.tabelList.forEach((item, i) => {\r\n              if (item.id === id) {\r\n                sId = i;\r\n              }\r\n            });\r\n            this.tabelList.splice(sId, 1);\r\n            // this.getData();\r\n          } else {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n"]}]}