{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/UserManagement/UserManagement.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/UserManagement/UserManagement.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { imgMap, colorMap } from '@/utils';\nimport countryMinix from \"../../countryList/countryList\";\nexport default {\n  name: 'userManagement',\n  mixins: [countryMinix],\n  data: function data() {\n    return {\n      id: '',\n      // uid\n      mobileNumber: '',\n      // 手机号或者邮箱显示\n      authLevel: '',\n      // 身份/实名认证状态，0、未审核，1、通过，2、未通过  3未认证\n      nickName: '',\n      // 昵称\n      userName: '',\n      email: '',\n      // 邮箱\n      dialogFlag: false,\n      dialogConfirmLoading: false,\n      dialogConfirmDisabled: false,\n      checkErrorFlag: false,\n      checkValue: '',\n      promptText: this.$t('personal.dialog.name'),\n      errorText: this.$t('personal.dialog.text'),\n      oldName: '',\n      // 用户最初昵称\n      smsCode: false,\n      // false对应0 关闭 true对应1 开启(手机短信认证)\n      googleCode: false,\n      // false对应0 关闭 true对应1 开启(google认证)\n      switchValue: false,\n      // 手续费设置\n      clickType: true,\n      // 可点击状态\n      alertFlag: false,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      feeCoinOpen: '0',\n      photo: imgMap.photo1,\n      dialogType: 1,\n      inviteCodeShow: true,\n      inviteUrlShow: true,\n      // 邀请码信息\n      inviteCode: '',\n      inviteQECode: '',\n      inviteUrl: '',\n      titleText: this.$t('personal.dialog.title'),\n      kycPhoneFlag: false,\n      // kyc选择国家弹窗\n      country: '',\n      // kyc用户选择的国家\n      kycLoading: false,\n      state: 'KYC_AUTH'\n    };\n  },\n  watch: {\n    // 默认区号\n    defaultCountryCode: function defaultCountryCode(v) {\n      if (v && this.country === '') {\n        this.country = v;\n      }\n    },\n    userInfo: function userInfo(userinfo) {\n      // 监听userinfo接口\n      if (userinfo) {\n        this.getUserInfo(); // 获取用户信息\n      }\n\n      this.googleCode = !!Number(userinfo.googleStatus);\n      this.smsCode = !!Number(userinfo.isOpenMobileCheck);\n      this.id = userinfo.id;\n    },\n    modifyNickName: function modifyNickName(_modifyNickName) {\n      // 修改昵称逻辑操作\n      if (_modifyNickName !== null) {\n        if (_modifyNickName.text === 'success') {\n          // tip框提示\n          this.$bus.$emit('tip', {\n            text: _modifyNickName.msg,\n            type: 'success'\n          }); // 重新获取 userinfo\n\n          this.$store.dispatch('getUserInfo');\n          this.dialogConfirmFlag = false;\n          this.dialogFlag = false;\n          this.checkValue = this.oldName;\n          this.checkErrorFlag = false;\n          this.dialogConfirmLoading = false;\n          this.$store.dispatch('resetType');\n        } else {\n          // tip框提示错误\n          this.$bus.$emit('tip', {\n            text: _modifyNickName.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n          this.dialogConfirmLoading = false;\n        }\n      }\n    },\n    openMobileVerify: function openMobileVerify(_openMobileVerify) {\n      if (_openMobileVerify !== null) {\n        if (_openMobileVerify.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _openMobileVerify.msg,\n            type: 'success'\n          });\n          this.$store.dispatch('resetType');\n          this.$store.dispatch('getUserInfo');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _openMobileVerify.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    updateFeeCoinOpen: function updateFeeCoinOpen(_updateFeeCoinOpen) {\n      if (_updateFeeCoinOpen !== null) {\n        var type = this.switchValue;\n\n        if (_updateFeeCoinOpen.text === 'success') {\n          if (type) {\n            this.$bus.$emit('tip', {\n              text: this.$t('personal.state.closeSuccess'),\n              type: 'success'\n            });\n            this.switchValue = !type;\n            this.$store.dispatch('resetType');\n          } else {\n            this.$bus.$emit('tip', {\n              text: this.$t('personal.state.openSuccess'),\n              type: 'success'\n            });\n            this.switchValue = !type;\n            this.$store.dispatch('resetType');\n          }\n        } else {\n          this.$bus.$emit('tip', {\n            text: _updateFeeCoinOpen.msg,\n            type: 'error'\n          });\n          this.$store.dispatch('resetType');\n        }\n      }\n    }\n  },\n  computed: {\n    interfaceSwitch: function interfaceSwitch() {\n      return this.$store.state.baseData.interfaceSwitch;\n    },\n    templateLayoutType: function templateLayoutType() {\n      return this.$store.state.baseData.templateLayoutType;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    modifyNickName: function modifyNickName() {\n      return this.$store.state.personal.modifyNickName;\n    },\n    openMobileVerify: function openMobileVerify() {\n      return this.$store.state.personal.openMobileVerify;\n    },\n    updateFeeCoinOpen: function updateFeeCoinOpen() {\n      return this.$store.state.personal.updateFeeCoinOpen;\n    },\n    headImg: function headImg() {\n      return imgMap.head;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    // ”00“ face++\n    // ”01“羽山kyc\n    // “02”简版自动\n    // ”10“ 人工\n    nameVerifiedType: function nameVerifiedType() {\n      return this.$store.state.baseData.nameVerifiedType;\n    }\n  },\n  methods: {\n    init: function init() {\n      this.$store.dispatch('getUserInfo');\n    },\n    goAgent: function goAgent() {\n      this.$router.push('/agent');\n    },\n    // kyc 弹窗关闭\n    kycPhoneClose: function kycPhoneClose() {\n      // 关闭弹窗\n      this.kycPhoneFlag = false; // 初始化select内容\n\n      this.country = this.defaultCountryCodeReal ? this.defaultCountryCodeReal : this.countryMap[this.defaultCountryCode].code; // 所在地\n\n      this.countryKeyCode = this.defaultCountryCode ? this.defaultCountryCode : ''; // 所在地\n    },\n    // kyc 弹窗确认\n    kycPhoneConfirm: function kycPhoneConfirm() {\n      var _this = this;\n\n      // 中国人 - 认证face++\n      if (this.nameVerifiedType === '00' && this.country === '+156') {\n        this.axios({\n          url: '/kyc/Api/get_Valid_QRcode'\n        }).then(function (data) {\n          _this.kycLoading = false;\n\n          if (data.code.toString() === '0') {\n            var _data$data = data.data,\n                openAuto = _data$data.openAuto,\n                limitFlag = _data$data.limitFlag;\n\n            if (openAuto && openAuto.toString() === '0' || limitFlag && limitFlag.toString() === '1') {\n              // if (kycSingaporeOpen && kycSingaporeOpen !== '0') {\n              //   this.$store.dispatch('exccKycConfig', {});\n              // } else {\n              _this.$router.push('/personal/idAuth?country=156&countryKeyCode=86'); // }\n\n            } else {\n              _this.$router.push('/personal/faceAuth?country=156&countryKeyCode=86');\n            }\n          } else {\n            _this.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        }); // 外国人 - 认证\n      } else {\n        // if (kycSingaporeOpen && kycSingaporeOpen !== '0') {\n        //   this.$store.dispatch('exccKycConfig', {});\n        // } else {\n        var countryNum = this.country.split('+')[1];\n        var countryKeyCodeNum = this.countryKeyCode.split('+')[1];\n        this.$router.push(\"/personal/idAuth?country=\".concat(countryNum, \"&countryKeyCode=\").concat(countryKeyCodeNum)); // }\n\n        this.kycLoading = false;\n      }\n    },\n    copyClick: function copyClick(name) {\n      if (name === 'inviteCode') {\n        this.copy(this.inviteCode);\n      } else {\n        this.copy(this.inviteUrl);\n      }\n    },\n    copy: function copy(str) {\n      this.$bus.$emit('tip', {\n        text: this.$t('personal.prompt.copySucces'),\n        type: 'success'\n      });\n\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n\n        e.preventDefault(); // 阻止默认行为\n      }\n\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n\n      document.removeEventListener('copy', save);\n    },\n    handMouseenter: function handMouseenter(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = false;\n      } else {\n        this.inviteUrlShow = false;\n      }\n    },\n    handMouseleave: function handMouseleave(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = true;\n      } else {\n        this.inviteUrlShow = true;\n      }\n    },\n    btnLink: function btnLink(link) {\n      if (link === 'google') {\n        this.$router.push('/personal/bindGoogle');\n      } else if (link === 'phone') {\n        this.$router.push('/personal/bindPhone');\n      } else if (link === 'email') {\n        this.$router.push('/personal/bindEmail');\n      } else if (link === 'identity') {\n        this.kycPhoneFlag = true;\n      } else if (link === 'goID') {\n        this.$router.push('/personal/idAuth');\n      }\n    },\n    dialogClose: function dialogClose() {\n      // 关闭或取消时\n      this.dialogConfirmDisabled = false;\n      this.dialogConfirmFlag = false;\n      this.dialogFlag = false;\n      this.checkValue = this.oldName;\n      this.checkErrorFlag = false;\n    },\n    dialogConfirm: function dialogConfirm() {\n      // 点击确认时\n      if (this.dialogType === 2) {\n        this.dialogConfirmFlag = false;\n        this.dialogFlag = false;\n      } else {\n        var val = this.checkValue;\n\n        if (val.length === 0) {\n          // 为空提示\n          this.checkErrorFlag = true;\n          this.errorText = this.$t('personal.userManagement.nameError1');\n        } else if (val.length > 10) {\n          this.checkErrorFlag = true;\n          this.errorText = this.$t('personal.userManagement.nameError2');\n        } else {\n          // 非空提交\n          this.dialogConfirmLoading = true;\n          this.$store.dispatch('modifyNickName', {\n            nickname: val\n          });\n        }\n      }\n    },\n    inputChanges: function inputChanges(val) {\n      // 获取输入框内容\n      this.checkValue = val;\n    },\n    checkFocus: function checkFocus() {},\n    modify: function modify(num) {\n      if (num === 1) {\n        this.dialogType = 1;\n        this.titleText = this.$t('personal.dialog.title');\n      } else {\n        this.dialogType = 2;\n        this.titleText = this.$t('personal.userManagement.otherList.myInviteCod.text');\n      }\n\n      this.dialogConfirmFlag = true;\n      this.dialogFlag = true;\n    },\n    getUserInfo: function getUserInfo() {\n      if (this.userInfo !== null) {\n        // 邀请码信息\n        this.inviteCode = this.userInfo.inviteCode;\n        this.inviteQECode = this.userInfo.inviteQECode;\n        this.inviteUrl = this.userInfo.inviteUrl; // 邀请码信息\n\n        this.userName = this.userInfo.mobileNumber !== '' ? this.userInfo.mobileNumber : this.userInfo.email; // 有电话号码显示电话号码,无则显示邮箱\n\n        this.mobileNumber = this.userInfo.mobileNumber; // 电话号码\n\n        this.nickName = this.userInfo.nickName !== '' ? this.userInfo.nickName : this.$t('personal.userManagement.userName');\n        this.email = this.userInfo.email; // 邮箱\n\n        this.checkValue = this.userInfo.nickName;\n        this.oldName = this.userInfo.nickName;\n        this.authLevel = this.userInfo.authLevel; // 身份认证状态\n\n        if (Number(this.userInfo.useFeeCoinOpen) === 1) {\n          // 是否开启手续费设置 1 开启 0 关闭\n          this.switchValue = true;\n        } else {\n          this.switchValue = false;\n        }\n\n        this.feeCoinOpen = this.userInfo.fee_coin_open;\n      }\n    },\n    openMobile: function openMobile() {\n      this.$store.dispatch('openMobileVerify');\n    },\n    switchChange: function switchChange() {\n      var _this2 = this;\n\n      if (this.clickType) {\n        this.clickType = false;\n        setTimeout(function () {\n          _this2.clickType = true;\n        }, 1000);\n\n        if (this.switchValue) {\n          var info = {\n            useFeeCoinOpen: '0'\n          };\n          this.$store.dispatch('updateFeeCoinOpen', info);\n        } else {\n          var _info = {\n            useFeeCoinOpen: '1'\n          };\n          this.$store.dispatch('updateFeeCoinOpen', _info);\n        }\n      }\n    },\n    changePassword: function changePassword() {\n      if (this.smsCode === true || this.googleCode === true) {\n        this.$router.push('/personal/changePassword');\n      } else {\n        this.alertFlag = true;\n      }\n    },\n    changeEmail: function changeEmail() {\n      if (this.smsCode === true || this.googleCode === true) {\n        this.$router.push('/personal/changeEmail');\n      } else {\n        this.alertFlag = true;\n      }\n    },\n    alertClose: function alertClose() {\n      this.alertFlag = false;\n    },\n    alertGo: function alertGo() {\n      this.alertFlag = false;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/personal/UserManagement/UserManagement.js"],"names":["imgMap","colorMap","countryMinix","name","mixins","data","id","mobileNumber","authLevel","nickName","userName","email","dialogFlag","dialogConfirmLoading","dialogConfirmDisabled","checkErrorFlag","checkValue","promptText","$t","errorText","oldName","smsCode","googleCode","switchValue","clickType","alertFlag","feeCoinOpen","photo","photo1","dialogType","inviteCodeShow","inviteUrlShow","inviteCode","inviteQECode","inviteUrl","titleText","kycPhoneFlag","country","kycLoading","state","watch","defaultCountryCode","v","userInfo","userinfo","getUserInfo","Number","googleStatus","isOpenMobileCheck","modifyNickName","text","$bus","$emit","msg","type","$store","dispatch","dialogConfirmFlag","openMobileVerify","updateFeeCoinOpen","computed","interfaceSwitch","baseData","templateLayoutType","personal","headImg","head","publicInfo","nameVerifiedType","methods","init","goAgent","$router","push","kycPhoneClose","defaultCountryCodeReal","countryMap","code","countryKeyCode","kycPhoneConfirm","axios","url","then","toString","openAuto","limitFlag","countryNum","split","countryKeyCodeNum","copyClick","copy","str","save","e","clipboardData","setData","preventDefault","document","addEventListener","execCommand","removeEventListener","handMouseenter","handMouseleave","btnLink","link","dialogClose","dialogConfirm","val","length","nickname","inputChanges","checkFocus","modify","num","useFeeCoinOpen","fee_coin_open","openMobile","switchChange","setTimeout","info","changePassword","changeEmail","alertClose","alertGo"],"mappings":"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","sourcesContent":["import { imgMap, colorMap } from '@/utils';\r\nimport countryMinix from '../../countryList/countryList';\r\n\r\nexport default {\r\n  name: 'userManagement',\r\n  mixins: [countryMinix],\r\n  data() {\r\n    return {\r\n      id: '', // uid\r\n      mobileNumber: '', // 手机号或者邮箱显示\r\n      authLevel: '', // 身份/实名认证状态，0、未审核，1、通过，2、未通过  3未认证\r\n      nickName: '', // 昵称\r\n      userName: '',\r\n      email: '', // 邮箱\r\n      dialogFlag: false,\r\n      dialogConfirmLoading: false,\r\n      dialogConfirmDisabled: false,\r\n      checkErrorFlag: false,\r\n      checkValue: '',\r\n      promptText: this.$t('personal.dialog.name'),\r\n      errorText: this.$t('personal.dialog.text'),\r\n      oldName: '', // 用户最初昵称\r\n      smsCode: false, // false对应0 关闭 true对应1 开启(手机短信认证)\r\n      googleCode: false, // false对应0 关闭 true对应1 开启(google认证)\r\n      switchValue: false, // 手续费设置\r\n      clickType: true, // 可点击状态\r\n      alertFlag: false,\r\n      imgMap,\r\n      colorMap,\r\n      feeCoinOpen: '0',\r\n      photo: imgMap.photo1,\r\n      dialogType: 1,\r\n      inviteCodeShow: true,\r\n      inviteUrlShow: true,\r\n      // 邀请码信息\r\n      inviteCode: '',\r\n      inviteQECode: '',\r\n      inviteUrl: '',\r\n      titleText: this.$t('personal.dialog.title'),\r\n      kycPhoneFlag: false, // kyc选择国家弹窗\r\n      country: '', // kyc用户选择的国家\r\n      kycLoading: false,\r\n      state: 'KYC_AUTH',\r\n    };\r\n  },\r\n  watch: {\r\n    // 默认区号\r\n    defaultCountryCode(v) {\r\n      if (v && this.country === '') {\r\n        this.country = v;\r\n      }\r\n    },\r\n    userInfo(userinfo) { // 监听userinfo接口\r\n      if (userinfo) {\r\n        this.getUserInfo();// 获取用户信息\r\n      }\r\n      this.googleCode = !!Number(userinfo.googleStatus);\r\n      this.smsCode = !!Number(userinfo.isOpenMobileCheck);\r\n      this.id = userinfo.id;\r\n    },\r\n    modifyNickName(modifyNickName) { // 修改昵称逻辑操作\r\n      if (modifyNickName !== null) {\r\n        if (modifyNickName.text === 'success') {\r\n          // tip框提示\r\n          this.$bus.$emit('tip', { text: modifyNickName.msg, type: 'success' });\r\n          // 重新获取 userinfo\r\n          this.$store.dispatch('getUserInfo');\r\n          this.dialogConfirmFlag = false;\r\n          this.dialogFlag = false;\r\n          this.checkValue = this.oldName;\r\n          this.checkErrorFlag = false;\r\n          this.dialogConfirmLoading = false;\r\n          this.$store.dispatch('resetType');\r\n        } else {\r\n          // tip框提示错误\r\n          this.$bus.$emit('tip', { text: modifyNickName.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n          this.dialogConfirmLoading = false;\r\n        }\r\n      }\r\n    },\r\n    openMobileVerify(openMobileVerify) {\r\n      if (openMobileVerify !== null) {\r\n        if (openMobileVerify.text === 'success') {\r\n          this.$bus.$emit('tip', { text: openMobileVerify.msg, type: 'success' });\r\n          this.$store.dispatch('resetType');\r\n          this.$store.dispatch('getUserInfo');\r\n        } else {\r\n          this.$bus.$emit('tip', { text: openMobileVerify.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n    updateFeeCoinOpen(updateFeeCoinOpen) {\r\n      if (updateFeeCoinOpen !== null) {\r\n        const type = this.switchValue;\r\n        if (updateFeeCoinOpen.text === 'success') {\r\n          if (type) {\r\n            this.$bus.$emit('tip', { text: this.$t('personal.state.closeSuccess'), type: 'success' });\r\n            this.switchValue = !type;\r\n            this.$store.dispatch('resetType');\r\n          } else {\r\n            this.$bus.$emit('tip', { text: this.$t('personal.state.openSuccess'), type: 'success' });\r\n            this.switchValue = !type;\r\n            this.$store.dispatch('resetType');\r\n          }\r\n        } else {\r\n          this.$bus.$emit('tip', { text: updateFeeCoinOpen.msg, type: 'error' });\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    interfaceSwitch() {\r\n      return this.$store.state.baseData.interfaceSwitch;\r\n    },\r\n    templateLayoutType() {\r\n      return this.$store.state.baseData.templateLayoutType;\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    modifyNickName() {\r\n      return this.$store.state.personal.modifyNickName;\r\n    },\r\n    openMobileVerify() {\r\n      return this.$store.state.personal.openMobileVerify;\r\n    },\r\n    updateFeeCoinOpen() {\r\n      return this.$store.state.personal.updateFeeCoinOpen;\r\n    },\r\n    headImg() {\r\n      return imgMap.head;\r\n    },\r\n    publicInfo() { return this.$store.state.baseData.publicInfo; },\r\n    // ”00“ face++\r\n    // ”01“羽山kyc\r\n    // “02”简版自动\r\n    // ”10“ 人工\r\n    nameVerifiedType() {\r\n      return this.$store.state.baseData.nameVerifiedType;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$store.dispatch('getUserInfo');\r\n    },\r\n    goAgent() {\r\n      this.$router.push('/agent');\r\n    },\r\n    // kyc 弹窗关闭\r\n    kycPhoneClose() {\r\n      // 关闭弹窗\r\n      this.kycPhoneFlag = false;\r\n      // 初始化select内容\r\n      this.country = this.defaultCountryCodeReal\r\n        ? this.defaultCountryCodeReal : this.countryMap[this.defaultCountryCode].code; // 所在地\r\n      this.countryKeyCode = this.defaultCountryCode ? this.defaultCountryCode : ''; // 所在地\r\n    },\r\n    // kyc 弹窗确认\r\n    kycPhoneConfirm() {\r\n      // 中国人 - 认证face++\r\n      if (this.nameVerifiedType === '00' && this.country === '+156') {\r\n        this.axios({\r\n          url: '/kyc/Api/get_Valid_QRcode',\r\n        }).then((data) => {\r\n          this.kycLoading = false;\r\n          if (data.code.toString() === '0') {\r\n            const { openAuto, limitFlag } = data.data;\r\n            if ((openAuto && openAuto.toString() === '0')\r\n              || (limitFlag && limitFlag.toString() === '1')) {\r\n              // if (kycSingaporeOpen && kycSingaporeOpen !== '0') {\r\n              //   this.$store.dispatch('exccKycConfig', {});\r\n              // } else {\r\n              this.$router.push('/personal/idAuth?country=156&countryKeyCode=86');\r\n              // }\r\n            } else {\r\n              this.$router.push('/personal/faceAuth?country=156&countryKeyCode=86');\r\n            }\r\n          } else {\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      // 外国人 - 认证\r\n      } else {\r\n        // if (kycSingaporeOpen && kycSingaporeOpen !== '0') {\r\n        //   this.$store.dispatch('exccKycConfig', {});\r\n        // } else {\r\n        const countryNum = this.country.split('+')[1];\r\n        const countryKeyCodeNum = this.countryKeyCode.split('+')[1];\r\n        this.$router.push(`/personal/idAuth?country=${countryNum}&countryKeyCode=${countryKeyCodeNum}`);\r\n        // }\r\n        this.kycLoading = false;\r\n      }\r\n    },\r\n    copyClick(name) {\r\n      if (name === 'inviteCode') {\r\n        this.copy(this.inviteCode);\r\n      } else {\r\n        this.copy(this.inviteUrl);\r\n      }\r\n    },\r\n    copy(str) {\r\n      this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\r\n      function save(e) {\r\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\r\n        e.preventDefault(); // 阻止默认行为\r\n      }\r\n      document.addEventListener('copy', save);\r\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\r\n      document.removeEventListener('copy', save);\r\n    },\r\n    handMouseenter(name) {\r\n      if (name === 'inviteCode') {\r\n        this.inviteCodeShow = false;\r\n      } else {\r\n        this.inviteUrlShow = false;\r\n      }\r\n    },\r\n    handMouseleave(name) {\r\n      if (name === 'inviteCode') {\r\n        this.inviteCodeShow = true;\r\n      } else {\r\n        this.inviteUrlShow = true;\r\n      }\r\n    },\r\n    btnLink(link) {\r\n      if (link === 'google') {\r\n        this.$router.push('/personal/bindGoogle');\r\n      } else if (link === 'phone') {\r\n        this.$router.push('/personal/bindPhone');\r\n      } else if (link === 'email') {\r\n        this.$router.push('/personal/bindEmail');\r\n      } else if (link === 'identity') {\r\n        this.kycPhoneFlag = true;\r\n      } else if (link === 'goID') {\r\n        this.$router.push('/personal/idAuth');\r\n      }\r\n    },\r\n    dialogClose() { // 关闭或取消时\r\n      this.dialogConfirmDisabled = false;\r\n      this.dialogConfirmFlag = false;\r\n      this.dialogFlag = false;\r\n      this.checkValue = this.oldName;\r\n      this.checkErrorFlag = false;\r\n    },\r\n    dialogConfirm() { // 点击确认时\r\n      if (this.dialogType === 2) {\r\n        this.dialogConfirmFlag = false;\r\n        this.dialogFlag = false;\r\n      } else {\r\n        const val = this.checkValue;\r\n        if (val.length === 0) { // 为空提示\r\n          this.checkErrorFlag = true;\r\n          this.errorText = this.$t('personal.userManagement.nameError1');\r\n        } else if (val.length > 10) {\r\n          this.checkErrorFlag = true;\r\n          this.errorText = this.$t('personal.userManagement.nameError2');\r\n        } else { // 非空提交\r\n          this.dialogConfirmLoading = true;\r\n          this.$store.dispatch('modifyNickName', { nickname: val });\r\n        }\r\n      }\r\n    },\r\n    inputChanges(val) { // 获取输入框内容\r\n      this.checkValue = val;\r\n    },\r\n    checkFocus() {\r\n\r\n    },\r\n    modify(num) {\r\n      if (num === 1) {\r\n        this.dialogType = 1;\r\n        this.titleText = this.$t('personal.dialog.title');\r\n      } else {\r\n        this.dialogType = 2;\r\n        this.titleText = this.$t('personal.userManagement.otherList.myInviteCod.text');\r\n      }\r\n      this.dialogConfirmFlag = true;\r\n      this.dialogFlag = true;\r\n    },\r\n    getUserInfo() {\r\n      if (this.userInfo !== null) {\r\n        // 邀请码信息\r\n        this.inviteCode = this.userInfo.inviteCode;\r\n        this.inviteQECode = this.userInfo.inviteQECode;\r\n        this.inviteUrl = this.userInfo.inviteUrl;\r\n        // 邀请码信息\r\n        this.userName = (this.userInfo.mobileNumber !== '') ? this.userInfo.mobileNumber : this.userInfo.email;// 有电话号码显示电话号码,无则显示邮箱\r\n        this.mobileNumber = this.userInfo.mobileNumber;// 电话号码\r\n        this.nickName = (this.userInfo.nickName !== '')\r\n          ? this.userInfo.nickName\r\n          : this.$t('personal.userManagement.userName');\r\n        this.email = this.userInfo.email;// 邮箱\r\n        this.checkValue = this.userInfo.nickName;\r\n        this.oldName = this.userInfo.nickName;\r\n        this.authLevel = this.userInfo.authLevel; // 身份认证状态\r\n        if (Number(this.userInfo.useFeeCoinOpen) === 1) { // 是否开启手续费设置 1 开启 0 关闭\r\n          this.switchValue = true;\r\n        } else {\r\n          this.switchValue = false;\r\n        }\r\n        this.feeCoinOpen = this.userInfo.fee_coin_open;\r\n      }\r\n    },\r\n    openMobile() {\r\n      this.$store.dispatch('openMobileVerify');\r\n    },\r\n    switchChange() {\r\n      if (this.clickType) {\r\n        this.clickType = false;\r\n        setTimeout(() => {\r\n          this.clickType = true;\r\n        }, 1000);\r\n        if (this.switchValue) {\r\n          const info = { useFeeCoinOpen: '0' };\r\n          this.$store.dispatch('updateFeeCoinOpen', info);\r\n        } else {\r\n          const info = { useFeeCoinOpen: '1' };\r\n          this.$store.dispatch('updateFeeCoinOpen', info);\r\n        }\r\n      }\r\n    },\r\n    changePassword() {\r\n      if (this.smsCode === true || this.googleCode === true) {\r\n        this.$router.push('/personal/changePassword');\r\n      } else {\r\n        this.alertFlag = true;\r\n      }\r\n    },\r\n    changeEmail() {\r\n      if (this.smsCode === true || this.googleCode === true) {\r\n        this.$router.push('/personal/changeEmail');\r\n      } else {\r\n        this.alertFlag = true;\r\n      }\r\n    },\r\n    alertClose() {\r\n      this.alertFlag = false;\r\n    },\r\n    alertGo() {\r\n      this.alertFlag = false;\r\n    },\r\n  },\r\n};\r\n"]}]}