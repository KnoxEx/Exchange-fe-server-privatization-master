"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FrameworkBaseError = exports.FRAMEWORK_ERROR_SYMBOL = void 0;
const __1 = require("../");
const assert = require("assert");
exports.FRAMEWORK_ERROR_SYMBOL = Symbol.for('FrameworkBaseError');
class FrameworkBaseError extends __1.EggBaseError {
    constructor(message, serialNumber, errorContext) {
        super({ message, serialNumber, errorContext });
        assert(message, 'message is required');
        assert(serialNumber, 'serialNumber is required');
        this.serialNumber = String(serialNumber);
        this.errorContext = errorContext || '';
        this.code = `${this.module}_${this.serialNumber}`;
        this[exports.FRAMEWORK_ERROR_SYMBOL] = true;
    }
    get module() {
        throw new Error('module should be implement');
    }
    static isFrameworkError(err) {
        return err[exports.FRAMEWORK_ERROR_SYMBOL] === true;
    }
}
exports.FrameworkBaseError = FrameworkBaseError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWV3b3JrX2Jhc2VfZXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmcmFtZXdvcmtfYmFzZV9lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQkFBaUQ7QUFDakQsaUNBQWlDO0FBRXBCLFFBQUEsc0JBQXNCLEdBQVcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBRS9FLE1BQWEsa0JBQW1CLFNBQVEsZ0JBQTBCO0lBUWhFLFlBQVksT0FBZSxFQUFFLFlBQTZCLEVBQUUsWUFBa0I7UUFDNUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUN2QyxNQUFNLENBQUMsWUFBWSxFQUFFLDBCQUEwQixDQUFDLENBQUM7UUFFakQsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLElBQUksRUFBRSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUVqRCxJQUFZLENBQUMsOEJBQXNCLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDL0MsQ0FBQztJQWRELElBQUksTUFBTTtRQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBY0QsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQVU7UUFDaEMsT0FBUSxHQUFXLENBQUMsOEJBQXNCLENBQUMsS0FBSyxJQUFJLENBQUM7SUFDdkQsQ0FBQztDQUNGO0FBdkJELGdEQXVCQyJ9