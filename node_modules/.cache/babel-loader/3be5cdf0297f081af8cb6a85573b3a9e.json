{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/modules/coTrade/components/stopOrder/stopOrder.js","dependencies":[{"path":"/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/modules/coTrade/components/stopOrder/stopOrder.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { imgMap, colorMap, division, cut, nul, fixD, thousandsComma as _thousandsComma } from '@/utils';\nexport default {\n  name: 'stopOrderMode',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      marginModel: 1,\n      tableLoading: false,\n      // 是否加载成功\n      dialogConfirmLoading: false,\n      //  表格数据\n      tableDataList: [],\n      // 表单\n      formData_1: {\n        title: '',\n        units: this.priceUnit,\n        fix: 8,\n        errorText: null,\n        value: null\n      },\n      formData_2: {\n        title: '',\n        units: this.priceUnit,\n        fix: 8,\n        errorText: null,\n        value: null\n      },\n      formData_3: {\n        title: '',\n        units: '',\n        fix: 8,\n        errorText: null,\n        value: null\n      },\n      formData_4: {\n        title: '',\n        units: this.priceUnit,\n        fix: 8,\n        errorText: null,\n        value: null\n      },\n      formData_5: {\n        title: '',\n        units: this.priceUnit,\n        fix: 8,\n        errorText: null,\n        value: null\n      },\n      formData_6: {\n        title: '',\n        units: '',\n        fix: 8,\n        errorText: null,\n        value: null\n      },\n      // 止盈是否是市价\n      isMarket_profit: true,\n      // 止损是否是市价\n      isMarket_loss: true,\n      // 止盈数量\n      takeProfitCount: null,\n      // 止损数量\n      stopLossCount: null,\n      // 止盈数量列表\n      takeProfitList: [],\n      // 止损数量列表\n      stopLossList: [],\n      // 防止重复提交\n      sumbitFla: true,\n      // 防止重复取消订单\n      cancelFla: true,\n      // 到期时间\n      expireTime: '14',\n      // 2小时行情数据WS\n      WsData: {}\n    };\n  },\n  props: {\n    isShow: {\n      default: false,\n      type: Boolean\n    },\n    close: {\n      default: function _default() {},\n      type: Function\n    },\n    dataInfo: {\n      default: function _default() {},\n      type: Object\n    }\n  },\n  computed: {\n    lanText: function lanText() {\n      return {\n        titleText: this.$t('futures.stopOrder.titleText'),\n        // '止盈止损',\n        text1: this.$t('futures.stopOrder.text1'),\n        // '止盈',\n        text2: this.$t('futures.stopOrder.text2'),\n        // '撤销所有止盈单',\n        text3: this.$t('futures.stopOrder.text3'),\n        // '止盈价需大于标记价格',\n        text4: this.$t('futures.stopOrder.text4'),\n        // '止盈价需小于标记价格',\n        text5: this.$t('futures.stopOrder.text5'),\n        // '预计盈亏',\n        text6: this.$t('futures.stopOrder.text6'),\n        // '预计收益率',\n        text7: this.$t('futures.stopOrder.text7'),\n        // '止损',\n        text8: this.$t('futures.stopOrder.text8'),\n        // '撤销所有止损单',\n        text9: this.$t('futures.stopOrder.text9'),\n        // '止损价需小于标记价格，大于强平价格',\n        text10: this.$t('futures.stopOrder.text10'),\n        // '止损价需大于标记价格，小于强平价格',\n        text11: this.$t('futures.stopOrder.text11'),\n        // '预计盈亏',\n        text12: this.$t('futures.stopOrder.text12'),\n        // '预计收益率',\n        text13: this.$t('futures.stopOrder.text13'),\n        // '止盈触发价',\n        text14: this.$t('futures.stopOrder.text14'),\n        // '委托价格',\n        text15: this.$t('futures.stopOrder.text15'),\n        // '委托数量',\n        text16: this.$t('futures.stopOrder.text16'),\n        // '张',\n        text17: this.$t('futures.stopOrder.text17'),\n        // '止损触发价',\n        text18: this.$t('futures.stopOrder.text18'),\n        // '委托价格',\n        text19: this.$t('futures.stopOrder.text19'),\n        // '量',\n        text20: this.$t('futures.stopOrder.text20'),\n        // '价格',\n        text21: this.$t('futures.stopOrder.text21'),\n        // '止盈价需大于标记价格！',\n        text22: this.$t('futures.stopOrder.text22'),\n        // '止盈价需小于标记价格！',\n        text23: this.$t('futures.stopOrder.text23'),\n        // '止损价需小于标记价格！',\n        text24: this.$t('futures.stopOrder.text24'),\n        // '止损价需大于强平价格！',\n        text25: this.$t('futures.stopOrder.text25'),\n        // '止损价需大于标记价格！',\n        text26: this.$t('futures.stopOrder.text26'),\n        // '止损价需小于强平价格！',\n        text27: this.$t('futures.stopOrder.text27'),\n        // '价格偏差太大！',\n        text28: this.$t('futures.stopOrder.text28'),\n        // '超出可平数量！',\n        text29: this.$t('futures.stopOrder.text29'),\n        // '有效期',\n        text30: this.$t('futures.stopOrder.text30'),\n        // '市价',\n        columns1: this.$t('futures.stopOrder.columns1'),\n        // '合约',\n        columns2: this.$t('futures.stopOrder.columns2'),\n        // '仓位/可平',\n        columns3: this.$t('futures.stopOrder.columns3'),\n        // '成本价',\n        columns4: this.$t('futures.stopOrder.columns4'),\n        // '标记价格',\n        columns5: this.$t('futures.stopOrder.columns5'),\n        // '强平价格',\n        columns6: this.$t('futures.stopOrder.columns6'),\n        // '止盈触发价',\n        columns7: this.$t('futures.stopOrder.columns7'),\n        // '委托价格',\n        columns8: this.$t('futures.stopOrder.columns8'),\n        // '委托数量',\n        columns9: this.$t('futures.stopOrder.columns9'),\n        // '止损触发价',\n        columns10: this.$t('futures.stopOrder.columns10'),\n        // '最新价格',\n        time1: this.$t('futures.stopOrder.time1'),\n        // '24H',\n        time2: this.$t('futures.stopOrder.time2'),\n        // '7天',\n        time3: this.$t('futures.stopOrder.time3'),\n        // '14天',\n        time4: this.$t('futures.stopOrder.time4') // '30天',\n\n      };\n    },\n    // 用户配置信息\n    userConfig: function userConfig() {\n      return this.$store.state.future.futureUserConfig;\n    },\n    // 数量单位类型Number(1标的货币 2张)\n    coUnitType: function coUnitType() {\n      return this.$store.state.future.coUnitType;\n    },\n    // 合约数量单位\n    volUnit: function volUnit() {\n      return this.$store.state.future.coUnit;\n    },\n    // 表头\n    columns: function columns() {\n      // '量 ' : '张'\n      var coUnittext = this.coUnitType === 1 ? this.lanText.text19 : this.lanText.text16;\n      return [{\n        title: this.lanText.columns1 // '合约',\n\n      }, {\n        title: \"\".concat(this.lanText.columns2, \"(\").concat(coUnittext, \")\") // 仓位/可平\n\n      }, {\n        title: this.lanText.columns3 // '成本价',\n\n      }, {\n        // title: this.lanText.columns4, // '标记价格',\n        title: this.lanText.columns10 // '最新价格',\n\n      }, {\n        title: this.lanText.columns5 // '强平价格',\n\n      }];\n    },\n    // 表头2\n    columns2: function columns2() {\n      return [{\n        title: this.lanText.columns6 //  '止盈触发价',\n\n      }, {\n        title: this.lanText.columns7 //  '委托价格',\n\n      }, {\n        title: this.lanText.columns8 //  '委托数量',\n\n      }];\n    },\n    // 表头3\n    columns3: function columns3() {\n      return [{\n        title: this.lanText.columns9 //  '止损触发价',\n\n      }, {\n        title: this.lanText.columns7 //  '委托价格',\n\n      }, {\n        title: this.lanText.columns8 //  '委托数量',\n\n      }];\n    },\n    // 是否禁止提交\n    dialogConfirmDisabled: function dialogConfirmDisabled() {\n      return !this.formVerify();\n    },\n    // 仓位张数\n    positionVolume: function positionVolume() {\n      // 直接取后台返回的张数\n      return this.dataInfo.positionVolumeOriginal;\n    },\n    // 止盈预计盈亏\n    takeAmount: function takeAmount() {\n      var value = '0'; // 委托数量\n\n      var volume = this.formData_3.value; // 成本价\n\n      var _this$dataInfo = this.dataInfo,\n          openAvgPrice = _this$dataInfo.openAvgPrice,\n          orderSide = _this$dataInfo.orderSide; // 基础价格 （市价：触发价、 限价：委托价和）\n\n      var price = this.isMarket_profit ? this.formData_1.value : this.formData_2.value;\n      if (!volume || !price) return value;\n      var V1;\n\n      if (orderSide === 'BUY') {\n        // 多仓 基础价格 - 成本价\n        V1 = cut(price, openAvgPrice);\n      } else {\n        // 空仓 成本价 - 基础价格\n        V1 = cut(openAvgPrice, price);\n      } // 市价止盈 = N1 * 委托数量\n\n\n      value = nul(V1, this.volumeNumber(volume));\n      return \"\".concat(value);\n    },\n    // 止损预计盈亏\n    lossAmount: function lossAmount() {\n      var value = '0';\n      var volume = this.formData_6.value; // 成本价\n\n      var _this$dataInfo2 = this.dataInfo,\n          openAvgPrice = _this$dataInfo2.openAvgPrice,\n          orderSide = _this$dataInfo2.orderSide; // 基础价格 （市价：触发价、 限价：委托价和）\n\n      var price = this.isMarket_loss ? this.formData_4.value : this.formData_5.value;\n      if (!volume || !price) return value;\n      var V1;\n\n      if (orderSide === 'BUY') {\n        // 多仓 基础价格 - 成本价\n        V1 = cut(price, openAvgPrice);\n      } else {\n        // 空仓 成本价 - 基础价格\n        V1 = cut(openAvgPrice, price);\n      } // 市价止盈 = N1 * 委托数量\n\n\n      value = nul(V1, this.volumeNumber(volume));\n      return \"\".concat(value);\n    },\n    // 止盈预计收益率\n    takeAmountRate: function takeAmountRate() {\n      return this.returnate(this.takeAmount, this.formData_3.value);\n    },\n    // 止损预计收益率\n    takelossAmount: function takelossAmount() {\n      return this.returnate(this.lossAmount, this.formData_6.value);\n    },\n    // 获取止盈单最大或者最小触发价\n    takeOutProfit: function takeOutProfit() {\n      var _this = this;\n\n      if (!this.takeProfitList.length) return null;\n      var orderSide = this.dataInfo.orderSide;\n      var value = this.takeProfitList[0];\n      this.takeProfitList.forEach(function (item, i) {\n        var next = _this.takeProfitList[i + 1] || {};\n\n        if (orderSide === 'SELL') {\n          // 空仓取最大触发价\n          value = value.triggerPrice < next.triggerPrice ? next : value;\n        } else {\n          // 多仓取最小触发价\n          value = value.triggerPrice > next.triggerPrice ? next : value;\n        }\n      });\n      return value;\n    },\n    // 获取止损单最大或者最小触发价\n    takeLoss: function takeLoss() {\n      var _this2 = this;\n\n      if (!this.stopLossList.length) return null;\n      var orderSide = this.dataInfo.orderSide;\n      var value = this.stopLossList[0];\n      this.stopLossList.forEach(function (item, i) {\n        var next = _this2.stopLossList[i + 1] || {};\n\n        if (orderSide === 'BUY') {\n          // 多仓取最大触发价\n          value = value.triggerPrice < next.triggerPrice ? next : value;\n        } else {\n          // 空仓取最小触发价\n          value = value.triggerPrice > next.triggerPrice ? next : value;\n        }\n      });\n      return value;\n    },\n    placeHolder_one: function placeHolder_one() {\n      if (this.dataInfo.orderSide === 'BUY') {\n        // 价格\n        return \"\".concat(this.lanText.text20, \" > \").concat(this.thousandsComma(this.dataInfo.indexPrice));\n      } // 价格\n\n\n      return \"\".concat(this.lanText.text20, \" < \").concat(this.thousandsComma(this.dataInfo.indexPrice));\n    },\n    placeHolder_two: function placeHolder_two() {\n      // <p v-if=\"dataInfo.orderSide === 'BUY'\">止损价需小于标记价格，大于强平价格</p>\n      //     <p v-else>止损价需大于标记价格，小于强平价格</p>\n      if (this.dataInfo.orderSide === 'BUY') {\n        // 价格\n        return \"\".concat(this.lanText.text20, \" < \").concat(this.thousandsComma(this.dataInfo.indexPrice));\n      } // 价格\n\n\n      return \"\".concat(this.lanText.text20, \" > \").concat(this.thousandsComma(this.dataInfo.indexPrice));\n    },\n    // 到期时间\n    planTypeList: function planTypeList() {\n      return [{\n        name: this.lanText.time1,\n        // '24H',\n        id: '1'\n      }, {\n        name: this.lanText.time2,\n        // '7天',\n        id: '7'\n      }, {\n        name: this.lanText.time3,\n        // '14天',\n        id: '14'\n      }, {\n        name: this.lanText.time4,\n        // '30天',\n        id: '30'\n      }];\n    },\n    // 最新价格\n    newPrice: function newPrice() {\n      if (this.WsData && this.dataInfo) {\n        var name = \"\".concat(this.dataInfo.contractType, \"_\").concat(this.dataInfo.symbol.replace('-', ''));\n        var kay = name.toLowerCase();\n\n        if (this.WsData && this.WsData[kay]) {\n          return this.WsData[kay].close;\n        }\n\n        return 0.00;\n      }\n\n      return 0.00;\n    }\n  },\n  watch: {\n    dataInfo: function dataInfo(val) {\n      if (val.brokerId) {\n        this.getStopList();\n        this.initForm();\n      }\n    },\n    isShow: function isShow() {\n      this.initForm();\n    },\n    'formData_1.value': function formData1(value) {\n      if (value && Number(value)) {\n        this.formData_1.errorText = null;\n      }\n    },\n    'formData_2.value': function formData2(value) {\n      if (value && Number(value)) {\n        this.formData_2.errorText = null;\n      }\n    },\n    'formData_3.value': function formData3(value) {\n      if (value && Number(value)) {\n        this.formData_3.errorText = null;\n      }\n    },\n    'formData_4.value': function formData1(value) {\n      if (value && Number(value)) {\n        this.formData_4.errorText = null;\n      }\n    },\n    'formData_5.value': function formData2(value) {\n      if (value && Number(value)) {\n        this.formData_5.errorText = null;\n      }\n    },\n    'formData_6.value': function formData3(value) {\n      if (value && Number(value)) {\n        this.formData_6.errorText = null;\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this3 = this;\n\n      // 接收24小时行情数据\n      this.$bus.$on('FUTURE_MARKET_DATA', function (data) {\n        _this3.WsData = JSON.parse(data);\n      });\n    },\n    // 设置精度\n    setAmountFix: function setAmountFix(data) {\n      var priceFix = this.dataInfo.priceFix;\n      var fix = priceFix + 2;\n\n      if (fix > 8) {\n        fix = 8;\n      }\n\n      return this.thousandsComma(fixD(data, fix));\n    },\n    // 收益率(预计盈亏, 委托张数)\n    returnate: function returnate(amount, volume) {\n      // 占用保证金\n      var holdAmount = this.dataInfo.holdAmount;\n\n      if (amount && holdAmount && volume) {\n        //  预计盈亏 / 占用保证金 / 委托张数  *  仓位张数\n        // const Nl = division(amount, holdAmount);\n        // const N2 = division(Nl, this.volumeSheet(volume));\n        // const N3 = nul(N2, this.positionVolume);\n        var N3 = amount / holdAmount / this.volumeSheet(volume) * this.positionVolume;\n        var value = N3 * 100;\n        return fixD(value, 2);\n      }\n\n      return 0.00;\n    },\n    // 设置数字的颜色\n    returnColor: function returnColor(vlaue) {\n      if (vlaue) {\n        if (Number(vlaue) < 0) return 'u-4-cl';\n        if (Number(vlaue) > 0) return 'u-1-cl';\n      }\n\n      return '';\n    },\n    // 委托数量 = 委托张数 * 合约面值\n    volumeNumber: function volumeNumber(volume) {\n      // 如果当前单位是张\n      if (this.coUnitType === 2) {\n        var multiplier = this.dataInfo.multiplier; // 转换成量\n\n        return multiplier ? nul(volume, multiplier) : 0;\n      }\n\n      return volume;\n    },\n    // 委托张数 = 委托数量 / 合约面值\n    volumeSheet: function volumeSheet(volume) {\n      // 如果当前单位是量\n      if (this.coUnitType === 1 && volume) {\n        var multiplier = this.dataInfo.multiplier; // 转换成张\n\n        return multiplier ? division(volume, multiplier) : 0;\n      }\n\n      return volume;\n    },\n    // 设置表单参数\n    initForm: function initForm() {\n      var volUnit = this.dataInfo.multiplierCoin;\n\n      if (this.coUnitType === 2) {\n        volUnit = this.lanText.text16; // '张';\n      }\n\n      this.formData_1.title = this.lanText.text13; // '止盈触发价';\n\n      this.formData_2.title = this.lanText.text14; // '委托价格';\n\n      this.formData_3.title = this.lanText.text15; // '委托数量';\n\n      this.formData_4.title = this.lanText.text17; // '止损触发价';\n\n      this.formData_5.title = this.lanText.text18; // '委托价格';\n\n      this.formData_6.title = this.lanText.text15; // '委托数量';\n\n      this.formData_1.value = null;\n      this.formData_2.value = null;\n      this.formData_3.value = null;\n      this.formData_4.value = null;\n      this.formData_5.value = null;\n      this.formData_6.value = null;\n      this.formData_1.errorText = null;\n      this.formData_2.errorText = null;\n      this.formData_3.errorText = null;\n      this.formData_4.errorText = null;\n      this.formData_5.errorText = null;\n      this.formData_6.errorText = null;\n      this.formData_1.units = this.dataInfo.quote;\n      this.formData_1.fix = this.dataInfo.priceFix;\n      this.formData_2.units = this.dataInfo.quote;\n      this.formData_2.fix = this.dataInfo.priceFix;\n      this.formData_4.units = this.dataInfo.quote;\n      this.formData_4.fix = this.dataInfo.priceFix;\n      this.formData_5.units = this.dataInfo.quote;\n      this.formData_5.fix = this.dataInfo.priceFix;\n      this.formData_3.units = volUnit;\n      this.formData_6.units = volUnit;\n\n      if (this.coUnitType === 2) {\n        this.formData_3.fix = 0;\n        this.formData_6.fix = 0;\n      } else {\n        this.formData_3.fix = this.dataInfo.volfix;\n        this.formData_6.fix = this.dataInfo.volfix;\n      }\n    },\n    // 条件单切换 市价 and 限价\n    selectMarket: function selectMarket(name) {\n      if (name === 'isMarket_profit') {\n        this.formData_2.value = '';\n      } else {\n        this.formData_5.value = '';\n      }\n\n      this[name] = !this[name];\n    },\n    // 表单输入事件\n    changeInput: function changeInput(type, value) {\n      this[type].value = value;\n    },\n    // 获取止盈止损类表\n    getStopList: function getStopList() {\n      var _this4 = this;\n\n      this.axios({\n        url: this.$store.state.url.futures.takeProfitStopLoss,\n        hostType: 'co',\n        params: {\n          contractId: this.dataInfo.contractId,\n          orderSide: this.dataInfo.orderSide\n        }\n      }).then(function (data) {\n        if (data.code === '0' && data.data) {\n          _this4.takeProfitCount = data.data.takeProfitCount;\n          _this4.stopLossCount = data.data.stopLossCount;\n          var _data$data = data.data,\n              takeProfitList = _data$data.takeProfitList,\n              stopLossList = _data$data.stopLossList; // 止盈列表\n\n          _this4.takeProfitList = _this4.setlist(takeProfitList); // 止损列表\n\n          _this4.stopLossList = _this4.setlist(stopLossList);\n        }\n      });\n    },\n    // 设置数据列表\n    setlist: function setlist(dataList) {\n      var _this5 = this;\n\n      var priceFix = this.dataInfo.priceFix;\n      var arr = [];\n\n      if (dataList && dataList.length) {\n        dataList.forEach(function (item) {\n          arr.push({\n            // id\n            id: item.id,\n            // 触发价格\n            triggerPrice: fixD(item.triggerPrice, priceFix),\n            // 委托价格  // 市价\n            price: item.price === 0 ? _this5.lanText.text30 : _this5.thousandsComma(fixD(item.price, priceFix)),\n            // 委托数量\n            volume: _this5.setNumber(item.volume)\n          });\n        });\n        return arr;\n      }\n\n      return arr;\n    },\n    // 设置数量（张数和数量的转换）\n    setNumber: function setNumber(volume, type) {\n      var _this$dataInfo3 = this.dataInfo,\n          multiplier = _this$dataInfo3.multiplier,\n          volfix = _this$dataInfo3.volfix;\n\n      if (this.coUnitType === 1 && volume && multiplier) {\n        // 把量换成张\n        if (type === 2) {\n          return fixD(division(volume, multiplier), 0);\n        } // 把张换成量\n\n\n        return fixD(nul(volume, multiplier), volfix);\n      }\n\n      return volume;\n    },\n    // 表单验证\n    formVerify: function formVerify() {\n      var flag = true; // 非空验证\n\n      if (this.formData_1.value || this.formData_3.value) {\n        if (!this.formData_1.value || !this.formData_3.value || !this.formData_2.value && !this.isMarket_profit) {\n          flag = false;\n        }\n      }\n\n      if (this.formData_4.value || this.formData_6.value) {\n        if (!this.formData_4.value || !this.formData_6.value || !this.formData_5.value && !this.isMarket_loss) {\n          flag = false;\n        }\n      }\n\n      if (!this.formData_1.value && !this.formData_4.value) {\n        flag = false;\n      }\n\n      return flag;\n    },\n    formVerify_v2: function formVerify_v2() {\n      var flag = true; //  标记价格, 强平价格, 可平数量 , 方向（BUY多长 SELL空仓）\n\n      var _this$dataInfo4 = this.dataInfo,\n          indexPrice = _this$dataInfo4.indexPrice,\n          reducePrice = _this$dataInfo4.reducePrice,\n          canCloseVolume = _this$dataInfo4.canCloseVolume,\n          orderSide = _this$dataInfo4.orderSide; // 验证止盈触发价\n\n      if (this.formData_1.value && indexPrice) {\n        if (orderSide === 'BUY') {\n          if (Number(this.formData_1.value) <= Number(indexPrice)) {\n            // 止盈价需大于标记价格！\n            this.$bus.$emit('tip', {\n              text: this.lanText.text21,\n              type: 'error'\n            });\n            this.formData_1.errorText = 'true';\n            return false;\n          }\n        } else if (Number(this.formData_1.value) >= Number(indexPrice)) {\n          // 止盈价需小于标记价格！\n          this.$bus.$emit('tip', {\n            text: this.lanText.text22,\n            type: 'error'\n          });\n          this.formData_1.errorText = 'true';\n          return false;\n        }\n      } // 验证止损触发价\n\n\n      if (this.formData_4.value && indexPrice) {\n        // 多仓\n        if (orderSide === 'BUY') {\n          // 判断标记价格（多仓）\n          if (Number(this.formData_4.value) >= Number(indexPrice)) {\n            //  '止损价需小于标记价格\n            this.$bus.$emit('tip', {\n              text: this.lanText.text23,\n              type: 'error'\n            });\n            this.formData_4.errorText = 'true';\n            return false;\n          } // 判断强平价格（多仓）\n\n\n          if (Number(this.formData_4.value) <= Number(reducePrice)) {\n            // '止损价需大于强平价格！'\n            this.$bus.$emit('tip', {\n              text: this.lanText.text24,\n              type: 'error'\n            });\n            this.formData_4.errorText = 'true';\n            return false;\n          } // 判断标记价格（空仓）\n\n        } else if (Number(this.formData_4.value) <= Number(indexPrice)) {\n          // '止损价需大于标记价格！'\n          this.$bus.$emit('tip', {\n            text: this.lanText.text25,\n            type: 'error'\n          });\n          this.formData_4.errorText = 'true';\n          return false; // 判断强平价格（空仓）\n        } else if (Number(this.formData_4.value) >= Number(reducePrice)) {\n          // 止损价需小于强平价格！\n          this.$bus.$emit('tip', {\n            text: this.lanText.text26,\n            type: 'error'\n          });\n          this.formData_4.errorText = 'true';\n          return false;\n        }\n      } // 验证止盈委托价格\n\n\n      if (this.formData_2.value && this.formData_1.value) {\n        // 当前输入的价格和出发价的比例 (触发价格 - 输入的价格) / 触发价格\n        var priceRange = this.dataInfo.coinResultVo.priceRange;\n        var range = Math.abs(division(cut(this.formData_1.value, this.formData_2.value), this.formData_1.value));\n\n        if (range > priceRange) {\n          // '价格偏差太大！'\n          this.$bus.$emit('tip', {\n            text: this.lanText.text27,\n            type: 'error'\n          });\n          this.formData_2.errorText = 'true';\n          return false;\n        }\n      } // 验证止损委托价格\n\n\n      if (this.formData_3.value && canCloseVolume) {\n        if (Number(canCloseVolume) < Number(this.formData_3.value)) {\n          // 超出可平数量！\n          this.$bus.$emit('tip', {\n            text: this.lanText.text28,\n            type: 'error'\n          });\n          this.formData_3.errorText = 'true';\n          return false;\n        }\n      }\n\n      if (this.formData_6.value && canCloseVolume) {\n        if (Number(canCloseVolume) < Number(this.formData_6.value)) {\n          // 超出可平数量！\n          this.$bus.$emit('tip', {\n            text: this.lanText.text28,\n            type: 'error'\n          });\n          this.formData_6.errorText = 'true';\n          return false;\n        }\n      }\n\n      return flag;\n    },\n    // 提交订单\n    submit: function submit() {\n      var _this6 = this;\n\n      if (!this.formVerify()) return;\n      if (!this.formVerify_v2()) return;\n      if (!this.sumbitFla) return;\n      this.sumbitFla = false;\n      var orderList = [];\n\n      if (this.formData_1.value) {\n        orderList.push({\n          triggerType: 2,\n          type: this.isMarket_profit ? 2 : 1,\n          price: this.isMarket_profit ? 0 : this.formData_2.value,\n          volume: this.setNumber(this.formData_3.value, 2),\n          triggerPrice: this.formData_1.value // expiredTime: this.expireTime,\n\n        });\n      }\n\n      if (this.formData_4.value) {\n        orderList.push({\n          triggerType: 1,\n          type: this.isMarket_loss ? 2 : 1,\n          price: this.isMarket_loss ? 0 : this.formData_5.value,\n          volume: this.setNumber(this.formData_6.value, 2),\n          triggerPrice: this.formData_4.value,\n          expiredTime: this.expireTime\n        });\n      }\n\n      var paramsData = {\n        contractId: this.dataInfo.contractId,\n        positionType: this.dataInfo.positionType,\n        leverageLevel: this.dataInfo.leverageLevel,\n        side: this.dataInfo.orderSide === 'BUY' ? 'SELL' : 'BUY',\n        orderList: orderList\n      };\n      this.axios({\n        url: this.$store.state.url.futures.createTpslOrder,\n        hostType: 'co',\n        params: paramsData\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this6.close();\n\n          _this6.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'success'\n          });\n        } else {\n          var respList = data.data.respList;\n\n          if (respList && respList.length) {\n            respList.forEach(function (item) {\n              if (item.code === '0') {\n                _this6.close();\n\n                _this6.$bus.$emit('tip', {\n                  text: item.msg,\n                  type: 'success'\n                });\n              } else {\n                _this6.$bus.$emit('tip', {\n                  text: item.msg,\n                  type: 'error'\n                });\n              }\n            });\n          }\n        }\n\n        _this6.sumbitFla = true;\n      }).catch(function () {\n        _this6.sumbitFla = true;\n      });\n    },\n    // 取消全部订单\n    cancelOrder: function cancelOrder(type) {\n      var _this7 = this;\n\n      if (!this.cancelFla) return;\n      this.cancelFla = false;\n      var idArr = [];\n\n      if (type === 1) {\n        this.takeProfitList.forEach(function (item) {\n          idArr.push(item.id);\n        });\n      } else {\n        this.stopLossList.forEach(function (item) {\n          idArr.push(item.id);\n        });\n      }\n\n      this.axios({\n        url: this.$store.state.url.futures.orderTpslCancel,\n        hostType: 'co',\n        params: {\n          contractId: this.dataInfo.contractId,\n          orderIds: idArr.join(',')\n        }\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this7.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'success'\n          });\n\n          _this7.getStopList();\n        } else {\n          _this7.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n\n        _this7.cancelFla = true;\n      }).catch(function () {\n        _this7.cancelFla = true;\n      });\n    },\n    thousandsComma: function thousandsComma(num) {\n      if (num) {\n        return _thousandsComma(num);\n      }\n\n      return num;\n    },\n    // 选择 到期时间\n    selectPlanType: function selectPlanType(val) {\n      this.expireTime = val;\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/blockchain-ui-privatization/PC/common-mixin/modules/coTrade/components/stopOrder/stopOrder.js"],"names":["imgMap","colorMap","division","cut","nul","fixD","thousandsComma","name","data","marginModel","tableLoading","dialogConfirmLoading","tableDataList","formData_1","title","units","priceUnit","fix","errorText","value","formData_2","formData_3","formData_4","formData_5","formData_6","isMarket_profit","isMarket_loss","takeProfitCount","stopLossCount","takeProfitList","stopLossList","sumbitFla","cancelFla","expireTime","WsData","props","isShow","default","type","Boolean","close","Function","dataInfo","Object","computed","lanText","titleText","$t","text1","text2","text3","text4","text5","text6","text7","text8","text9","text10","text11","text12","text13","text14","text15","text16","text17","text18","text19","text20","text21","text22","text23","text24","text25","text26","text27","text28","text29","text30","columns1","columns2","columns3","columns4","columns5","columns6","columns7","columns8","columns9","columns10","time1","time2","time3","time4","userConfig","$store","state","future","futureUserConfig","coUnitType","volUnit","coUnit","columns","coUnittext","dialogConfirmDisabled","formVerify","positionVolume","positionVolumeOriginal","takeAmount","volume","openAvgPrice","orderSide","price","V1","volumeNumber","lossAmount","takeAmountRate","returnate","takelossAmount","takeOutProfit","length","forEach","item","i","next","triggerPrice","takeLoss","placeHolder_one","indexPrice","placeHolder_two","planTypeList","id","newPrice","contractType","symbol","replace","kay","toLowerCase","watch","val","brokerId","getStopList","initForm","formData1","Number","formData2","formData3","methods","init","$bus","$on","JSON","parse","setAmountFix","priceFix","amount","holdAmount","N3","volumeSheet","returnColor","vlaue","multiplier","multiplierCoin","quote","volfix","selectMarket","changeInput","axios","url","futures","takeProfitStopLoss","hostType","params","contractId","then","code","setlist","dataList","arr","push","setNumber","flag","formVerify_v2","reducePrice","canCloseVolume","$emit","text","priceRange","coinResultVo","range","Math","abs","submit","orderList","triggerType","expiredTime","paramsData","positionType","leverageLevel","side","createTpslOrder","msg","respList","catch","cancelOrder","idArr","orderTpslCancel","orderIds","join","num","selectPlanType"],"mappings":"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","sourcesContent":["import {\r\n  imgMap,\r\n  colorMap,\r\n  division,\r\n  cut,\r\n  nul,\r\n  fixD,\r\n  thousandsComma,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  name: 'stopOrderMode',\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      marginModel: 1,\r\n      tableLoading: false,\r\n      // 是否加载成功\r\n      dialogConfirmLoading: false,\r\n      //  表格数据\r\n      tableDataList: [],\r\n      // 表单\r\n      formData_1: {\r\n        title: '',\r\n        units: this.priceUnit,\r\n        fix: 8,\r\n        errorText: null,\r\n        value: null,\r\n      },\r\n      formData_2: {\r\n        title: '',\r\n        units: this.priceUnit,\r\n        fix: 8,\r\n        errorText: null,\r\n        value: null,\r\n      },\r\n      formData_3: {\r\n        title: '',\r\n        units: '',\r\n        fix: 8,\r\n        errorText: null,\r\n        value: null,\r\n      },\r\n      formData_4: {\r\n        title: '',\r\n        units: this.priceUnit,\r\n        fix: 8,\r\n        errorText: null,\r\n        value: null,\r\n      },\r\n      formData_5: {\r\n        title: '',\r\n        units: this.priceUnit,\r\n        fix: 8,\r\n        errorText: null,\r\n        value: null,\r\n      },\r\n      formData_6: {\r\n        title: '',\r\n        units: '',\r\n        fix: 8,\r\n        errorText: null,\r\n        value: null,\r\n      },\r\n      // 止盈是否是市价\r\n      isMarket_profit: true,\r\n      // 止损是否是市价\r\n      isMarket_loss: true,\r\n      // 止盈数量\r\n      takeProfitCount: null,\r\n      // 止损数量\r\n      stopLossCount: null,\r\n      // 止盈数量列表\r\n      takeProfitList: [],\r\n      // 止损数量列表\r\n      stopLossList: [],\r\n      // 防止重复提交\r\n      sumbitFla: true,\r\n      // 防止重复取消订单\r\n      cancelFla: true,\r\n      // 到期时间\r\n      expireTime: '14',\r\n      // 2小时行情数据WS\r\n      WsData: {},\r\n    };\r\n  },\r\n  props: {\r\n    isShow: {\r\n      default: false,\r\n      type: Boolean,\r\n    },\r\n    close: {\r\n      default() {},\r\n      type: Function,\r\n    },\r\n    dataInfo: {\r\n      default: () => {},\r\n      type: Object,\r\n    },\r\n  },\r\n  computed: {\r\n    lanText() {\r\n      return {\r\n        titleText: this.$t('futures.stopOrder.titleText'), // '止盈止损',\r\n        text1: this.$t('futures.stopOrder.text1'), // '止盈',\r\n        text2: this.$t('futures.stopOrder.text2'), // '撤销所有止盈单',\r\n        text3: this.$t('futures.stopOrder.text3'), // '止盈价需大于标记价格',\r\n        text4: this.$t('futures.stopOrder.text4'), // '止盈价需小于标记价格',\r\n        text5: this.$t('futures.stopOrder.text5'), // '预计盈亏',\r\n        text6: this.$t('futures.stopOrder.text6'), // '预计收益率',\r\n        text7: this.$t('futures.stopOrder.text7'), // '止损',\r\n        text8: this.$t('futures.stopOrder.text8'), // '撤销所有止损单',\r\n        text9: this.$t('futures.stopOrder.text9'), // '止损价需小于标记价格，大于强平价格',\r\n        text10: this.$t('futures.stopOrder.text10'), // '止损价需大于标记价格，小于强平价格',\r\n        text11: this.$t('futures.stopOrder.text11'), // '预计盈亏',\r\n        text12: this.$t('futures.stopOrder.text12'), // '预计收益率',\r\n        text13: this.$t('futures.stopOrder.text13'), // '止盈触发价',\r\n        text14: this.$t('futures.stopOrder.text14'), // '委托价格',\r\n        text15: this.$t('futures.stopOrder.text15'), // '委托数量',\r\n        text16: this.$t('futures.stopOrder.text16'), // '张',\r\n        text17: this.$t('futures.stopOrder.text17'), // '止损触发价',\r\n        text18: this.$t('futures.stopOrder.text18'), // '委托价格',\r\n        text19: this.$t('futures.stopOrder.text19'), // '量',\r\n        text20: this.$t('futures.stopOrder.text20'), // '价格',\r\n        text21: this.$t('futures.stopOrder.text21'), // '止盈价需大于标记价格！',\r\n        text22: this.$t('futures.stopOrder.text22'), // '止盈价需小于标记价格！',\r\n        text23: this.$t('futures.stopOrder.text23'), // '止损价需小于标记价格！',\r\n        text24: this.$t('futures.stopOrder.text24'), // '止损价需大于强平价格！',\r\n        text25: this.$t('futures.stopOrder.text25'), // '止损价需大于标记价格！',\r\n        text26: this.$t('futures.stopOrder.text26'), // '止损价需小于强平价格！',\r\n        text27: this.$t('futures.stopOrder.text27'), // '价格偏差太大！',\r\n        text28: this.$t('futures.stopOrder.text28'), // '超出可平数量！',\r\n        text29: this.$t('futures.stopOrder.text29'), // '有效期',\r\n        text30: this.$t('futures.stopOrder.text30'), // '市价',\r\n        columns1: this.$t('futures.stopOrder.columns1'), // '合约',\r\n        columns2: this.$t('futures.stopOrder.columns2'), // '仓位/可平',\r\n        columns3: this.$t('futures.stopOrder.columns3'), // '成本价',\r\n        columns4: this.$t('futures.stopOrder.columns4'), // '标记价格',\r\n        columns5: this.$t('futures.stopOrder.columns5'), // '强平价格',\r\n        columns6: this.$t('futures.stopOrder.columns6'), // '止盈触发价',\r\n        columns7: this.$t('futures.stopOrder.columns7'), // '委托价格',\r\n        columns8: this.$t('futures.stopOrder.columns8'), // '委托数量',\r\n        columns9: this.$t('futures.stopOrder.columns9'), // '止损触发价',\r\n        columns10: this.$t('futures.stopOrder.columns10'), // '最新价格',\r\n        time1: this.$t('futures.stopOrder.time1'), // '24H',\r\n        time2: this.$t('futures.stopOrder.time2'), // '7天',\r\n        time3: this.$t('futures.stopOrder.time3'), // '14天',\r\n        time4: this.$t('futures.stopOrder.time4'), // '30天',\r\n      };\r\n    },\r\n    // 用户配置信息\r\n    userConfig() {\r\n      return this.$store.state.future.futureUserConfig;\r\n    },\r\n    // 数量单位类型Number(1标的货币 2张)\r\n    coUnitType() {\r\n      return this.$store.state.future.coUnitType;\r\n    },\r\n    // 合约数量单位\r\n    volUnit() {\r\n      return this.$store.state.future.coUnit;\r\n    },\r\n    // 表头\r\n    columns() {\r\n      // '量 ' : '张'\r\n      const coUnittext = this.coUnitType === 1 ? this.lanText.text19 : this.lanText.text16;\r\n      return [\r\n        {\r\n          title: this.lanText.columns1, // '合约',\r\n        },\r\n        {\r\n          title: `${this.lanText.columns2}(${coUnittext})`, // 仓位/可平\r\n        },\r\n        {\r\n          title: this.lanText.columns3, // '成本价',\r\n        },\r\n        {\r\n          // title: this.lanText.columns4, // '标记价格',\r\n          title: this.lanText.columns10, // '最新价格',\r\n        },\r\n        {\r\n          title: this.lanText.columns5, // '强平价格',\r\n        },\r\n      ];\r\n    },\r\n    // 表头2\r\n    columns2() {\r\n      return [\r\n        {\r\n          title: this.lanText.columns6, //  '止盈触发价',\r\n        },\r\n        {\r\n          title: this.lanText.columns7, //  '委托价格',\r\n        },\r\n        {\r\n          title: this.lanText.columns8, //  '委托数量',\r\n        },\r\n      ];\r\n    },\r\n    // 表头3\r\n    columns3() {\r\n      return [\r\n        {\r\n          title: this.lanText.columns9, //  '止损触发价',\r\n        },\r\n        {\r\n          title: this.lanText.columns7, //  '委托价格',\r\n        },\r\n        {\r\n          title: this.lanText.columns8, //  '委托数量',\r\n        },\r\n      ];\r\n    },\r\n    // 是否禁止提交\r\n    dialogConfirmDisabled() {\r\n      return !this.formVerify();\r\n    },\r\n    // 仓位张数\r\n    positionVolume() {\r\n      // 直接取后台返回的张数\r\n      return this.dataInfo.positionVolumeOriginal;\r\n    },\r\n    // 止盈预计盈亏\r\n    takeAmount() {\r\n      let value = '0';\r\n      // 委托数量\r\n      const volume = this.formData_3.value;\r\n      // 成本价\r\n      const { openAvgPrice, orderSide } = this.dataInfo;\r\n      // 基础价格 （市价：触发价、 限价：委托价和）\r\n      const price = this.isMarket_profit ? this.formData_1.value : this.formData_2.value;\r\n      if (!volume || !price) return value;\r\n      let V1;\r\n      if (orderSide === 'BUY') {\r\n        // 多仓 基础价格 - 成本价\r\n        V1 = cut(price, openAvgPrice);\r\n      } else {\r\n        // 空仓 成本价 - 基础价格\r\n        V1 = cut(openAvgPrice, price);\r\n      }\r\n      // 市价止盈 = N1 * 委托数量\r\n      value = nul(V1, this.volumeNumber(volume));\r\n      return `${value}`;\r\n    },\r\n    // 止损预计盈亏\r\n    lossAmount() {\r\n      let value = '0';\r\n      const volume = this.formData_6.value;\r\n      // 成本价\r\n      const { openAvgPrice, orderSide } = this.dataInfo;\r\n      // 基础价格 （市价：触发价、 限价：委托价和）\r\n      const price = this.isMarket_loss ? this.formData_4.value : this.formData_5.value;\r\n      if (!volume || !price) return value;\r\n      let V1;\r\n      if (orderSide === 'BUY') {\r\n        // 多仓 基础价格 - 成本价\r\n        V1 = cut(price, openAvgPrice);\r\n      } else {\r\n        // 空仓 成本价 - 基础价格\r\n        V1 = cut(openAvgPrice, price);\r\n      }\r\n      // 市价止盈 = N1 * 委托数量\r\n      value = nul(V1, this.volumeNumber(volume));\r\n      return `${value}`;\r\n    },\r\n    // 止盈预计收益率\r\n    takeAmountRate() {\r\n      return this.returnate(this.takeAmount, this.formData_3.value);\r\n    },\r\n    // 止损预计收益率\r\n    takelossAmount() {\r\n      return this.returnate(this.lossAmount, this.formData_6.value);\r\n    },\r\n    // 获取止盈单最大或者最小触发价\r\n    takeOutProfit() {\r\n      if (!this.takeProfitList.length) return null;\r\n      const { orderSide } = this.dataInfo;\r\n      let value = this.takeProfitList[0];\r\n      this.takeProfitList.forEach((item, i) => {\r\n        const next = this.takeProfitList[i + 1] || {};\r\n        if (orderSide === 'SELL') {\r\n          // 空仓取最大触发价\r\n          value = value.triggerPrice < next.triggerPrice ? next : value;\r\n        } else {\r\n          // 多仓取最小触发价\r\n          value = value.triggerPrice > next.triggerPrice ? next : value;\r\n        }\r\n      });\r\n      return value;\r\n    },\r\n    // 获取止损单最大或者最小触发价\r\n    takeLoss() {\r\n      if (!this.stopLossList.length) return null;\r\n      const { orderSide } = this.dataInfo;\r\n      let value = this.stopLossList[0];\r\n      this.stopLossList.forEach((item, i) => {\r\n        const next = this.stopLossList[i + 1] || {};\r\n        if (orderSide === 'BUY') {\r\n          // 多仓取最大触发价\r\n          value = value.triggerPrice < next.triggerPrice ? next : value;\r\n        } else {\r\n          // 空仓取最小触发价\r\n          value = value.triggerPrice > next.triggerPrice ? next : value;\r\n        }\r\n      });\r\n      return value;\r\n    },\r\n    placeHolder_one() {\r\n      if (this.dataInfo.orderSide === 'BUY') {\r\n        // 价格\r\n        return `${this.lanText.text20} > ${this.thousandsComma(this.dataInfo.indexPrice)}`;\r\n      }\r\n      // 价格\r\n      return `${this.lanText.text20} < ${this.thousandsComma(this.dataInfo.indexPrice)}`;\r\n    },\r\n    placeHolder_two() {\r\n      // <p v-if=\"dataInfo.orderSide === 'BUY'\">止损价需小于标记价格，大于强平价格</p>\r\n      //     <p v-else>止损价需大于标记价格，小于强平价格</p>\r\n      if (this.dataInfo.orderSide === 'BUY') {\r\n        // 价格\r\n        return `${this.lanText.text20} < ${this.thousandsComma(this.dataInfo.indexPrice)}`;\r\n      }\r\n      // 价格\r\n      return `${this.lanText.text20} > ${this.thousandsComma(this.dataInfo.indexPrice)}`;\r\n    },\r\n    // 到期时间\r\n    planTypeList() {\r\n      return [\r\n        {\r\n          name: this.lanText.time1, // '24H',\r\n          id: '1',\r\n        },\r\n        {\r\n          name: this.lanText.time2, // '7天',\r\n          id: '7',\r\n        },\r\n        {\r\n          name: this.lanText.time3, // '14天',\r\n          id: '14',\r\n        },\r\n        {\r\n          name: this.lanText.time4, // '30天',\r\n          id: '30',\r\n        },\r\n      ];\r\n    },\r\n    // 最新价格\r\n    newPrice() {\r\n      if (this.WsData && this.dataInfo) {\r\n        const name = `${this.dataInfo.contractType}_${this.dataInfo.symbol.replace('-', '')}`;\r\n        const kay = name.toLowerCase();\r\n\r\n        if (this.WsData && this.WsData[kay]) {\r\n          return this.WsData[kay].close;\r\n        }\r\n        return 0.00;\r\n      }\r\n      return 0.00;\r\n    },\r\n  },\r\n  watch: {\r\n    dataInfo(val) {\r\n      if (val.brokerId) {\r\n        this.getStopList();\r\n        this.initForm();\r\n      }\r\n    },\r\n    isShow() {\r\n      this.initForm();\r\n    },\r\n    'formData_1.value': function formData1(value) {\r\n      if (value && Number(value)) {\r\n        this.formData_1.errorText = null;\r\n      }\r\n    },\r\n    'formData_2.value': function formData2(value) {\r\n      if (value && Number(value)) {\r\n        this.formData_2.errorText = null;\r\n      }\r\n    },\r\n    'formData_3.value': function formData3(value) {\r\n      if (value && Number(value)) {\r\n        this.formData_3.errorText = null;\r\n      }\r\n    },\r\n    'formData_4.value': function formData1(value) {\r\n      if (value && Number(value)) {\r\n        this.formData_4.errorText = null;\r\n      }\r\n    },\r\n    'formData_5.value': function formData2(value) {\r\n      if (value && Number(value)) {\r\n        this.formData_5.errorText = null;\r\n      }\r\n    },\r\n    'formData_6.value': function formData3(value) {\r\n      if (value && Number(value)) {\r\n        this.formData_6.errorText = null;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 接收24小时行情数据\r\n      this.$bus.$on('FUTURE_MARKET_DATA', (data) => {\r\n        this.WsData = JSON.parse(data);\r\n      });\r\n    },\r\n    // 设置精度\r\n    setAmountFix(data) {\r\n      const { priceFix } = this.dataInfo;\r\n      let fix = priceFix + 2;\r\n      if (fix > 8) {\r\n        fix = 8;\r\n      }\r\n      return this.thousandsComma(fixD(data, fix));\r\n    },\r\n    // 收益率(预计盈亏, 委托张数)\r\n    returnate(amount, volume) {\r\n      // 占用保证金\r\n      const { holdAmount } = this.dataInfo;\r\n      if (amount && holdAmount && volume) {\r\n        //  预计盈亏 / 占用保证金 / 委托张数  *  仓位张数\r\n        // const Nl = division(amount, holdAmount);\r\n        // const N2 = division(Nl, this.volumeSheet(volume));\r\n        // const N3 = nul(N2, this.positionVolume);\r\n        const N3 = ((amount / holdAmount) / this.volumeSheet(volume)) * this.positionVolume;\r\n        const value = N3 * 100;\r\n        return fixD(value, 2);\r\n      }\r\n      return 0.00;\r\n    },\r\n    // 设置数字的颜色\r\n    returnColor(vlaue) {\r\n      if (vlaue) {\r\n        if (Number(vlaue) < 0) return 'u-4-cl';\r\n        if (Number(vlaue) > 0) return 'u-1-cl';\r\n      }\r\n      return '';\r\n    },\r\n    // 委托数量 = 委托张数 * 合约面值\r\n    volumeNumber(volume) {\r\n      // 如果当前单位是张\r\n      if (this.coUnitType === 2) {\r\n        const { multiplier } = this.dataInfo;\r\n        // 转换成量\r\n        return multiplier ? nul(volume, multiplier) : 0;\r\n      }\r\n      return volume;\r\n    },\r\n    // 委托张数 = 委托数量 / 合约面值\r\n    volumeSheet(volume) {\r\n      // 如果当前单位是量\r\n      if (this.coUnitType === 1 && volume) {\r\n        const { multiplier } = this.dataInfo;\r\n        // 转换成张\r\n        return multiplier ? division(volume, multiplier) : 0;\r\n      }\r\n      return volume;\r\n    },\r\n    // 设置表单参数\r\n    initForm() {\r\n      let volUnit = this.dataInfo.multiplierCoin;\r\n      if (this.coUnitType === 2) {\r\n        volUnit = this.lanText.text16; // '张';\r\n      }\r\n\r\n      this.formData_1.title = this.lanText.text13; // '止盈触发价';\r\n      this.formData_2.title = this.lanText.text14; // '委托价格';\r\n      this.formData_3.title = this.lanText.text15; // '委托数量';\r\n      this.formData_4.title = this.lanText.text17; // '止损触发价';\r\n      this.formData_5.title = this.lanText.text18; // '委托价格';\r\n      this.formData_6.title = this.lanText.text15; // '委托数量';\r\n\r\n      this.formData_1.value = null;\r\n      this.formData_2.value = null;\r\n      this.formData_3.value = null;\r\n      this.formData_4.value = null;\r\n      this.formData_5.value = null;\r\n      this.formData_6.value = null;\r\n      this.formData_1.errorText = null;\r\n      this.formData_2.errorText = null;\r\n      this.formData_3.errorText = null;\r\n      this.formData_4.errorText = null;\r\n      this.formData_5.errorText = null;\r\n      this.formData_6.errorText = null;\r\n      this.formData_1.units = this.dataInfo.quote;\r\n      this.formData_1.fix = this.dataInfo.priceFix;\r\n      this.formData_2.units = this.dataInfo.quote;\r\n      this.formData_2.fix = this.dataInfo.priceFix;\r\n      this.formData_4.units = this.dataInfo.quote;\r\n      this.formData_4.fix = this.dataInfo.priceFix;\r\n      this.formData_5.units = this.dataInfo.quote;\r\n      this.formData_5.fix = this.dataInfo.priceFix;\r\n      this.formData_3.units = volUnit;\r\n      this.formData_6.units = volUnit;\r\n      if (this.coUnitType === 2) {\r\n        this.formData_3.fix = 0;\r\n        this.formData_6.fix = 0;\r\n      } else {\r\n        this.formData_3.fix = this.dataInfo.volfix;\r\n        this.formData_6.fix = this.dataInfo.volfix;\r\n      }\r\n    },\r\n    // 条件单切换 市价 and 限价\r\n    selectMarket(name) {\r\n      if (name === 'isMarket_profit') {\r\n        this.formData_2.value = '';\r\n      } else {\r\n        this.formData_5.value = '';\r\n      }\r\n      this[name] = !this[name];\r\n    },\r\n    // 表单输入事件\r\n    changeInput(type, value) {\r\n      this[type].value = value;\r\n    },\r\n    // 获取止盈止损类表\r\n    getStopList() {\r\n      this.axios({\r\n        url: this.$store.state.url.futures.takeProfitStopLoss,\r\n        hostType: 'co',\r\n        params: {\r\n          contractId: this.dataInfo.contractId,\r\n          orderSide: this.dataInfo.orderSide,\r\n        },\r\n      }).then((data) => {\r\n        if (data.code === '0' && data.data) {\r\n          this.takeProfitCount = data.data.takeProfitCount;\r\n          this.stopLossCount = data.data.stopLossCount;\r\n          const { takeProfitList, stopLossList } = data.data;\r\n          // 止盈列表\r\n          this.takeProfitList = this.setlist(takeProfitList);\r\n          // 止损列表\r\n          this.stopLossList = this.setlist(stopLossList);\r\n        }\r\n      });\r\n    },\r\n    // 设置数据列表\r\n    setlist(dataList) {\r\n      const { priceFix } = this.dataInfo;\r\n      const arr = [];\r\n      if (dataList && dataList.length) {\r\n        dataList.forEach((item) => {\r\n          arr.push({\r\n            // id\r\n            id: item.id,\r\n            // 触发价格\r\n            triggerPrice: fixD(item.triggerPrice, priceFix),\r\n            // 委托价格  // 市价\r\n            price: item.price === 0 ? this.lanText.text30\r\n              : this.thousandsComma(fixD(item.price, priceFix)),\r\n            // 委托数量\r\n            volume: this.setNumber(item.volume),\r\n          });\r\n        });\r\n        return arr;\r\n      }\r\n      return arr;\r\n    },\r\n    // 设置数量（张数和数量的转换）\r\n    setNumber(volume, type) {\r\n      const { multiplier, volfix } = this.dataInfo;\r\n      if (this.coUnitType === 1 && volume && multiplier) {\r\n        // 把量换成张\r\n        if (type === 2) {\r\n          return fixD(division(volume, multiplier), 0);\r\n        }\r\n        // 把张换成量\r\n        return fixD(nul(volume, multiplier), volfix);\r\n      }\r\n      return volume;\r\n    },\r\n    // 表单验证\r\n    formVerify() {\r\n      let flag = true;\r\n      // 非空验证\r\n      if (this.formData_1.value || this.formData_3.value) {\r\n        if (!this.formData_1.value\r\n          || !this.formData_3.value\r\n          || (!this.formData_2.value && !this.isMarket_profit)) {\r\n          flag = false;\r\n        }\r\n      }\r\n      if (this.formData_4.value || this.formData_6.value) {\r\n        if (!this.formData_4.value\r\n          || !this.formData_6.value\r\n          || (!this.formData_5.value && !this.isMarket_loss)) {\r\n          flag = false;\r\n        }\r\n      }\r\n      if (!this.formData_1.value && !this.formData_4.value) {\r\n        flag = false;\r\n      }\r\n      return flag;\r\n    },\r\n    formVerify_v2() {\r\n      const flag = true;\r\n      //  标记价格, 强平价格, 可平数量 , 方向（BUY多长 SELL空仓）\r\n      const {\r\n        indexPrice, reducePrice, canCloseVolume, orderSide,\r\n      } = this.dataInfo;\r\n      // 验证止盈触发价\r\n      if (this.formData_1.value && indexPrice) {\r\n        if (orderSide === 'BUY') {\r\n          if (Number(this.formData_1.value) <= Number(indexPrice)) {\r\n            // 止盈价需大于标记价格！\r\n            this.$bus.$emit('tip', { text: this.lanText.text21, type: 'error' });\r\n            this.formData_1.errorText = 'true';\r\n            return false;\r\n          }\r\n        } else if (Number(this.formData_1.value) >= Number(indexPrice)) {\r\n          // 止盈价需小于标记价格！\r\n          this.$bus.$emit('tip', { text: this.lanText.text22, type: 'error' });\r\n          this.formData_1.errorText = 'true';\r\n          return false;\r\n        }\r\n      }\r\n      // 验证止损触发价\r\n      if (this.formData_4.value && indexPrice) {\r\n        // 多仓\r\n        if (orderSide === 'BUY') {\r\n          // 判断标记价格（多仓）\r\n          if (Number(this.formData_4.value) >= Number(indexPrice)) {\r\n            //  '止损价需小于标记价格\r\n            this.$bus.$emit('tip', { text: this.lanText.text23, type: 'error' });\r\n            this.formData_4.errorText = 'true';\r\n            return false;\r\n          }\r\n          // 判断强平价格（多仓）\r\n          if (Number(this.formData_4.value) <= Number(reducePrice)) {\r\n            // '止损价需大于强平价格！'\r\n            this.$bus.$emit('tip', { text: this.lanText.text24, type: 'error' });\r\n            this.formData_4.errorText = 'true';\r\n            return false;\r\n          }\r\n          // 判断标记价格（空仓）\r\n        } else if (Number(this.formData_4.value) <= Number(indexPrice)) {\r\n          // '止损价需大于标记价格！'\r\n          this.$bus.$emit('tip', { text: this.lanText.text25, type: 'error' });\r\n          this.formData_4.errorText = 'true';\r\n          return false;\r\n          // 判断强平价格（空仓）\r\n        } else if (Number(this.formData_4.value) >= Number(reducePrice)) {\r\n          // 止损价需小于强平价格！\r\n          this.$bus.$emit('tip', { text: this.lanText.text26, type: 'error' });\r\n          this.formData_4.errorText = 'true';\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // 验证止盈委托价格\r\n      if (this.formData_2.value && this.formData_1.value) {\r\n        // 当前输入的价格和出发价的比例 (触发价格 - 输入的价格) / 触发价格\r\n        const { priceRange } = this.dataInfo.coinResultVo;\r\n        const range = Math.abs(\r\n          division(cut(this.formData_1.value, this.formData_2.value),\r\n            this.formData_1.value),\r\n        );\r\n        if ((range > priceRange)) {\r\n          // '价格偏差太大！'\r\n          this.$bus.$emit('tip', { text: this.lanText.text27, type: 'error' });\r\n          this.formData_2.errorText = 'true';\r\n          return false;\r\n        }\r\n      }\r\n      // 验证止损委托价格\r\n\r\n      if (this.formData_3.value && canCloseVolume) {\r\n        if (Number(canCloseVolume) < Number(this.formData_3.value)) {\r\n          // 超出可平数量！\r\n          this.$bus.$emit('tip', { text: this.lanText.text28, type: 'error' });\r\n          this.formData_3.errorText = 'true';\r\n          return false;\r\n        }\r\n      }\r\n      if (this.formData_6.value && canCloseVolume) {\r\n        if (Number(canCloseVolume) < Number(this.formData_6.value)) {\r\n          // 超出可平数量！\r\n          this.$bus.$emit('tip', { text: this.lanText.text28, type: 'error' });\r\n          this.formData_6.errorText = 'true';\r\n          return false;\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    // 提交订单\r\n    submit() {\r\n      if (!this.formVerify()) return;\r\n      if (!this.formVerify_v2()) return;\r\n      if (!this.sumbitFla) return;\r\n      this.sumbitFla = false;\r\n      const orderList = [];\r\n      if (this.formData_1.value) {\r\n        orderList.push({\r\n          triggerType: 2,\r\n          type: this.isMarket_profit ? 2 : 1,\r\n          price: this.isMarket_profit ? 0 : this.formData_2.value,\r\n          volume: this.setNumber(this.formData_3.value, 2),\r\n          triggerPrice: this.formData_1.value,\r\n          // expiredTime: this.expireTime,\r\n        });\r\n      }\r\n      if (this.formData_4.value) {\r\n        orderList.push({\r\n          triggerType: 1,\r\n          type: this.isMarket_loss ? 2 : 1,\r\n          price: this.isMarket_loss ? 0 : this.formData_5.value,\r\n          volume: this.setNumber(this.formData_6.value, 2),\r\n          triggerPrice: this.formData_4.value,\r\n          expiredTime: this.expireTime,\r\n        });\r\n      }\r\n      const paramsData = {\r\n        contractId: this.dataInfo.contractId,\r\n        positionType: this.dataInfo.positionType,\r\n        leverageLevel: this.dataInfo.leverageLevel,\r\n        side: this.dataInfo.orderSide === 'BUY' ? 'SELL' : 'BUY',\r\n        orderList,\r\n      };\r\n      this.axios({\r\n        url: this.$store.state.url.futures.createTpslOrder,\r\n        hostType: 'co',\r\n        params: paramsData,\r\n      }).then((data) => {\r\n        if (data.code === '0') {\r\n          this.close();\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n        } else {\r\n          const { respList } = data.data;\r\n          if (respList && respList.length) {\r\n            respList.forEach((item) => {\r\n              if (item.code === '0') {\r\n                this.close();\r\n                this.$bus.$emit('tip', { text: item.msg, type: 'success' });\r\n              } else {\r\n                this.$bus.$emit('tip', { text: item.msg, type: 'error' });\r\n              }\r\n            });\r\n          }\r\n        }\r\n        this.sumbitFla = true;\r\n      }).catch(() => {\r\n        this.sumbitFla = true;\r\n      });\r\n    },\r\n    // 取消全部订单\r\n    cancelOrder(type) {\r\n      if (!this.cancelFla) return;\r\n      this.cancelFla = false;\r\n      const idArr = [];\r\n      if (type === 1) {\r\n        this.takeProfitList.forEach((item) => {\r\n          idArr.push(item.id);\r\n        });\r\n      } else {\r\n        this.stopLossList.forEach((item) => {\r\n          idArr.push(item.id);\r\n        });\r\n      }\r\n      this.axios({\r\n        url: this.$store.state.url.futures.orderTpslCancel,\r\n        hostType: 'co',\r\n        params: {\r\n          contractId: this.dataInfo.contractId,\r\n          orderIds: idArr.join(','),\r\n        },\r\n      }).then((data) => {\r\n        if (data.code === '0') {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'success' });\r\n          this.getStopList();\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n        this.cancelFla = true;\r\n      }).catch(() => {\r\n        this.cancelFla = true;\r\n      });\r\n    },\r\n    thousandsComma(num) {\r\n      if (num) {\r\n        return thousandsComma(num);\r\n      }\r\n      return num;\r\n    },\r\n    // 选择 到期时间\r\n    selectPlanType(val) {\r\n      this.expireTime = val;\r\n    },\r\n  },\r\n};\r\n"]}]}