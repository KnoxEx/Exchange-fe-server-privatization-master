{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/InviteCodeManagement/InviteCodeManagement.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/InviteCodeManagement/InviteCodeManagement.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n// @ is an alias to /src\nimport { getComplexType, formatTime, imgMap, colorMap } from '@/utils';\nexport default {\n  name: 'inviteCodeManagement',\n  watch: {\n    userInfo: function userInfo(_userInfo) {\n      if (_userInfo !== null) {\n        this.inviteCode = _userInfo.inviteCode;\n        this.inviteQECode = _userInfo.inviteQECode;\n        this.inviteUrl = _userInfo.inviteUrl;\n      }\n    },\n    inviteInfoList: function inviteInfoList(_inviteInfoList) {\n      if (_inviteInfoList !== null) {\n        this.loading = false;\n        this.inviteNumber = _inviteInfoList.invite_number;\n        this.count = Number(_inviteInfoList.invite_number);\n        this.inviteReturnNumber = _inviteInfoList.invite_return_number;\n        this.processData(_inviteInfoList.invite_list);\n      }\n    }\n  },\n  computed: {\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    inviteInfoList: function inviteInfoList() {\n      return this.$store.state.personal.inviteInfoList;\n    },\n    friendImg: function friendImg() {\n      return imgMap.friend;\n    }\n  },\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      inviteCodeShow: true,\n      inviteUrlShow: true,\n      loading: true,\n      inviteCode: '',\n      inviteQECode: '',\n      inviteQECodeShow: false,\n      inviteUrl: '',\n      inviteNumber: '',\n      inviteReturnNumber: '',\n      // table 参数\n      columns: [{\n        title: this.$t('personal.inviteCodeManagement.columns')[0],\n        align: 'left',\n        width: '200px',\n        classes: ''\n      }, {\n        title: this.$t('personal.inviteCodeManagement.columns')[1],\n        align: 'center',\n        width: ''\n      }],\n      dataList: [],\n      cellHeight: 55,\n      headHeight: 30,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      count: 0,\n      page: 1,\n      pageSize: 10\n    };\n  },\n  methods: {\n    init: function init() {\n      var info = {\n        page: this.page,\n        pageSize: this.pageSize\n      };\n      this.$store.dispatch('inviteInfoList', info);\n      var userInfo = this.$store.state.baseData.userInfo;\n      this.inviteCode = userInfo.inviteCode;\n      this.inviteQECode = userInfo.inviteQECode;\n      this.inviteUrl = userInfo.inviteUrl;\n    },\n    handMouseenter: function handMouseenter(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = false;\n      } else {\n        this.inviteUrlShow = false;\n      }\n    },\n    handMouseleave: function handMouseleave(name) {\n      if (name === 'inviteCode') {\n        this.inviteCodeShow = true;\n      } else {\n        this.inviteUrlShow = true;\n      }\n    },\n    copyClick: function copyClick(name) {\n      if (name === 'inviteCode') {\n        this.copy(this.inviteCode);\n      } else {\n        this.copy(this.inviteUrl);\n      }\n    },\n    copy: function copy(str) {\n      // this.$bus.$emit('tip', { text: this.$t('personal.prompt.copySucces'), type: 'success' });\n      function save(e) {\n        e.clipboardData.setData('text/plain', str); // 下面会说到clipboardData对象\n\n        e.preventDefault(); // 阻止默认行为\n      }\n\n      document.addEventListener('copy', save);\n      document.execCommand('copy'); // 使文档处于可编辑状态，否则无效\n\n      document.removeEventListener('copy', save);\n    },\n    processData: function processData(list) {\n      // 处理数据\n      if (getComplexType(list) === 'Array') {\n        this.dataList = list.map(function (obj) {\n          return {\n            data: [formatTime(obj.register_time), obj.invitee]\n          };\n        });\n      }\n    },\n    pagechange: function pagechange(page) {\n      this.page = page;\n      var info = {\n        page: page,\n        pageSize: this.pageSize\n      };\n      this.$store.dispatch('inviteInfoList', info);\n    }\n  }\n};",null]}