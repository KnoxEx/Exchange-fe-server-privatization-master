{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/h/partTimeJob/blockchain-ui-privatization/PC/components/verify/geetest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/components/verify/geetest.vue","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'common-geetest',\n  data: function data() {\n    return {\n      nowState: false,\n      // 当前状态 true可滑动 false不可滑动 用于下划线时判断\n      isHover: false,\n      // 是否划过\n      isReady: false // 是否准备成功\n\n    };\n  },\n  props: {\n    product: {\n      default: '',\n      type: String\n    },\n    width: {\n      default: '100%',\n      type: String\n    },\n    // 该容器根容器 width属性\n    marginTop: {\n      default: '0px',\n      type: String\n    },\n    // 该组件根容器 margin-top属性\n    errorHave: {\n      default: false,\n      type: Boolean\n    },\n    // 是否有错误文案\n    errorText: {\n      default: '',\n      type: String\n    },\n    // 错误文案\n    errorFlag: {\n      default: false,\n      type: Boolean\n    },\n    // 错误文案是否显示\n    geetestBg: {\n      default: 'a-7-bg',\n      type: String\n    },\n    // 极验的背景颜色\n    colorMap: {\n      default: function _default() {},\n      required: true\n    }\n  },\n  computed: {\n    lan: function lan() {\n      return this.$store.state.baseData.lan;\n    },\n    geetestLan: function geetestLan() {\n      var language = ''; // 简体中文\n\n      if (this.lan === 'zh_CN') {\n        language = 'zh-cn'; // 繁体中文\n      } else if (this.lan === 'el_GR') {\n        language = 'zh-hk'; // 葡萄牙\n      } else if (this.lan === 'pt_PT') {\n        language = 'pt-pt';\n      } else {\n        var arr = ['en', // 英文\n        'ja', // 日文\n        'id', // 印尼\n        'ko', // 韩语\n        'ru', // 俄语\n        'ar', // 阿拉伯\n        'es', // 西班牙语\n        'fr', // 法语\n        'de' // 德语\n        ];\n\n        if (this.lan.length && this.lan.split('_').length) {\n          if (arr.indexOf(this.lan.split('_')[0].toLowerCase()) !== -1) {\n            var _this$lan$split = this.lan.split('_'),\n                _this$lan$split2 = _slicedToArray(_this$lan$split, 1),\n                lans = _this$lan$split2[0];\n\n            language = lans;\n          }\n        }\n      }\n\n      if (!language.length) {\n        language = 'en';\n      }\n\n      return language;\n    },\n    // 根容器 行内样式\n    contentStyle: function contentStyle() {\n      return {\n        width: this.width,\n        marginTop: this.marginTop\n      };\n    },\n    // 基础占位容器 class\n    baseStanceClass: function baseStanceClass() {\n      if (this.errorHave && this.errorFlag) {\n        return 'common-geetest-baseStance-error';\n      }\n\n      return '';\n    },\n    // 下横向 行内样式\n    activeLineStyle: function activeLineStyle() {\n      var width = '0%';\n\n      if (this.nowState && this.isHover || this.errorHave && this.errorFlag) {\n        width = '100%';\n      }\n\n      return {\n        width: width\n      };\n    },\n    // 下横线 class\n    activeLineClass: function activeLineClass() {\n      var className = 'a-12-bg';\n\n      if (this.errorHave && this.errorFlag && !this.isFocus) {\n        className = 'a-19-bg';\n      }\n\n      return className;\n    }\n  },\n  created: function created() {\n    this.init();\n  },\n  methods: {\n    // input 鼠标划入\n    handMouseenter: function handMouseenter() {\n      this.isHover = true;\n    },\n    // input 鼠标划出\n    handMouseleave: function handMouseleave() {\n      this.isHover = false;\n    },\n    init: function init() {\n      var _this = this;\n\n      this.axios({\n        url: 'common/tartCaptcha',\n        headers: {},\n        params: {},\n        method: 'post'\n      }).then(function (data) {\n        if (data.code === '0') {\n          _this.geetest({\n            challenge: data.data.captcha.challenge,\n            gt: data.data.captcha.gt,\n            success: data.data.captcha.success\n          });\n        }\n      });\n    },\n    setStyle: function setStyle() {\n      var colorMap = this.colorMap;\n      var radar = document.getElementsByClassName('geetest_radar_tip_content');\n      var reset = document.getElementsByClassName('geetest_reset_tip_content');\n      var geetestRadarBtn = document.getElementsByClassName('geetest_radar_btn');\n      var geetestSuccessBtn = document.getElementsByClassName('geetest_success_btn');\n\n      if (colorMap) {\n        if (radar && radar.length) {\n          radar[0].style.color = colorMap['b-2-cl'];\n        }\n\n        if (reset && reset.length) {\n          reset[0].style.color = colorMap['b-2-cl'];\n        }\n\n        if (geetestRadarBtn && geetestRadarBtn.length) {\n          geetestRadarBtn[0].style.background = colorMap[this.geetestBg];\n        }\n\n        if (geetestSuccessBtn && geetestSuccessBtn.length) {\n          geetestSuccessBtn[0].style.background = colorMap[this.geetestBg];\n        }\n      }\n    },\n    // 构件极验\n    geetest: function geetest(_ref) {\n      var _this2 = this;\n\n      var challenge = _ref.challenge,\n          gt = _ref.gt,\n          success = _ref.success;\n      var product = this.product ? this.product : 'popup';\n      window.initGeetest({\n        // 以下 4 个配置参数为必须，不能缺少\n        product: product,\n        lang: this.geetestLan,\n        gt: gt,\n        challenge: challenge,\n        offline: !success,\n        // 表示用户后台检测极验服务器是否宕机\n        new_captcha: true,\n        // 用于宕机时表示是新验证码的宕机\n        width: '100%'\n      }, function (captchaObj) {\n        _this2.nowState = true;\n        captchaObj.appendTo(_this2.$refs.captchaBox);\n\n        _this2.$emit('getCaptchaObj', captchaObj);\n\n        captchaObj.onReady(function () {\n          _this2.isReady = true;\n\n          _this2.$nextTick(function () {\n            _this2.setStyle();\n          });\n        });\n        captchaObj.onError(function () {});\n        captchaObj.onSuccess(function () {\n          _this2.nowState = false;\n          var result = captchaObj.getValidate();\n          setTimeout(function () {\n            _this2.$emit('callback', {\n              geetest_challenge: result.geetest_challenge,\n              geetest_seccode: result.geetest_seccode,\n              geetest_validate: result.geetest_validate,\n              verificationType: '2',\n              token: true,\n              nc: Object.assign(captchaObj, {\n                reset: captchaObj.reset\n              })\n            });\n          }, 300);\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["geetest.vue"],"names":[],"mappings":"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","sourcesContent":["// Created by 任泽阳 on 18/12/07. // 极验\r\n<template>\r\n  <section class='common-geetest' :style='contentStyle'>\r\n    <!-- 基础部分 占位42px -->\r\n    <div\r\n      class='common-geetest-baseStance a-2-bd'\r\n      :class='baseStanceClass'\r\n      @mouseenter='handMouseenter'\r\n      @mouseleave='handMouseleave'\r\n    >\r\n      <div v-if='!isReady' class='common-geetest-loading'>\r\n        <c-loading size='20' />\r\n      </div>\r\n      <div id='captchaBox' class='a-5-bg' ref='captchaBox'></div>\r\n      <!-- 选中时横线 -->\r\n      <span\r\n        class='common-geetest-activeLine'\r\n        :class='activeLineClass'\r\n        :style='activeLineStyle'\r\n      ></span>\r\n    </div>\r\n    <!-- 错误文案占位 24px -->\r\n    <div class='common-geetest-errorStence b-6-cl' v-if='errorHave'>\r\n      <!-- 错误信息容器 -->\r\n      <p class='common-geetest-error' v-if='errorFlag'>{{ errorText }}</p>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'common-geetest',\r\n  data() {\r\n    return {\r\n      nowState: false, // 当前状态 true可滑动 false不可滑动 用于下划线时判断\r\n      isHover: false, // 是否划过\r\n      isReady: false, // 是否准备成功\r\n    };\r\n  },\r\n  props: {\r\n    product: { default: '', type: String },\r\n    width: { default: '100%', type: String }, // 该容器根容器 width属性\r\n    marginTop: { default: '0px', type: String }, // 该组件根容器 margin-top属性\r\n    errorHave: { default: false, type: Boolean }, // 是否有错误文案\r\n    errorText: { default: '', type: String }, // 错误文案\r\n    errorFlag: { default: false, type: Boolean }, // 错误文案是否显示\r\n    geetestBg: { default: 'a-7-bg', type: String }, // 极验的背景颜色\r\n    colorMap: { default: () => {}, required: true },\r\n  },\r\n  computed: {\r\n    lan() {\r\n      return this.$store.state.baseData.lan;\r\n    },\r\n    geetestLan() {\r\n      let language = '';\r\n      // 简体中文\r\n      if (this.lan === 'zh_CN') {\r\n        language = 'zh-cn';\r\n        // 繁体中文\r\n      } else if (this.lan === 'el_GR') {\r\n        language = 'zh-hk';\r\n        // 葡萄牙\r\n      } else if (this.lan === 'pt_PT') {\r\n        language = 'pt-pt';\r\n      } else {\r\n        const arr = [\r\n          'en', // 英文\r\n          'ja', // 日文\r\n          'id', // 印尼\r\n          'ko', // 韩语\r\n          'ru', // 俄语\r\n          'ar', // 阿拉伯\r\n          'es', // 西班牙语\r\n          'fr', // 法语\r\n          'de', // 德语\r\n        ];\r\n        if (this.lan.length && this.lan.split('_').length) {\r\n          if (arr.indexOf(this.lan.split('_')[0].toLowerCase()) !== -1) {\r\n            const [lans] = this.lan.split('_');\r\n            language = lans;\r\n          }\r\n        }\r\n      }\r\n      if (!language.length) {\r\n        language = 'en';\r\n      }\r\n      return language;\r\n    },\r\n    // 根容器 行内样式\r\n    contentStyle() {\r\n      return {\r\n        width: this.width,\r\n        marginTop: this.marginTop,\r\n      };\r\n    },\r\n    // 基础占位容器 class\r\n    baseStanceClass() {\r\n      if (this.errorHave && this.errorFlag) {\r\n        return 'common-geetest-baseStance-error';\r\n      }\r\n      return '';\r\n    },\r\n    // 下横向 行内样式\r\n    activeLineStyle() {\r\n      let width = '0%';\r\n      if (\r\n        (this.nowState && this.isHover)\r\n        || (this.errorHave && this.errorFlag)\r\n      ) {\r\n        width = '100%';\r\n      }\r\n      return {\r\n        width,\r\n      };\r\n    },\r\n    // 下横线 class\r\n    activeLineClass() {\r\n      let className = 'a-12-bg';\r\n      if (this.errorHave && this.errorFlag && !this.isFocus) {\r\n        className = 'a-19-bg';\r\n      }\r\n      return className;\r\n    },\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    // input 鼠标划入\r\n    handMouseenter() {\r\n      this.isHover = true;\r\n    },\r\n    // input 鼠标划出\r\n    handMouseleave() {\r\n      this.isHover = false;\r\n    },\r\n    init() {\r\n      this.axios({\r\n        url: 'common/tartCaptcha',\r\n        headers: {},\r\n        params: {},\r\n        method: 'post',\r\n      }).then((data) => {\r\n        if (data.code === '0') {\r\n          this.geetest({\r\n            challenge: data.data.captcha.challenge,\r\n            gt: data.data.captcha.gt,\r\n            success: data.data.captcha.success,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    setStyle() {\r\n      const { colorMap } = this;\r\n      const radar = document.getElementsByClassName(\r\n        'geetest_radar_tip_content',\r\n      );\r\n      const reset = document.getElementsByClassName(\r\n        'geetest_reset_tip_content',\r\n      );\r\n      const geetestRadarBtn = document.getElementsByClassName(\r\n        'geetest_radar_btn',\r\n      );\r\n      const geetestSuccessBtn = document.getElementsByClassName(\r\n        'geetest_success_btn',\r\n      );\r\n\r\n      if (colorMap) {\r\n        if (radar && radar.length) {\r\n          radar[0].style.color = colorMap['b-2-cl'];\r\n        }\r\n        if (reset && reset.length) {\r\n          reset[0].style.color = colorMap['b-2-cl'];\r\n        }\r\n        if (geetestRadarBtn && geetestRadarBtn.length) {\r\n          geetestRadarBtn[0].style.background = colorMap[this.geetestBg];\r\n        }\r\n        if (geetestSuccessBtn && geetestSuccessBtn.length) {\r\n          geetestSuccessBtn[0].style.background = colorMap[this.geetestBg];\r\n        }\r\n      }\r\n    },\r\n    // 构件极验\r\n    geetest({ challenge, gt, success }) {\r\n      const product = this.product ? this.product : 'popup';\r\n      window.initGeetest(\r\n        {\r\n          // 以下 4 个配置参数为必须，不能缺少\r\n          product,\r\n          lang: this.geetestLan,\r\n          gt,\r\n          challenge,\r\n          offline: !success, // 表示用户后台检测极验服务器是否宕机\r\n          new_captcha: true, // 用于宕机时表示是新验证码的宕机\r\n          width: '100%',\r\n        },\r\n        (captchaObj) => {\r\n          this.nowState = true;\r\n          captchaObj.appendTo(this.$refs.captchaBox);\r\n          this.$emit('getCaptchaObj', captchaObj);\r\n          captchaObj.onReady(() => {\r\n            this.isReady = true;\r\n            this.$nextTick(() => {\r\n              this.setStyle();\r\n            });\r\n          });\r\n          captchaObj.onError(() => {});\r\n          captchaObj.onSuccess(() => {\r\n            this.nowState = false;\r\n            const result = captchaObj.getValidate();\r\n            setTimeout(() => {\r\n              this.$emit('callback', {\r\n                geetest_challenge: result.geetest_challenge,\r\n                geetest_seccode: result.geetest_seccode,\r\n                geetest_validate: result.geetest_validate,\r\n                verificationType: '2',\r\n                token: true,\r\n                nc: Object.assign(captchaObj, { reset: captchaObj.reset }),\r\n              });\r\n            }, 300);\r\n          });\r\n        },\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang='stylus'>\r\n// 根容器\r\n.common-geetest {\r\n  // 基础占位容器 (默认)\r\n  .common-geetest-baseStance {\r\n    position: relative;\r\n    height: 38px;\r\n    border-bottom-width: 2px;\r\n    border-bottom-style: solid;\r\n    // 下划线动效容器\r\n    .common-geetest-activeLine {\r\n      position: absolute;\r\n      top: 38px;\r\n      height: 2px;\r\n      width: 0%;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      display: inline-block;\r\n      -webkit-transition: 0.5s;\r\n      transition: 0.5s;\r\n      animation-delay: 0.5s\r\n    }\r\n    // loading容器\r\n    .common-geetest-loading {\r\n      position: absolute;\r\n      height: 30px;\r\n      line-height: 30px;\r\n      bottom: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      font-size: 14px\r\n    }\r\n  }\r\n  // 基础占位容器 (错误时)\r\n  .common-geetest-baseStance-error {\r\n  }\r\n  // 错误信息占位容器\r\n  .common-geetest-errorStence {\r\n    height: 24px;\r\n    position: relative;\r\n    // 错误文案容器\r\n    .common-geetest-error {\r\n      position: absolute;\r\n      bottom: 2px;\r\n      margin: 0;\r\n      font-size: 12px;\r\n      user-select:none;\r\n    }\r\n  }\r\n}\r\n\r\n// 极验样式部分\r\n#captchaBox {\r\n  // 极验 自身最外层盒子\r\n  .geetest_wind {\r\n    height: 38px;\r\n  }\r\n  // 初始状态 小icon部分\r\n  .geetest_radar {\r\n    width: 24px;\r\n    height: 24px;\r\n    top: 3px;\r\n  }\r\n  // 初始状态 重试状态 文字部分\r\n  .geetest_radar_tip_content, geetest_reset_tip_content {\r\n    font-size: 14px;\r\n  }\r\n  .geetest_reset_tip_content\r\n  // 文字部分盒子\r\n  .geetest_radar_tip {\r\n    height: 38px;\r\n    line-height: 42px;\r\n  }\r\n  // 等待状态\r\n  .geetest_holder.geetest_wind.geetest_radar_click_ready .geetest_radar_tip {\r\n    opacity: 1\r\n  }\r\n  // loading\r\n  .geetest_radar_btn {\r\n  }\r\n  .geetest_holder.geetest_wind .geetest_radar_btn ,\r\n  .geetest_holder.geetest_wind .geetest_radar_btn:hover{\r\n    background: none;\r\n    border: none;\r\n  }\r\n  // 成功后\r\n  .geetest_holder.geetest_wind .geetest_success_btn,\r\n  .geetest_holder.geetest_wind .geetest_success_btn:hover {\r\n    border: none;\r\n    height: 38px;\r\n    background-color transparent;\r\n  }\r\n  .geetest_holder.geetest_wind .geetest_success_btn .geetest_success_box .geetest_success_show {\r\n    background: none;\r\n    border: none;\r\n  }\r\n  .geetest_logo,\r\n  .geetest_success_logo {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"../blockchain-ui-privatization/PC/components/verify"}]}