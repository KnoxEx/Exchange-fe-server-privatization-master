{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/lowerInfo/lowerInfo.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/lowerInfo/lowerInfo.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport { imgMap, colorMap, formatTime, fixD } from '@/utils';\nexport default {\n  data: function data() {\n    return {\n      loading: true,\n      imgMap: imgMap,\n      colorMap: colorMap,\n      dataList: [],\n      cellHeight: 55,\n      headHeight: 30,\n      lineNumber: 10,\n      classes: '',\n      headClasses: '',\n      bodyClasses: '',\n      lineClass: '',\n      // 数据相关\n      listPage: {\n        count: 0,\n        // 总条数\n        page: 1,\n        // 当前page\n        pageSize: 10 // 每页显示\n\n      },\n      startTime: '',\n      endTime: '',\n      uidValue: '',\n      phoneValue: '',\n      findFlagLoad: false\n    };\n  },\n  computed: {\n    startTimeNum: function startTimeNum() {\n      return (new Date(this.startTime.replace(/-/g, '/')).getTime() / 1000).toString();\n    },\n    endTimeNum: function endTimeNum() {\n      return (new Date(this.endTime.replace(/-/g, '/')).getTime() / 1000).toString();\n    },\n    startTimeText: function startTimeText() {\n      return this.$t('broker.startTime');\n    },\n    endTimeText: function endTimeText() {\n      return this.$t('freeStaking.myPos.endTime');\n    },\n    navTab: function navTab() {\n      return [{\n        name: this.$t('brokerSystem.commissionNavTab[0]'),\n        index: 1\n      }, {\n        name: this.$t('brokerSystem.commissionNavTab[1]'),\n        index: 2\n      }];\n    },\n    usdtFix: function usdtFix() {\n      var fix = 0;\n\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\n        fix = this.market.coinList.USDT.showPrecision;\n      }\n\n      return fix;\n    },\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    columns: function columns() {\n      return [{\n        title: this.$t('brokerSystem.lowerTable[0]'),\n        align: 'left',\n        width: '100px',\n        classes: ''\n      }, {\n        title: this.$t('brokerSystem.lowerTable[1]')\n      }, {\n        title: this.$t('brokerSystem.lowerTable[2]')\n      }, // {\n      //   title: this.$t('brokerSystem.lowerTable[3]'),\n      //   width: '100px',\n      // },\n      // {\n      //   title: this.$t('brokerSystem.lowerTable[4]'),\n      // },\n      {\n        title: this.$t('brokerSystem.lowerTable[5]')\n      }, {\n        title: this.$t('brokerSystem.lowerTable[6]'),\n        width: '100px'\n      }, {\n        title: this.$t('brokerSystem.commissionTable[1]'),\n        width: '100px'\n      }, {\n        title: this.$t('brokerSystem.lowerTable[7]'),\n        width: '150px',\n        align: 'right'\n      }];\n    }\n  },\n  methods: {\n    pagechange: function pagechange(v) {\n      this.listPage.page = v;\n      this.getDate();\n    },\n    init: function init() {\n      this.startTime = this.getNowTime(this.getMonth(-1));\n      this.endTime = this.getNowTime(this.getMonth(0));\n      this.getDate();\n    },\n    getFix: function getFix(v) {\n      var fix = 2;\n\n      if (this.market && this.market.coinList && this.market.coinList[v]) {\n        fix = this.market.coinList[v].showPrecision;\n      }\n\n      return fix;\n    },\n    getDate: function getDate() {\n      var _this = this;\n\n      this.axios({\n        url: 'co/agent/user_list',\n        hostType: 'fe-increment-api',\n        params: {\n          page: this.listPage.page,\n          pageSize: this.listPage.pageSize,\n          startDate: formatTime(new Date(this.startTime).getTime()),\n          endDate: formatTime(new Date(this.endTime).getTime()),\n          uid: this.uidValue || undefined,\n          username: this.phoneValue || undefined // coin: this.coin === 'all' ? undefined : this.coin,\n\n        }\n      }).then(function (data) {\n        _this.loading = false;\n\n        if (data.code.toString() === '0') {\n          _this.setDate(data.data.mapList);\n\n          _this.listPage.count = data.data.count;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    setDate: function setDate(data) {\n      var _this2 = this;\n\n      // this.loading2 = false;\n      var arr = [];\n      data.forEach(function (item, index) {\n        var fix = _this2.getFix(item.coin.toUpperCase());\n\n        arr.push({\n          id: index,\n          data: [item.time ? formatTime(item.time) : '--', // 时间\n          item.uid, // uid\n          item.username, // 手机号\n          // item.nickname || '--', // 姓名\n          // item.type === 0\n          //   ? this.$t('brokerSystem.lowerTableList[0]') // '直客'\n          //   : this.$t('brokerSystem.lowerTableList[1]'), // '子经纪', // 类型\n          item.source === 1 ? _this2.$t('brokerSystem.lowerTableList[2]') // '好友邀请'\n          : _this2.$t('brokerSystem.lowerTableList[3]'), // '红包邀请', // 邀请方式\n          // 给上级返佣类型\n          item.type === 0 ? _this2.$t('brokerSystem.lowerTableList[4]') // '返佣'\n          : _this2.$t('brokerSystem.lowerTableList[5]'), // '分佣'\n          item.coin, fixD(item.amount, fix) // 数额\n          ]\n        });\n      });\n      this.dataList = arr;\n    },\n    getMonth: function getMonth(n) {\n      var date = new Date();\n      return date.setMonth(date.getMonth() + n);\n    },\n    getNowTime: function getNowTime() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var date = new Date(time);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n    },\n    startTimeSelect: function startTimeSelect(v) {\n      this.startTime = v;\n      this.loading = true;\n      this.listPage.page = 1;\n      this.getDate();\n    },\n    endTimeSelect: function endTimeSelect(v) {\n      this.endTime = v;\n      this.loading = true;\n      this.listPage.page = 1;\n      this.getDate();\n    },\n    currentType: function currentType(data) {\n      this.currentTab = data.index;\n    },\n    inputChanges: function inputChanges(value, name) {\n      var _this3 = this;\n\n      this[name] = value;\n      var now = new Date().getTime();\n      this.findFlagLoad = now;\n      this.loading = true;\n      setTimeout(function () {\n        if (_this3.findFlagLoad === now) {\n          _this3.listPage.page = 1;\n\n          _this3.getDate();\n        }\n      }, 300);\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/personal/brokerSystem/lowerInfo/lowerInfo.js"],"names":["imgMap","colorMap","formatTime","fixD","data","loading","dataList","cellHeight","headHeight","lineNumber","classes","headClasses","bodyClasses","lineClass","listPage","count","page","pageSize","startTime","endTime","uidValue","phoneValue","findFlagLoad","computed","startTimeNum","Date","replace","getTime","toString","endTimeNum","startTimeText","$t","endTimeText","navTab","name","index","usdtFix","fix","market","coinList","USDT","showPrecision","$store","state","baseData","columns","title","align","width","methods","pagechange","v","getDate","init","getNowTime","getMonth","getFix","axios","url","hostType","params","startDate","endDate","uid","undefined","username","then","code","setDate","mapList","$bus","$emit","text","msg","type","arr","forEach","item","coin","toUpperCase","push","id","time","source","amount","n","date","setMonth","year","getFullYear","month","day","startTimeSelect","endTimeSelect","currentType","currentTab","inputChanges","value","now","setTimeout"],"mappings":"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","sourcesContent":["import {\r\n  imgMap, colorMap, formatTime, fixD,\r\n} from '@/utils';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      imgMap,\r\n      colorMap,\r\n      dataList: [],\r\n      cellHeight: 55,\r\n      headHeight: 30,\r\n      lineNumber: 10,\r\n      classes: '',\r\n      headClasses: '',\r\n      bodyClasses: '',\r\n      lineClass: '',\r\n      // 数据相关\r\n      listPage: {\r\n        count: 0, // 总条数\r\n        page: 1, // 当前page\r\n        pageSize: 10, // 每页显示\r\n      },\r\n      startTime: '',\r\n      endTime: '',\r\n      uidValue: '',\r\n      phoneValue: '',\r\n      findFlagLoad: false,\r\n    };\r\n  },\r\n  computed: {\r\n    startTimeNum() {\r\n      return (new Date(this.startTime.replace(/-/g, '/')).getTime() / 1000).toString();\r\n    },\r\n    endTimeNum() {\r\n      return (new Date(this.endTime.replace(/-/g, '/')).getTime() / 1000).toString();\r\n    },\r\n    startTimeText() {\r\n      return this.$t('broker.startTime');\r\n    },\r\n    endTimeText() {\r\n      return this.$t('freeStaking.myPos.endTime');\r\n    },\r\n    navTab() {\r\n      return [\r\n        {\r\n          name: this.$t('brokerSystem.commissionNavTab[0]'),\r\n          index: 1,\r\n        },\r\n        {\r\n          name: this.$t('brokerSystem.commissionNavTab[1]'),\r\n          index: 2,\r\n        },\r\n      ];\r\n    },\r\n    usdtFix() {\r\n      let fix = 0;\r\n      if (this.market && this.market.coinList && this.market.coinList.USDT) {\r\n        fix = this.market.coinList.USDT.showPrecision;\r\n      }\r\n      return fix;\r\n    },\r\n    market() { return this.$store.state.baseData.market; },\r\n    columns() {\r\n      return [\r\n        {\r\n          title: this.$t('brokerSystem.lowerTable[0]'),\r\n          align: 'left',\r\n          width: '100px',\r\n          classes: '',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.lowerTable[1]'),\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.lowerTable[2]'),\r\n        },\r\n        // {\r\n        //   title: this.$t('brokerSystem.lowerTable[3]'),\r\n        //   width: '100px',\r\n        // },\r\n        // {\r\n        //   title: this.$t('brokerSystem.lowerTable[4]'),\r\n        // },\r\n        {\r\n          title: this.$t('brokerSystem.lowerTable[5]'),\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.lowerTable[6]'),\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.commissionTable[1]'),\r\n          width: '100px',\r\n        },\r\n        {\r\n          title: this.$t('brokerSystem.lowerTable[7]'),\r\n          width: '150px',\r\n          align: 'right',\r\n        },\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    pagechange(v) {\r\n      this.listPage.page = v;\r\n      this.getDate();\r\n    },\r\n    init() {\r\n      this.startTime = this.getNowTime(this.getMonth(-1));\r\n      this.endTime = this.getNowTime(this.getMonth(0));\r\n      this.getDate();\r\n    },\r\n    getFix(v) {\r\n      let fix = 2;\r\n      if (this.market && this.market.coinList && this.market.coinList[v]) {\r\n        fix = this.market.coinList[v].showPrecision;\r\n      }\r\n      return fix;\r\n    },\r\n    getDate() {\r\n      this.axios({\r\n        url: 'co/agent/user_list',\r\n        hostType: 'fe-increment-api',\r\n        params: {\r\n          page: this.listPage.page,\r\n          pageSize: this.listPage.pageSize,\r\n          startDate: formatTime(new Date(this.startTime).getTime()),\r\n          endDate: formatTime(new Date(this.endTime).getTime()),\r\n          uid: this.uidValue || undefined,\r\n          username: this.phoneValue || undefined,\r\n          // coin: this.coin === 'all' ? undefined : this.coin,\r\n        },\r\n      }).then((data) => {\r\n        this.loading = false;\r\n        if (data.code.toString() === '0') {\r\n          this.setDate(data.data.mapList);\r\n          this.listPage.count = data.data.count;\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    setDate(data) {\r\n      // this.loading2 = false;\r\n      const arr = [];\r\n      data.forEach((item, index) => {\r\n        const fix = this.getFix(item.coin.toUpperCase());\r\n        arr.push({\r\n          id: index,\r\n          data: [\r\n            item.time ? formatTime(item.time) : '--', // 时间\r\n            item.uid, // uid\r\n            item.username, // 手机号\r\n            // item.nickname || '--', // 姓名\r\n            // item.type === 0\r\n            //   ? this.$t('brokerSystem.lowerTableList[0]') // '直客'\r\n            //   : this.$t('brokerSystem.lowerTableList[1]'), // '子经纪', // 类型\r\n            item.source === 1\r\n              ? this.$t('brokerSystem.lowerTableList[2]') // '好友邀请'\r\n              : this.$t('brokerSystem.lowerTableList[3]'), // '红包邀请', // 邀请方式\r\n            // 给上级返佣类型\r\n            item.type === 0\r\n              ? this.$t('brokerSystem.lowerTableList[4]') // '返佣'\r\n              : this.$t('brokerSystem.lowerTableList[5]'), // '分佣'\r\n            item.coin,\r\n            fixD(item.amount, fix), // 数额\r\n          ],\r\n        });\r\n      });\r\n      this.dataList = arr;\r\n    },\r\n    getMonth(n) {\r\n      const date = new Date();\r\n      return date.setMonth(date.getMonth() + n);\r\n    },\r\n    getNowTime(time = '') {\r\n      const date = new Date(time);\r\n      const year = date.getFullYear();\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n\r\n      return `${year}-${month}-${day}`;\r\n    },\r\n    startTimeSelect(v) {\r\n      this.startTime = v;\r\n      this.loading = true;\r\n      this.listPage.page = 1;\r\n      this.getDate();\r\n    },\r\n    endTimeSelect(v) {\r\n      this.endTime = v;\r\n      this.loading = true;\r\n      this.listPage.page = 1;\r\n      this.getDate();\r\n    },\r\n    currentType(data) {\r\n      this.currentTab = data.index;\r\n    },\r\n    inputChanges(value, name) {\r\n      this[name] = value;\r\n      const now = new Date().getTime();\r\n      this.findFlagLoad = now;\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        if (this.findFlagLoad === now) {\r\n          this.listPage.page = 1;\r\n          this.getDate();\r\n        }\r\n      }, 300);\r\n    },\r\n  },\r\n};\r\n"]}]}