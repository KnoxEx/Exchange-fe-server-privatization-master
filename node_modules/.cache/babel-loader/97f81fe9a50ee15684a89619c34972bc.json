{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/assets/bibaoDetail/bibaoDetail.js","dependencies":[{"path":"/Users/h/partTimeJob/BlockChain-ui-privatization/PC/common-mixin/assets/bibaoDetail/bibaoDetail.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { fixD, formatTime, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'page-flowingWater',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      tabelLoading: true,\n      symbol: '',\n      // 当前币种\n      tabelList: [],\n      // table数据列表\n      symbolList: [],\n      // 币种选择列表\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      }\n    };\n  },\n  computed: {\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    // 表格title\n    columns: function columns() {\n      var list = [{\n        title: this.$t('assets.bibaoAccount.coin'),\n        width: '20%'\n      }, // 币种\n      {\n        title: this.$t('assets.bibaoAccount.transferNum'),\n        width: '10'\n      }, // 转入数量\n      {\n        title: this.$t('assets.bibaoAccount.freed'),\n        width: '20%'\n      }, // 释放\n      {\n        title: this.$t('assets.bibaoAccount.startTime'),\n        width: '12%'\n      }, // 开始时间\n      {\n        title: this.$t('assets.bibaoAccount.endTime'),\n        width: '12%'\n      }, // 到期时间\n      {\n        title: this.$t('assets.bibaoAccount.status'),\n        width: '30%'\n      } // 状态\n      ];\n      return list;\n    },\n    // 用于axios的symbol\n    axiosSymbol: function axiosSymbol() {\n      if (this.symbol === 'all') {\n        return null;\n      }\n\n      return this.symbol;\n    }\n  },\n  watch: {\n    market: function market(v) {\n      if (v) {\n        this.setData();\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.market) {\n        this.setData();\n      }\n    },\n    symbolChange: function symbolChange(item) {\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    setData: function setData() {\n      var list = [{\n        code: 'all',\n        value: this.$t('assets.otcFlowingWater.allCoin')\n      }];\n      Object.keys(this.market.coinList).forEach(function (item) {\n        list.push({\n          code: item,\n          value: item\n        });\n      });\n      this.symbolList = list;\n      this.symbol = 'all';\n\n      if (this.$route.query.symbol) {\n        this.symbol = this.$route.query.symbol.toUpperCase();\n      }\n\n      this.getData();\n    },\n    getData: function getData() {\n      var _this = this;\n\n      this.axios({\n        url: '/record/deposit_detail',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          coinSymbol: this.axiosSymbol\n        }\n      }).then(function (data) {\n        _this.tabelLoading = false;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.depositList.forEach(function (item, index) {\n            var coinList = _this.market.coinList;\n            var fix = coinList[item.symbol] && coinList[item.symbol].showPrecision || 0;\n            list.push({\n              id: index,\n              data: [item.symbol, // 币种\n              fixD(item.amount, fix), fixD(item.unlocked_amount, fix), formatTime(item.startDate), formatTime(item.expireDate), item.statusText // 类型\n              ]\n            });\n          });\n          _this.tabelList = list;\n          _this.paginationObj.total = data.data.count;\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    }\n  }\n};",null]}