{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/personal/IdAuth/IdAuth.js","dependencies":[{"path":"/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/personal/IdAuth/IdAuth.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\n// @ is an alias to /src\nimport { imgMap } from '@/utils';\nimport countryMinix from \"../../countryList/countryList\";\nvar upload1 = imgMap.kyc_idcard_a;\nvar upload2 = imgMap.kyc_idcard_b;\nvar upload3 = imgMap.kyc_idcard_c;\nvar upload4 = imgMap.kyc_passport_a;\nvar upload5 = imgMap.kyc_passport_b;\nvar upload6 = imgMap.kyc_passport_c;\nexport default {\n  name: 'bindEmail',\n  mixins: [countryMinix],\n  data: function data() {\n    return {\n      promptTextType: this.$t('personal.idAuth.promptTextType'),\n      promptText: this.$t('personal.label.promptText'),\n      errorText: this.$t('personal.label.errorText'),\n      authLevel: 3,\n      text1: this.$t('personal.label.idCard'),\n      text2: this.$t('personal.label.passport'),\n      loading: false,\n      firstPhotoImg: '',\n      secondPhotoImg: '',\n      thirdPhotoImg: '',\n      firstPhotoImgSrc: '',\n      secondPhotoImgSrc: '',\n      thirdPhotoImgSrc: '',\n      firstPhotoLoading: false,\n      secondPhotoLoading: false,\n      thirdPhotoLoading: false,\n      checkValue1: '',\n      // 证件号\n      promptText1: this.$t('personal.label.idCardNum'),\n      errorText1: '',\n      checkErrorFlag1: false,\n      checkValue2: '',\n      // 姓名\n      promptText2: this.$t('personal.label.name'),\n      active: '1',\n      disabled2: true,\n      country: '',\n      // 国家编号\n      countryErrorFlag: false,\n      certificateType: 2,\n      // 证件类型\n      certificateTypeErrorFlag: false,\n      imageType: '1',\n      firstPhoto: '',\n      // 身份证正面\n      secondPhoto: '',\n      // 身份证反面\n      thirdPhoto: '',\n      // 手持证件\n      uploadName: '',\n      // 当前选中的上传模块\n      idAuthType: [{\n        code: 2,\n        value: this.$t('personal.kyc.type1')\n      }, {\n        code: 4,\n        value: this.$t('personal.kyc.type2')\n      }, {\n        code: 3,\n        value: this.$t('personal.kyc.type3')\n      }],\n      kycPhone: '',\n      // kyc选择的国家\n      kycPhoneCode: '',\n      kycName: '',\n      // kyc 外国 - 名\n      kycFamilyName: '',\n      // kyc 外国 - 姓\n      kycMetaText: '',\n      // 上传图片说明文案\n      flag: false // 二维码\n\n    };\n  },\n  watch: {\n    interfaceSwitch: function interfaceSwitch(v) {\n      if (v) {\n        this.getLang();\n      }\n    },\n    userInfo: function userInfo(v) {\n      if (v) {\n        this.authLevel = this.userInfo.authLevel;\n\n        if (this.authLevel === 2 || this.authLevel === 3) {\n          this.active = '1';\n        } else if (this.authLevel === 0) {\n          this.active = '3';\n        } else {\n          // this.authLevel为1 审核通过\n          this.$router.push('/personal/userManagement');\n        }\n      }\n    },\n    publicInfo: function publicInfo(v) {\n      if (v) {\n        this.isOpenUploadImg = this.publicInfo.switch.is_open_upload_img;\n      }\n    },\n    authRealname: function authRealname(_authRealname) {\n      if (_authRealname !== null) {\n        this.loading = false;\n\n        if (_authRealname.text === 'success') {\n          this.$bus.$emit('tip', {\n            text: _authRealname.msg,\n            type: 'success'\n          });\n          this.active = '3';\n          this.$store.dispatch('resetType');\n        } else {\n          this.$bus.$emit('tip', {\n            text: _authRealname.msg,\n            type: 'error'\n          });\n          this.firstPhotoImg = '';\n          this.secondPhotoImg = '';\n          this.thirdPhotoImg = '';\n          this.firstPhotoImgSrc = '';\n          this.secondPhotoImgSrc = '';\n          this.thirdPhotoImgSrc = '';\n          this.firstPhotoLoading = false;\n          this.secondPhotoLoading = false;\n          this.thirdPhotoLoading = false;\n          this.checkValue1 = '';\n          this.checkValue2 = '';\n          this.disabled2 = true;\n          this.active = '1';\n          this.firstPhoto = '';\n          this.secondPhoto = '';\n          this.thirdPhoto = '';\n          this.uploadName = '';\n          this.kycName = '';\n          this.kycFamilyName = '';\n          this.$store.dispatch('resetType');\n        }\n      }\n    },\n    appDownload: function appDownload(v) {\n      if (v) {\n        this.flag = true;\n      }\n    }\n  },\n  computed: {\n    interfaceSwitch: function interfaceSwitch() {\n      return this.$store.state.baseData.interfaceSwitch;\n    },\n    appAuthOpen: function appAuthOpen() {\n      return this.$store.state.baseData.app_auth_open;\n    },\n    publicInfo: function publicInfo() {\n      return this.$store.state.baseData.publicInfo;\n    },\n    // ”00“ face++\n    // ”01“羽山kyc\n    // “02”简版自动\n    // ”10“ 人工\n    nameVerifiedType: function nameVerifiedType() {\n      return this.$store.state.baseData.nameVerifiedType;\n    },\n    bg1: function bg1() {\n      if (this.kycType === '1') {\n        return {\n          backgroundImage: \"url(\".concat(upload1, \")\")\n        };\n      }\n\n      return {\n        backgroundImage: \"url(\".concat(upload5, \")\")\n      };\n    },\n    bg2: function bg2() {\n      if (this.kycType === '1') {\n        return {\n          backgroundImage: \"url(\".concat(upload2, \")\")\n        };\n      }\n\n      return {\n        backgroundImage: \"url(\".concat(upload4, \")\")\n      };\n    },\n    bg3: function bg3() {\n      if (this.kycType === '1') {\n        return {\n          backgroundImage: \"url(\".concat(upload3, \")\")\n        };\n      }\n\n      return {\n        backgroundImage: \"url(\".concat(upload6, \")\")\n      };\n    },\n    authRealname: function authRealname() {\n      return this.$store.state.personal.authRealname;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.baseData.userInfo;\n    },\n    activeP1: function activeP1() {\n      if (this.active !== '1') {\n        return '';\n      }\n\n      return 'b-2-cl';\n    },\n    activeP2: function activeP2() {\n      if (this.active !== '2') {\n        return '';\n      }\n\n      return 'b-2-cl';\n    },\n    activeP3: function activeP3() {\n      if (this.active === '3') {\n        return 'b-2-cl';\n      }\n\n      return '';\n    },\n    activeS2: function activeS2() {\n      if (this.active !== '1') {\n        return 'a-12-bg';\n      }\n\n      return 'a-1-bg';\n    },\n    activeS3: function activeS3() {\n      if (this.active === '3') {\n        return 'a-12-bg';\n      }\n\n      return 'a-1-bg';\n    },\n    // kyc第一步骤\n    kycStep1Disabled: function kycStep1Disabled() {\n      var flag = true; // 中国\n\n      if (this.kycType === '1') {\n        if (this.kycNationality.length // 国籍\n        && this.checkValue2.length // 姓名\n        && this.checkValue1.length) {\n          // 证件号码\n          flag = false;\n        } // 外国\n\n      } else if (this.kycNationality.length // 国籍\n      && this.kycName.length // 名\n      && this.kycFamilyName.length // 姓\n      && this.checkValue1.length) {\n        // 证件号码\n        flag = false;\n      }\n\n      return flag;\n    },\n    // 国籍\n    kycNationality: function kycNationality() {\n      var str = '';\n      var current = this.countryRealMap[\"+\".concat(this.kycPhone)];\n\n      if (this.kycPhone && current) {\n        var val = current.value;\n\n        var _val$split = val.split(' +');\n\n        var _val$split2 = _slicedToArray(_val$split, 1);\n\n        str = _val$split2[0];\n      }\n\n      return str;\n    },\n    // 验证类型 1为中国人 2为外国人\n    kycType: function kycType() {\n      if (this.kycPhone) {\n        if (this.kycPhone === '156') {\n          return '1';\n        }\n\n        return '2';\n      }\n\n      return '2';\n    },\n    appDownload: function appDownload() {\n      return this.$store.state.baseData.app_download;\n    }\n  },\n  methods: {\n    init: function init() {\n      if (this.$route.query) {\n        if (this.$route.query.country) {\n          this.kycPhone = this.$route.query.country;\n          this.kycPhoneCode = this.$route.query.countryKeyCode;\n        } else if (this.$route.query.countryKeyCode) {\n          this.kycPhone = this.countryMap[\"+\".concat(this.$route.query.countryKeyCode)].code.replace('+', '');\n          this.kycPhoneCode = this.$route.query.countryKeyCode;\n        } else {\n          this.kycPhone = '156';\n          this.kycPhoneCode = '86';\n        }\n      }\n\n      if (this.publicInfo !== null) {\n        this.isOpenUploadImg = this.publicInfo.switch.is_open_upload_img;\n      }\n\n      if (this.userInfo) {\n        this.authLevel = this.userInfo.authLevel;\n\n        if (this.authLevel === 2 || this.authLevel === 3) {\n          this.active = '1';\n        } else if (this.authLevel === 0) {\n          this.active = '3';\n        } else {\n          // this.authLevel为1 审核通过\n          this.$router.push('/personal/userManagement');\n        }\n      }\n\n      if (this.interfaceSwitch) {\n        this.getLang();\n      }\n    },\n    getLang: function getLang() {\n      var _this = this;\n\n      this.axios({\n        url: '/kyc/Api/getUploadImgCopywriting'\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          if (data.data.language) {\n            _this.kycMetaText = data.data.language;\n          }\n        } else {\n          _this.$bus.$emit('tip', {\n            text: data.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    idAuthTypeChange: function idAuthTypeChange(_ref) {\n      var code = _ref.code;\n      this.certificateType = code;\n    },\n    uploadFinish: function uploadFinish(obj) {\n      if (obj.name) {\n        this.uploadName = obj.name;\n      }\n\n      if (obj.error) {\n        this.$bus.$emit('tip', {\n          text: obj.error,\n          type: 'error'\n        });\n        return;\n      }\n\n      this[\"\".concat(this.uploadName, \"Img\")] = obj.url;\n      this[\"\".concat(this.uploadName, \"ImgSrc\")] = obj.imgSrc;\n      this[\"\".concat(this.uploadName, \"Loading\")] = false;\n      this[this.uploadName] = obj.fileName;\n\n      if (this.firstPhotoImg && this.secondPhotoImg && this.thirdPhotoImg) {\n        this.disabled2 = false;\n      }\n    },\n    onChangeFileFun: function onChangeFileFun(obj) {\n      if (obj.code && obj.code === 'maxSize') {\n        this.$bus.$emit('tip', {\n          text: this.$t('personal.exccAuthForm.text3'),\n          type: 'error'\n        });\n      }\n\n      this.uploadName = obj.name;\n      this[\"\".concat(this.uploadName, \"Loading\")] = true;\n    },\n    inputChanges: function inputChanges(value, name) {\n      // 中国 - 姓名\n      if (name === 'name') {\n        this.checkValue2 = value; // 外国 - 姓\n      } else if (name === 'kycFamilyName') {\n        this.kycFamilyName = value; // 外国 - 名\n      } else if (name === 'kycName') {\n        this.kycName = value; // 证件号码\n      } else {\n        this.checkValue1 = value;\n      }\n    },\n    checkFocus: function checkFocus(name) {\n      switch (name) {\n        case 'email':\n          {\n            // email\n            this.checkErrorFlag1 = false;\n            this.errorText1 = '';\n            break;\n          }\n\n        case '2':\n          {\n            // emailCode\n            break;\n          }\n\n        default:\n          {// newpassword again\n          }\n      }\n    },\n    btnLink: function btnLink(num) {\n      if (num === 1) {\n        this.active = '2';\n      } else {\n        this.loading = true;\n        var type = 1;\n\n        if (this.kycType === '2') {\n          type = this.certificateType;\n        } // 如果是中国并且是开启了简版自动kyc请求\n\n\n        if (this.nameVerifiedType === '02' && this.kycType === '1') {\n          var _info = {\n            countryCode: \"+\".concat(this.kycPhoneCode),\n            // 电话编码\n            numberCode: this.kycPhone,\n            // 国家代码\n            certificateType: type,\n            // 证件类型\n            cardNo: this.checkValue1,\n            // 证件号\n            name: this.checkValue2 || undefined,\n            // 中国 - 姓名\n            photo_front: this.firstPhotoImgSrc,\n            photo_back: this.secondPhotoImgSrc,\n            photo_living: this.thirdPhotoImgSrc\n          };\n          this.$store.dispatch('authRealname', {\n            info: _info,\n            kycFlag: true\n          });\n          return;\n        }\n\n        var info = {\n          countryCode: \"+\".concat(this.kycPhoneCode),\n          // 电话编码\n          numberCode: this.kycPhone,\n          // 国家代码\n          certificateType: type,\n          // 证件类型\n          certificateNumber: this.checkValue1,\n          // 证件号\n          userName: this.checkValue2 || undefined,\n          // 中国 - 姓名\n          firstPhoto: this.firstPhoto,\n          secondPhoto: this.secondPhoto,\n          thirdPhoto: this.thirdPhoto,\n          familyName: this.kycFamilyName || undefined,\n          // 外国姓\n          name: this.kycName || undefined // 外国名\n\n        };\n        this.$store.dispatch('authRealname', {\n          info: info,\n          kycFlag: false\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/h/Downloads/BlockChain-ui-privatization/PC/common-mixin/personal/IdAuth/IdAuth.js"],"names":["imgMap","countryMinix","upload1","kyc_idcard_a","upload2","kyc_idcard_b","upload3","kyc_idcard_c","upload4","kyc_passport_a","upload5","kyc_passport_b","upload6","kyc_passport_c","name","mixins","data","promptTextType","$t","promptText","errorText","authLevel","text1","text2","loading","firstPhotoImg","secondPhotoImg","thirdPhotoImg","firstPhotoImgSrc","secondPhotoImgSrc","thirdPhotoImgSrc","firstPhotoLoading","secondPhotoLoading","thirdPhotoLoading","checkValue1","promptText1","errorText1","checkErrorFlag1","checkValue2","promptText2","active","disabled2","country","countryErrorFlag","certificateType","certificateTypeErrorFlag","imageType","firstPhoto","secondPhoto","thirdPhoto","uploadName","idAuthType","code","value","kycPhone","kycPhoneCode","kycName","kycFamilyName","kycMetaText","flag","watch","interfaceSwitch","v","getLang","userInfo","$router","push","publicInfo","isOpenUploadImg","switch","is_open_upload_img","authRealname","text","$bus","$emit","msg","type","$store","dispatch","appDownload","computed","state","baseData","appAuthOpen","app_auth_open","nameVerifiedType","bg1","kycType","backgroundImage","bg2","bg3","personal","activeP1","activeP2","activeP3","activeS2","activeS3","kycStep1Disabled","kycNationality","length","str","current","countryRealMap","val","split","app_download","methods","init","$route","query","countryKeyCode","countryMap","replace","axios","url","then","toString","language","idAuthTypeChange","uploadFinish","obj","error","imgSrc","fileName","onChangeFileFun","inputChanges","checkFocus","btnLink","num","info","countryCode","numberCode","cardNo","undefined","photo_front","photo_back","photo_living","kycFlag","certificateNumber","userName","familyName"],"mappings":"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","sourcesContent":["// @ is an alias to /src\r\nimport { imgMap } from '@/utils';\r\nimport countryMinix from '../../countryList/countryList';\r\n\r\nconst upload1 = imgMap.kyc_idcard_a;\r\nconst upload2 = imgMap.kyc_idcard_b;\r\nconst upload3 = imgMap.kyc_idcard_c;\r\nconst upload4 = imgMap.kyc_passport_a;\r\nconst upload5 = imgMap.kyc_passport_b;\r\nconst upload6 = imgMap.kyc_passport_c;\r\n\r\nexport default {\r\n  name: 'bindEmail',\r\n  mixins: [countryMinix],\r\n  data() {\r\n    return {\r\n      promptTextType: this.$t('personal.idAuth.promptTextType'),\r\n      promptText: this.$t('personal.label.promptText'),\r\n      errorText: this.$t('personal.label.errorText'),\r\n      authLevel: 3,\r\n      text1: this.$t('personal.label.idCard'),\r\n      text2: this.$t('personal.label.passport'),\r\n      loading: false,\r\n      firstPhotoImg: '',\r\n      secondPhotoImg: '',\r\n      thirdPhotoImg: '',\r\n      firstPhotoImgSrc: '',\r\n      secondPhotoImgSrc: '',\r\n      thirdPhotoImgSrc: '',\r\n      firstPhotoLoading: false,\r\n      secondPhotoLoading: false,\r\n      thirdPhotoLoading: false,\r\n      checkValue1: '', // 证件号\r\n      promptText1: this.$t('personal.label.idCardNum'),\r\n      errorText1: '',\r\n      checkErrorFlag1: false,\r\n      checkValue2: '', // 姓名\r\n      promptText2: this.$t('personal.label.name'),\r\n      active: '1',\r\n      disabled2: true,\r\n      country: '', // 国家编号\r\n      countryErrorFlag: false,\r\n      certificateType: 2, // 证件类型\r\n      certificateTypeErrorFlag: false,\r\n      imageType: '1',\r\n      firstPhoto: '', // 身份证正面\r\n      secondPhoto: '', // 身份证反面\r\n      thirdPhoto: '', // 手持证件\r\n      uploadName: '', // 当前选中的上传模块\r\n      idAuthType: [\r\n        {\r\n          code: 2,\r\n          value: this.$t('personal.kyc.type1'),\r\n        },\r\n        {\r\n          code: 4,\r\n          value: this.$t('personal.kyc.type2'),\r\n        },\r\n        {\r\n          code: 3,\r\n          value: this.$t('personal.kyc.type3'),\r\n        },\r\n      ],\r\n      kycPhone: '', // kyc选择的国家\r\n      kycPhoneCode: '',\r\n      kycName: '', // kyc 外国 - 名\r\n      kycFamilyName: '', // kyc 外国 - 姓\r\n      kycMetaText: '', // 上传图片说明文案\r\n      flag: false, // 二维码\r\n    };\r\n  },\r\n  watch: {\r\n    interfaceSwitch(v) {\r\n      if (v) {\r\n        this.getLang();\r\n      }\r\n    },\r\n    userInfo(v) {\r\n      if (v) {\r\n        this.authLevel = this.userInfo.authLevel;\r\n        if (this.authLevel === 2 || this.authLevel === 3) {\r\n          this.active = '1';\r\n        } else if (this.authLevel === 0) {\r\n          this.active = '3';\r\n        } else {\r\n          // this.authLevel为1 审核通过\r\n          this.$router.push('/personal/userManagement');\r\n        }\r\n      }\r\n    },\r\n    publicInfo(v) {\r\n      if (v) {\r\n        this.isOpenUploadImg = this.publicInfo.switch.is_open_upload_img;\r\n      }\r\n    },\r\n    authRealname(authRealname) {\r\n      if (authRealname !== null) {\r\n        this.loading = false;\r\n        if (authRealname.text === 'success') {\r\n          this.$bus.$emit('tip', { text: authRealname.msg, type: 'success' });\r\n          this.active = '3';\r\n          this.$store.dispatch('resetType');\r\n        } else {\r\n          this.$bus.$emit('tip', { text: authRealname.msg, type: 'error' });\r\n          this.firstPhotoImg = '';\r\n          this.secondPhotoImg = '';\r\n          this.thirdPhotoImg = '';\r\n          this.firstPhotoImgSrc = '';\r\n          this.secondPhotoImgSrc = '';\r\n          this.thirdPhotoImgSrc = '';\r\n          this.firstPhotoLoading = false;\r\n          this.secondPhotoLoading = false;\r\n          this.thirdPhotoLoading = false;\r\n          this.checkValue1 = '';\r\n          this.checkValue2 = '';\r\n          this.disabled2 = true;\r\n          this.active = '1';\r\n          this.firstPhoto = '';\r\n          this.secondPhoto = '';\r\n          this.thirdPhoto = '';\r\n          this.uploadName = '';\r\n          this.kycName = '';\r\n          this.kycFamilyName = '';\r\n          this.$store.dispatch('resetType');\r\n        }\r\n      }\r\n    },\r\n    appDownload(v) {\r\n      if (v) { this.flag = true; }\r\n    },\r\n  },\r\n  computed: {\r\n    interfaceSwitch() {\r\n      return this.$store.state.baseData.interfaceSwitch;\r\n    },\r\n    appAuthOpen() {\r\n      return this.$store.state.baseData.app_auth_open;\r\n    },\r\n    publicInfo() {\r\n      return this.$store.state.baseData.publicInfo;\r\n    },\r\n    // ”00“ face++\r\n    // ”01“羽山kyc\r\n    // “02”简版自动\r\n    // ”10“ 人工\r\n    nameVerifiedType() {\r\n      return this.$store.state.baseData.nameVerifiedType;\r\n    },\r\n    bg1() {\r\n      if (this.kycType === '1') {\r\n        return { backgroundImage: `url(${upload1})` };\r\n      }\r\n      return {\r\n        backgroundImage: `url(${upload5})`,\r\n      };\r\n    },\r\n    bg2() {\r\n      if (this.kycType === '1') {\r\n        return {\r\n          backgroundImage: `url(${upload2})`,\r\n        };\r\n      }\r\n      return {\r\n        backgroundImage: `url(${upload4})`,\r\n      };\r\n    },\r\n    bg3() {\r\n      if (this.kycType === '1') {\r\n        return {\r\n          backgroundImage: `url(${upload3})`,\r\n        };\r\n      }\r\n      return {\r\n        backgroundImage: `url(${upload6})`,\r\n      };\r\n    },\r\n    authRealname() {\r\n      return this.$store.state.personal.authRealname;\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.baseData.userInfo;\r\n    },\r\n    activeP1() {\r\n      if (this.active !== '1') {\r\n        return '';\r\n      }\r\n      return 'b-2-cl';\r\n    },\r\n    activeP2() {\r\n      if (this.active !== '2') {\r\n        return '';\r\n      }\r\n      return 'b-2-cl';\r\n    },\r\n    activeP3() {\r\n      if (this.active === '3') {\r\n        return 'b-2-cl';\r\n      }\r\n      return '';\r\n    },\r\n    activeS2() {\r\n      if (this.active !== '1') {\r\n        return 'a-12-bg';\r\n      }\r\n      return 'a-1-bg';\r\n    },\r\n    activeS3() {\r\n      if (this.active === '3') {\r\n        return 'a-12-bg';\r\n      }\r\n      return 'a-1-bg';\r\n    },\r\n    // kyc第一步骤\r\n    kycStep1Disabled() {\r\n      let flag = true;\r\n      // 中国\r\n      if (this.kycType === '1') {\r\n        if (this.kycNationality.length // 国籍\r\n          && this.checkValue2.length // 姓名\r\n          && this.checkValue1.length) { // 证件号码\r\n          flag = false;\r\n        }\r\n      // 外国\r\n      } else if (this.kycNationality.length // 国籍\r\n        && this.kycName.length // 名\r\n        && this.kycFamilyName.length // 姓\r\n        && this.checkValue1.length) { // 证件号码\r\n        flag = false;\r\n      }\r\n      return flag;\r\n    },\r\n    // 国籍\r\n    kycNationality() {\r\n      let str = '';\r\n      const current = this.countryRealMap[`+${this.kycPhone}`];\r\n\r\n      if (this.kycPhone && current) {\r\n        const val = current.value;\r\n        [str] = val.split(' +');\r\n      }\r\n      return str;\r\n    },\r\n    // 验证类型 1为中国人 2为外国人\r\n    kycType() {\r\n      if (this.kycPhone) {\r\n        if (this.kycPhone === '156') {\r\n          return '1';\r\n        }\r\n        return '2';\r\n      }\r\n      return '2';\r\n    },\r\n    appDownload() {\r\n      return this.$store.state.baseData.app_download;\r\n    },\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.$route.query) {\r\n        if (this.$route.query.country) {\r\n          this.kycPhone = this.$route.query.country;\r\n          this.kycPhoneCode = this.$route.query.countryKeyCode;\r\n        } else if (this.$route.query.countryKeyCode) {\r\n          this.kycPhone = this.countryMap[`+${this.$route.query.countryKeyCode}`].code.replace('+', '');\r\n          this.kycPhoneCode = this.$route.query.countryKeyCode;\r\n        } else {\r\n          this.kycPhone = '156';\r\n          this.kycPhoneCode = '86';\r\n        }\r\n      }\r\n      if (this.publicInfo !== null) {\r\n        this.isOpenUploadImg = this.publicInfo.switch.is_open_upload_img;\r\n      }\r\n      if (this.userInfo) {\r\n        this.authLevel = this.userInfo.authLevel;\r\n        if (this.authLevel === 2 || this.authLevel === 3) {\r\n          this.active = '1';\r\n        } else if (this.authLevel === 0) {\r\n          this.active = '3';\r\n        } else {\r\n          // this.authLevel为1 审核通过\r\n          this.$router.push('/personal/userManagement');\r\n        }\r\n      }\r\n      if (this.interfaceSwitch) {\r\n        this.getLang();\r\n      }\r\n    },\r\n    getLang() {\r\n      this.axios({\r\n        url: '/kyc/Api/getUploadImgCopywriting',\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          if (data.data.language) {\r\n            this.kycMetaText = data.data.language;\r\n          }\r\n        } else {\r\n          this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n        }\r\n      });\r\n    },\r\n    idAuthTypeChange({ code }) {\r\n      this.certificateType = code;\r\n    },\r\n    uploadFinish(obj) {\r\n      if (obj.name) {\r\n        this.uploadName = obj.name;\r\n      }\r\n      if (obj.error) {\r\n        this.$bus.$emit('tip', { text: obj.error, type: 'error' });\r\n        return;\r\n      }\r\n      this[`${this.uploadName}Img`] = obj.url;\r\n      this[`${this.uploadName}ImgSrc`] = obj.imgSrc;\r\n      this[`${this.uploadName}Loading`] = false;\r\n      this[this.uploadName] = obj.fileName;\r\n      if (this.firstPhotoImg && this.secondPhotoImg && this.thirdPhotoImg) {\r\n        this.disabled2 = false;\r\n      }\r\n    },\r\n    onChangeFileFun(obj) {\r\n      if (obj.code && obj.code === 'maxSize') {\r\n        this.$bus.$emit('tip', { text: this.$t('personal.exccAuthForm.text3'), type: 'error' });\r\n      }\r\n      this.uploadName = obj.name;\r\n      this[`${this.uploadName}Loading`] = true;\r\n    },\r\n    inputChanges(value, name) {\r\n      // 中国 - 姓名\r\n      if (name === 'name') {\r\n        this.checkValue2 = value;\r\n      // 外国 - 姓\r\n      } else if (name === 'kycFamilyName') {\r\n        this.kycFamilyName = value;\r\n      // 外国 - 名\r\n      } else if (name === 'kycName') {\r\n        this.kycName = value;\r\n      // 证件号码\r\n      } else {\r\n        this.checkValue1 = value;\r\n      }\r\n    },\r\n    checkFocus(name) {\r\n      switch (name) {\r\n        case 'email': {\r\n          // email\r\n          this.checkErrorFlag1 = false;\r\n          this.errorText1 = '';\r\n          break;\r\n        }\r\n        case '2': {\r\n          // emailCode\r\n          break;\r\n        }\r\n        default: {\r\n          // newpassword again\r\n        }\r\n      }\r\n    },\r\n    btnLink(num) {\r\n      if (num === 1) {\r\n        this.active = '2';\r\n      } else {\r\n        this.loading = true;\r\n        let type = 1;\r\n        if (this.kycType === '2') {\r\n          type = this.certificateType;\r\n        }\r\n        // 如果是中国并且是开启了简版自动kyc请求\r\n        if (this.nameVerifiedType === '02' && this.kycType === '1') {\r\n          const info = {\r\n            countryCode: `+${this.kycPhoneCode}`, // 电话编码\r\n            numberCode: this.kycPhone, // 国家代码\r\n            certificateType: type, // 证件类型\r\n            cardNo: this.checkValue1, // 证件号\r\n            name: this.checkValue2 || undefined, // 中国 - 姓名\r\n            photo_front: this.firstPhotoImgSrc,\r\n            photo_back: this.secondPhotoImgSrc,\r\n            photo_living: this.thirdPhotoImgSrc,\r\n          };\r\n          this.$store.dispatch('authRealname', { info, kycFlag: true });\r\n          return;\r\n        }\r\n        const info = {\r\n          countryCode: `+${this.kycPhoneCode}`, // 电话编码\r\n          numberCode: this.kycPhone, // 国家代码\r\n          certificateType: type, // 证件类型\r\n          certificateNumber: this.checkValue1, // 证件号\r\n          userName: this.checkValue2 || undefined, // 中国 - 姓名\r\n          firstPhoto: this.firstPhoto,\r\n          secondPhoto: this.secondPhoto,\r\n          thirdPhoto: this.thirdPhoto,\r\n          familyName: this.kycFamilyName || undefined, // 外国姓\r\n          name: this.kycName || undefined, // 外国名\r\n        };\r\n        this.$store.dispatch('authRealname', { info, kycFlag: false });\r\n      }\r\n    },\r\n  },\r\n};\r\n"]}]}