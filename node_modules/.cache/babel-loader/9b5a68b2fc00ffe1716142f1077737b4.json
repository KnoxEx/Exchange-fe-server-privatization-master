{"remainingRequest":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js!/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/assets/lerverageFlowingWater/lerverageFlowingWater.js","dependencies":[{"path":"/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/assets/lerverageFlowingWater/lerverageFlowingWater.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/babel.config.js","mtime":1620459862000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/h/partTimeJob/exchange-fe-server-privatization-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport { fixD, formatTime, getCoinShowName, colorMap, imgMap } from '@/utils';\nexport default {\n  name: 'page-flowingWater',\n  data: function data() {\n    return {\n      imgMap: imgMap,\n      colorMap: colorMap,\n      tabelLoading: true,\n      nowType: 1,\n      // 1为当前借贷 2为历史借贷 3为划转记录\n      symbol: '',\n      // 当前币种 (当前借贷/历史借贷使用)\n      tabelList: [],\n      // table数据列表\n      symbolList: [],\n      // 币种选择列表\n      otherType: '0',\n      // 其他记录 type\n      paginationObj: {\n        total: 0,\n        // 数据总条数\n        display: 10,\n        // 每页显示条数\n        currentPage: 1 // 当前页码\n\n      },\n      revokeList: [],\n      // 撤销队列\n      subContent: [],\n      // 展开的数据\n      subColumns: [],\n      // 展开的表头\n      subContentId: 0,\n      // 展开的id\n      subLoading: false,\n      // 展开的loading\n      dataList: {},\n      messData: null\n    };\n  },\n  computed: {\n    otherTypeList: function otherTypeList() {\n      return [// 全部\n      {\n        code: '0',\n        value: this.$t('assets.lerverageFlowingWater.directionAll')\n      }, // 转入杠杆\n      {\n        code: '1',\n        value: this.$t('assets.lerverageFlowingWater.directionIn')\n      }, // 转出杠杆\n      {\n        code: '2',\n        value: this.$t('assets.lerverageFlowingWater.directionOut')\n      }];\n    },\n    navTab: function navTab() {\n      var arr = [// 当前借贷\n      {\n        name: this.$t('assets.lerverageFlowingWater.tab1'),\n        index: 1\n      }, // 历史借贷\n      {\n        name: this.$t('assets.lerverageFlowingWater.tab2'),\n        index: 2\n      }, // 划转记录\n      {\n        name: this.$t('assets.lerverageFlowingWater.tab3'),\n        index: 3\n      }];\n      return arr;\n    },\n    // market 接口\n    market: function market() {\n      return this.$store.state.baseData.market;\n    },\n    // 表格title\n    columns: function columns() {\n      var list = [];\n\n      if (this.nowType === 1) {\n        list = [{\n          title: this.$t('assets.lerverageFlowingWater.tab1List1'),\n          width: '10%'\n        }, // 申请时间\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List2'),\n          width: '10%'\n        }, // 杠杆账户\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List3'),\n          width: '10%'\n        }, // 币种\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List4'),\n          width: '15%'\n        }, // 数量\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List5'),\n          width: '10%'\n        }, // 利率\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List6'),\n          width: '15%'\n        }, // 未还利息\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List7'),\n          width: '15%'\n        }, // 未还数量\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List8'),\n          width: '15%'\n        } // 操作\n        ];\n      }\n\n      if (this.nowType === 2) {\n        list = [{\n          title: this.$t('assets.lerverageFlowingWater.tab2List1'),\n          width: '10%'\n        }, // 申请时间\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab2List2'),\n          width: '10%'\n        }, // 杠杆账户\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab2List3'),\n          width: '10%'\n        }, // 币种\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab2List4'),\n          width: '15%'\n        }, // 数量\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab2List5'),\n          width: '15%'\n        }, // 利率\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab2List6'),\n          width: '15%'\n        }, // 未还利息\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab2List7'),\n          width: '15%'\n        }, // 操作\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab1List8'),\n          width: '10%'\n        } // 操作\n        ];\n      }\n\n      if (this.nowType === 3) {\n        list = [{\n          title: this.$t('assets.lerverageFlowingWater.tab3List1'),\n          width: '10%'\n        }, // 时间\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab3List2'),\n          width: '20%'\n        }, // 杠杆账户\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab3List3'),\n          width: '20%'\n        }, // 币种\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab3List4'),\n          width: '30%'\n        }, // 数量\n        {\n          title: this.$t('assets.lerverageFlowingWater.tab3List5'),\n          width: '20%'\n        } // 方向\n        ];\n      }\n\n      return list;\n    },\n    // 用于axios的symbol\n    axiosSymbol: function axiosSymbol() {\n      if (this.symbol === 'all') {\n        return null;\n      }\n\n      return this.symbol;\n    },\n    newcoinOpen: function newcoinOpen() {\n      return this.$store.state.baseData.newcoinOpen;\n    }\n  },\n  watch: {\n    market: function market(v) {\n      if (v && this.messData) {\n        this.setData();\n      }\n    },\n    messData: function messData(v) {\n      if (v && this.market) {\n        this.setData();\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      this.getMess();\n\n      if (this.market && this.messData) {\n        this.setData();\n      }\n    },\n    getShowSymbol: function getShowSymbol(v, coin) {\n      if (!this.market) return v;\n      var market = this.market.market;\n      var showSymbol = v;\n\n      if (this.market && market) {\n        var obj = market[coin][v];\n        showSymbol = obj.showName || obj.name;\n      }\n\n      return showSymbol;\n    },\n    getShowCoin: function getShowCoin(v) {\n      if (!this.market) return v;\n      var coinList = this.market.coinList;\n      var str = v;\n\n      if (this.market && coinList) {\n        str = getCoinShowName(v, coinList);\n      }\n\n      return str;\n    },\n    getMess: function getMess() {\n      var _this = this;\n\n      this.axios({\n        url: '/lever/finance/balance'\n      }).then(function (data) {\n        if (data.code.toString() === '0') {\n          var arr = [];\n          Object.keys(data.data.leverMap).forEach(function (item) {\n            var sp = item.split('/');\n            arr[sp[0] + sp[1]] = data.data.leverMap[item];\n          });\n          _this.messData = arr;\n        }\n      });\n    },\n    symbolChange: function symbolChange(item) {\n      this.symbol = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    otherTypeChange: function otherTypeChange(item) {\n      this.otherType = item.code;\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    // tab切换\n    currentType: function currentType(item) {\n      this.nowType = item.index; // this.symbol = 'all'\n\n      this.paginationObj.currentPage = 1; // 页码\n\n      this.paginationObj.total = 0; // 总条数\n\n      this.tabelList = [];\n      this.tabelLoading = true;\n      this.getData();\n    },\n    rateFixFn: function rateFixFn(v) {\n      return \"\".concat(fixD(v * 100, 2), \"%\");\n    },\n    setData: function setData() {\n      var _this2 = this;\n\n      var list = [{\n        code: 'all',\n        value: this.$t('assets.lerverageFlowingWater.allCoin')\n      }];\n      var market = this.market.market;\n      Object.keys(market).forEach(function (item) {\n        Object.keys(market[item]).forEach(function (cv) {\n          var obj = market[item][cv];\n\n          if (obj.is_open_lever) {\n            list.push({\n              code: obj.symbol,\n              value: _this2.getShowSymbol(obj.name, item)\n            });\n          }\n        });\n      });\n      this.symbolList = list;\n      this.symbol = 'all';\n      this.getData();\n    },\n    getData: function getData() {\n      if (this.nowType === 1) {\n        this.rechargeData();\n      } else if (this.nowType === 2) {\n        this.withdrawData();\n      } else {\n        this.otherData();\n      }\n    },\n    repaymentSuccess: function repaymentSuccess() {\n      this.getData();\n    },\n    pagechange: function pagechange(v) {\n      this.paginationObj.currentPage = v;\n      this.getData();\n    },\n    tableClick: function tableClick(type, data) {\n      if (type === 'repayment') {\n        var Did = data.split('_')[1];\n        var obj = this.dataList[Did];\n        this.$bus.$emit('coRepayment', obj);\n      } else if (type === 'details') {\n        this.getSubTableData(data);\n      }\n    },\n    typeText: function typeText(v) {\n      var str = '';\n\n      switch (v) {\n        case '1':\n          str = this.$t('assets.leverageToLoan.typeText1');\n          break;\n\n        case '2':\n          str = this.$t('assets.leverageToLoan.typeText2');\n          break;\n\n        default:\n          str = this.$t('assets.leverageToLoan.typeText3');\n      }\n\n      return str;\n    },\n    // 查看详情\n    getSubTableData: function getSubTableData(v) {\n      var _this3 = this;\n\n      if (v.open) {\n        var sp = v.id.split('_');\n        var vID = Number(sp[1]); // const symbol = sp[0];\n\n        this.subContentId = v.id;\n        this.subColumns = [this.$t('order.exchangeOrder.detailsTime'), // 时间\n        this.$t('assets.leverageToLoan.list3'), // 币种\n        this.$t('order.exchangeOrder.detailsVolume'), // 数量\n        this.$t('assets.flowingWater.type') // 类型\n        ];\n        this.subContent = [];\n        this.subLoading = true;\n        this.axios({\n          url: '/lever/return/info',\n          method: 'post',\n          params: {\n            id: vID.toString(),\n            pageSize: 10000\n          }\n        }).then(function (data) {\n          if (v.id !== _this3.subContentId) {\n            return;\n          }\n\n          if (data.code.toString() === '0') {\n            var list = [];\n            data.data.financeList.forEach(function (item) {\n              // const [baseCoin, countCoin] = this.symbol.split('/');\n              // const { marketFix, coinFix } = this.getFix(countCoin, baseCoin);\n              // const obj = this.messData[symbol] || {};\n              // let returnFix = obj.baseReturnPrecision || 8;\n              var returnFix = 8; // if (item.coin === obj.quoteCoin) {\n              //   returnFix = obj.quoteReturnPrecision || 8;\n              // }\n\n              list.push({\n                ctime: formatTime(Number(item.repaymentTime)),\n                coin: _this3.getShowCoin(item.coin),\n                volume: fixD(item.returnMoney, returnFix),\n                type: _this3.typeText(item.type.toString())\n              });\n            });\n            _this3.subLoading = false;\n            _this3.subContent = list;\n          } else {\n            _this3.subLoading = false;\n\n            _this3.$bus.$emit('tip', {\n              text: data.msg,\n              type: 'error'\n            });\n          }\n        });\n      }\n    },\n    // 当前借贷数据数据\n    rechargeData: function rechargeData() {\n      var _this4 = this;\n\n      this.axios({\n        url: 'lever/borrow/new',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          symbol: this.axiosSymbol\n        }\n      }).then(function (data) {\n        if (_this4.nowType !== 1) return;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.financeList.forEach(function (item) {\n            var coinList = _this4.market.coinList;\n            var fix = coinList[item.coin] && coinList[item.coin].showPrecision || 0;\n            var obj = _this4.messData[item.symbol] || {};\n            var returnFix = obj.baseReturnPrecision || 8;\n\n            if (item.coin === obj.quoteCoin) {\n              returnFix = obj.quoteReturnPrecision || 8;\n            } // 新增修改精度为 8\n\n\n            returnFix = 8;\n            fix = 8;\n            _this4.dataList[item.id] = item;\n            list.push({\n              id: \"\".concat(item.symbol, \"_\").concat(item.id),\n              data: [formatTime(Number(item.ctime)), item.showName || item.symbol.toUpperCase(), _this4.getShowCoin(item.coin.toUpperCase()), fixD(item.borrowMoney, fix), _this4.rateFixFn(item.interestRate), fixD(item.oweInterest, returnFix), fixD(item.oweAmount, returnFix), [{\n                type: 'subTable',\n                // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n                text: _this4.$t('order.exchangeOrder.details'),\n                // 详情\n                eventType: 'details'\n              }, {\n                type: 'button',\n                // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n                text: _this4.$t('assets.lerverageFlowingWater.repayment'),\n                // 归还\n                eventType: 'repayment'\n              }]]\n            });\n          });\n          _this4.tabelLoading = false;\n          _this4.tabelList = list;\n          _this4.paginationObj.total = data.data.count;\n        }\n      });\n    },\n    getHisStatus: function getHisStatus(status) {\n      var str = '';\n\n      switch (status) {\n        case 1:\n          str = this.$t('assets.lerverageFlowingWater.status1');\n          break;\n\n        case 2:\n          str = this.$t('assets.lerverageFlowingWater.status2');\n          break;\n\n        case 3:\n          str = this.$t('assets.lerverageFlowingWater.status3');\n          break;\n\n        case 4:\n          str = this.$t('assets.lerverageFlowingWater.status4');\n          break;\n\n        case 5:\n          str = this.$t('assets.lerverageFlowingWater.status5');\n          break;\n\n        case 6:\n          str = this.$t('assets.lerverageFlowingWater.status6');\n          break;\n\n        case 7:\n          str = this.$t('assets.lerverageFlowingWater.status7');\n          break;\n\n        default:\n          str = '';\n      }\n\n      return str;\n    },\n    withdrawData: function withdrawData() {\n      var _this5 = this;\n\n      this.axios({\n        url: '/lever/borrow/history',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          symbol: this.axiosSymbol\n        }\n      }).then(function (data) {\n        if (_this5.nowType !== 2) return;\n\n        if (data.code.toString() === '0') {\n          var list = [];\n          data.data.financeList.forEach(function (item) {\n            var coinList = _this5.market.coinList;\n            var fix = coinList[item.coin] && coinList[item.coin].showPrecision || 0;\n            var obj = _this5.messData[item.symbol] || {};\n            var returnFix = obj.baseReturnPrecision;\n\n            if (item.coin === obj.quoteCoin) {\n              returnFix = obj.quoteReturnPrecision || 8;\n            } // 新增修改精度为 8\n\n\n            returnFix = 8;\n            fix = 8;\n            list.push({\n              id: \"\".concat(item.symbol, \"_\").concat(item.id),\n              data: [formatTime(Number(item.ctime)), item.showName || item.symbol.toUpperCase(), _this5.getShowCoin(item.coin.toUpperCase()), fixD(item.borrowMoney, fix), _this5.rateFixFn(item.interestRate), fixD(item.interest, returnFix), _this5.getHisStatus(item.status), [{\n                type: 'subTable',\n                // 'link' ' button' ,'html', 'label', 'icon' ‘str’\n                text: _this5.$t('order.exchangeOrder.details'),\n                // 详情\n                eventType: 'details'\n              }]]\n            });\n          });\n          _this5.tabelLoading = false;\n          _this5.tabelList = list;\n          _this5.paginationObj.total = data.data.count;\n        }\n      });\n    },\n    // 划转记录\n    otherData: function otherData() {\n      var _this6 = this;\n\n      this.axios({\n        url: 'lever/finance/transfer/list',\n        params: {\n          pageSize: this.paginationObj.display,\n          // 每页条数\n          page: this.paginationObj.currentPage,\n          // 页码\n          symbol: this.axiosSymbol,\n          transactionType: this.otherType === '0' ? undefined : this.otherType\n        }\n      }).then(function (data) {\n        if (_this6.nowType !== 3) return;\n\n        if (data.code.toString() === '0') {\n          var _data$data = data.data,\n              financeList = _data$data.financeList,\n              count = _data$data.count;\n          var list = [];\n          financeList.forEach(function (item, index) {\n            var coinList = _this6.market.coinList;\n            var fix = coinList[item.coinSymbol] && coinList[item.coinSymbol].showPrecision || 0;\n            fix = 8;\n            var side = item.transferType === 1 ? _this6.$t('assets.lerverageFlowingWater.directionIn') : _this6.$t('assets.lerverageFlowingWater.directionOut'); // 状态\n\n            list.push({\n              id: index,\n              data: [formatTime(item.createTime), // 时间\n              item.showName || item.symbol, // 杠杆账户\n              _this6.getShowCoin(item.coinSymbol), // 币种\n              fixD(item.amount, fix), // 数量\n              [{\n                text: side,\n                classes: item.transferType === 1 ? 'e-5-cl' : 'e-6-cl'\n              }]]\n            });\n          });\n          _this6.tabelLoading = false;\n          _this6.tabelList = list;\n          _this6.paginationObj.total = count;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/h/partTimeJob/blockchain-ui-privatization/PC/common-mixin/assets/lerverageFlowingWater/lerverageFlowingWater.js"],"names":["fixD","formatTime","getCoinShowName","colorMap","imgMap","name","data","tabelLoading","nowType","symbol","tabelList","symbolList","otherType","paginationObj","total","display","currentPage","revokeList","subContent","subColumns","subContentId","subLoading","dataList","messData","computed","otherTypeList","code","value","$t","navTab","arr","index","market","$store","state","baseData","columns","list","title","width","axiosSymbol","newcoinOpen","watch","v","setData","methods","init","getMess","getShowSymbol","coin","showSymbol","obj","showName","getShowCoin","coinList","str","axios","url","then","toString","Object","keys","leverMap","forEach","item","sp","split","symbolChange","getData","otherTypeChange","currentType","rateFixFn","cv","is_open_lever","push","rechargeData","withdrawData","otherData","repaymentSuccess","pagechange","tableClick","type","Did","$bus","$emit","getSubTableData","typeText","open","id","vID","Number","method","params","pageSize","financeList","returnFix","ctime","repaymentTime","volume","returnMoney","text","msg","page","fix","showPrecision","baseReturnPrecision","quoteCoin","quoteReturnPrecision","toUpperCase","borrowMoney","interestRate","oweInterest","oweAmount","eventType","count","getHisStatus","status","interest","transactionType","undefined","coinSymbol","side","transferType","createTime","amount","classes"],"mappings":"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","sourcesContent":["import {\r\n  fixD, formatTime, getCoinShowName, colorMap, imgMap,\r\n} from '@/utils';\r\n\r\n\r\nexport default {\r\n  name: 'page-flowingWater',\r\n  data() {\r\n    return {\r\n      imgMap,\r\n      colorMap,\r\n      tabelLoading: true,\r\n      nowType: 1, // 1为当前借贷 2为历史借贷 3为划转记录\r\n      symbol: '', // 当前币种 (当前借贷/历史借贷使用)\r\n      tabelList: [], // table数据列表\r\n      symbolList: [], // 币种选择列表\r\n      otherType: '0', // 其他记录 type\r\n      paginationObj: {\r\n        total: 0, // 数据总条数\r\n        display: 10, // 每页显示条数\r\n        currentPage: 1, // 当前页码\r\n      },\r\n      revokeList: [], // 撤销队列\r\n      subContent: [], // 展开的数据\r\n      subColumns: [], // 展开的表头\r\n      subContentId: 0, // 展开的id\r\n      subLoading: false, // 展开的loading\r\n      dataList: {},\r\n      messData: null,\r\n    };\r\n  },\r\n  computed: {\r\n    otherTypeList() {\r\n      return [\r\n        // 全部\r\n        { code: '0', value: this.$t('assets.lerverageFlowingWater.directionAll') },\r\n        // 转入杠杆\r\n        { code: '1', value: this.$t('assets.lerverageFlowingWater.directionIn') },\r\n        // 转出杠杆\r\n        { code: '2', value: this.$t('assets.lerverageFlowingWater.directionOut') },\r\n      ];\r\n    },\r\n    navTab() {\r\n      const arr = [\r\n        // 当前借贷\r\n        { name: this.$t('assets.lerverageFlowingWater.tab1'), index: 1 },\r\n        // 历史借贷\r\n        { name: this.$t('assets.lerverageFlowingWater.tab2'), index: 2 },\r\n        // 划转记录\r\n        { name: this.$t('assets.lerverageFlowingWater.tab3'), index: 3 },\r\n      ];\r\n      return arr;\r\n    },\r\n    // market 接口\r\n    market() { return this.$store.state.baseData.market; },\r\n    // 表格title\r\n    columns() {\r\n      let list = [];\r\n      if (this.nowType === 1) {\r\n        list = [\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List1'), width: '10%' }, // 申请时间\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List2'), width: '10%' }, // 杠杆账户\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List3'), width: '10%' }, // 币种\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List4'), width: '15%' }, // 数量\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List5'), width: '10%' }, // 利率\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List6'), width: '15%' }, // 未还利息\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List7'), width: '15%' }, // 未还数量\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List8'), width: '15%' }, // 操作\r\n        ];\r\n      } if (this.nowType === 2) {\r\n        list = [\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List1'), width: '10%' }, // 申请时间\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List2'), width: '10%' }, // 杠杆账户\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List3'), width: '10%' }, // 币种\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List4'), width: '15%' }, // 数量\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List5'), width: '15%' }, // 利率\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List6'), width: '15%' }, // 未还利息\r\n          { title: this.$t('assets.lerverageFlowingWater.tab2List7'), width: '15%' }, // 操作\r\n          { title: this.$t('assets.lerverageFlowingWater.tab1List8'), width: '10%' }, // 操作\r\n        ];\r\n      } if (this.nowType === 3) {\r\n        list = [\r\n          { title: this.$t('assets.lerverageFlowingWater.tab3List1'), width: '10%' }, // 时间\r\n          { title: this.$t('assets.lerverageFlowingWater.tab3List2'), width: '20%' }, // 杠杆账户\r\n          { title: this.$t('assets.lerverageFlowingWater.tab3List3'), width: '20%' }, // 币种\r\n          { title: this.$t('assets.lerverageFlowingWater.tab3List4'), width: '30%' }, // 数量\r\n          { title: this.$t('assets.lerverageFlowingWater.tab3List5'), width: '20%' }, // 方向\r\n        ];\r\n      }\r\n      return list;\r\n    },\r\n    // 用于axios的symbol\r\n    axiosSymbol() {\r\n      if (this.symbol === 'all') {\r\n        return null;\r\n      }\r\n      return this.symbol;\r\n    },\r\n    newcoinOpen() {\r\n      return this.$store.state.baseData.newcoinOpen;\r\n    },\r\n  },\r\n  watch: {\r\n    market(v) { if (v && this.messData) { this.setData(); } },\r\n    messData(v) { if (v && this.market) { this.setData(); } },\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getMess();\r\n      if (this.market && this.messData) { this.setData(); }\r\n    },\r\n    getShowSymbol(v, coin) {\r\n      if (!this.market) return v;\r\n      const { market } = this.market;\r\n      let showSymbol = v;\r\n      if (this.market && market) {\r\n        const obj = market[coin][v];\r\n        showSymbol = obj.showName || obj.name;\r\n      }\r\n      return showSymbol;\r\n    },\r\n    getShowCoin(v) {\r\n      if (!this.market) return v;\r\n      const { coinList } = this.market;\r\n      let str = v;\r\n      if (this.market && coinList) {\r\n        str = getCoinShowName(v, coinList);\r\n      }\r\n      return str;\r\n    },\r\n    getMess() {\r\n      this.axios({\r\n        url: '/lever/finance/balance',\r\n      }).then((data) => {\r\n        if (data.code.toString() === '0') {\r\n          const arr = [];\r\n          Object.keys(data.data.leverMap).forEach((item) => {\r\n            const sp = item.split('/');\r\n            arr[sp[0] + sp[1]] = data.data.leverMap[item];\r\n          });\r\n          this.messData = arr;\r\n        }\r\n      });\r\n    },\r\n    symbolChange(item) {\r\n      this.symbol = item.code;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.getData();\r\n    },\r\n    otherTypeChange(item) {\r\n      this.otherType = item.code;\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.getData();\r\n    },\r\n    // tab切换\r\n    currentType(item) {\r\n      this.nowType = item.index;\r\n      // this.symbol = 'all'\r\n      this.paginationObj.currentPage = 1; // 页码\r\n      this.paginationObj.total = 0; // 总条数\r\n      this.tabelList = [];\r\n      this.tabelLoading = true;\r\n      this.getData();\r\n    },\r\n    rateFixFn(v) {\r\n      return `${fixD(v * 100, 2)}%`;\r\n    },\r\n    setData() {\r\n      const list = [{ code: 'all', value: this.$t('assets.lerverageFlowingWater.allCoin') }];\r\n      const { market } = this.market;\r\n      Object.keys(market).forEach((item) => {\r\n        Object.keys(market[item]).forEach((cv) => {\r\n          const obj = market[item][cv];\r\n          if (obj.is_open_lever) {\r\n            list.push({ code: obj.symbol, value: this.getShowSymbol(obj.name, item) });\r\n          }\r\n        });\r\n      });\r\n      this.symbolList = list;\r\n      this.symbol = 'all';\r\n      this.getData();\r\n    },\r\n    getData() {\r\n      if (this.nowType === 1) {\r\n        this.rechargeData();\r\n      } else if (this.nowType === 2) {\r\n        this.withdrawData();\r\n      } else {\r\n        this.otherData();\r\n      }\r\n    },\r\n    repaymentSuccess() {\r\n      this.getData();\r\n    },\r\n    pagechange(v) {\r\n      this.paginationObj.currentPage = v;\r\n      this.getData();\r\n    },\r\n    tableClick(type, data) {\r\n      if (type === 'repayment') {\r\n        const Did = data.split('_')[1];\r\n        const obj = this.dataList[Did];\r\n        this.$bus.$emit('coRepayment', obj);\r\n      } else if (type === 'details') {\r\n        this.getSubTableData(data);\r\n      }\r\n    },\r\n    typeText(v) {\r\n      let str = '';\r\n      switch (v) {\r\n        case '1':\r\n          str = this.$t('assets.leverageToLoan.typeText1');\r\n          break;\r\n        case '2':\r\n          str = this.$t('assets.leverageToLoan.typeText2');\r\n          break;\r\n        default:\r\n          str = this.$t('assets.leverageToLoan.typeText3');\r\n      }\r\n      return str;\r\n    },\r\n    // 查看详情\r\n    getSubTableData(v) {\r\n      if (v.open) {\r\n        const sp = v.id.split('_');\r\n        const vID = Number(sp[1]);\r\n        // const symbol = sp[0];\r\n        this.subContentId = v.id;\r\n        this.subColumns = [\r\n          this.$t('order.exchangeOrder.detailsTime'), // 时间\r\n          this.$t('assets.leverageToLoan.list3'), // 币种\r\n          this.$t('order.exchangeOrder.detailsVolume'), // 数量\r\n          this.$t('assets.flowingWater.type'), // 类型\r\n        ];\r\n        this.subContent = [];\r\n        this.subLoading = true;\r\n        this.axios({\r\n          url: '/lever/return/info',\r\n          method: 'post',\r\n          params: {\r\n            id: vID.toString(),\r\n            pageSize: 10000,\r\n          },\r\n        }).then((data) => {\r\n          if (v.id !== this.subContentId) { return; }\r\n          if (data.code.toString() === '0') {\r\n            const list = [];\r\n            data.data.financeList.forEach((item) => {\r\n              // const [baseCoin, countCoin] = this.symbol.split('/');\r\n              // const { marketFix, coinFix } = this.getFix(countCoin, baseCoin);\r\n              // const obj = this.messData[symbol] || {};\r\n              // let returnFix = obj.baseReturnPrecision || 8;\r\n              const returnFix = 8;\r\n              // if (item.coin === obj.quoteCoin) {\r\n              //   returnFix = obj.quoteReturnPrecision || 8;\r\n              // }\r\n              list.push({\r\n                ctime: formatTime(Number(item.repaymentTime)),\r\n                coin: this.getShowCoin(item.coin),\r\n                volume: fixD(item.returnMoney, returnFix),\r\n                type: this.typeText(item.type.toString()),\r\n              });\r\n            });\r\n            this.subLoading = false;\r\n            this.subContent = list;\r\n          } else {\r\n            this.subLoading = false;\r\n            this.$bus.$emit('tip', { text: data.msg, type: 'error' });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 当前借贷数据数据\r\n    rechargeData() {\r\n      this.axios({\r\n        url: 'lever/borrow/new',\r\n        params: {\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n          symbol: this.axiosSymbol,\r\n        },\r\n      }).then((data) => {\r\n        if (this.nowType !== 1) return;\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          data.data.financeList.forEach((item) => {\r\n            const { coinList } = this.market;\r\n            let fix = (coinList[item.coin] && coinList[item.coin].showPrecision) || 0;\r\n            const obj = this.messData[item.symbol] || {};\r\n            let returnFix = obj.baseReturnPrecision || 8;\r\n            if (item.coin === obj.quoteCoin) {\r\n              returnFix = obj.quoteReturnPrecision || 8;\r\n            }\r\n            // 新增修改精度为 8\r\n            returnFix = 8;\r\n            fix = 8;\r\n            this.dataList[item.id] = item;\r\n            list.push({\r\n              id: `${item.symbol}_${item.id}`,\r\n              data: [\r\n                formatTime(Number(item.ctime)),\r\n                item.showName || item.symbol.toUpperCase(),\r\n                this.getShowCoin(item.coin.toUpperCase()),\r\n                fixD(item.borrowMoney, fix),\r\n                this.rateFixFn(item.interestRate),\r\n                fixD(item.oweInterest, returnFix),\r\n                fixD(item.oweAmount, returnFix),\r\n                [\r\n                  {\r\n                    type: 'subTable', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                    text: this.$t('order.exchangeOrder.details'), // 详情\r\n                    eventType: 'details',\r\n                  },\r\n                  {\r\n                    type: 'button', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                    text: this.$t('assets.lerverageFlowingWater.repayment'), // 归还\r\n                    eventType: 'repayment',\r\n                  },\r\n                ],\r\n              ],\r\n            });\r\n          });\r\n          this.tabelLoading = false;\r\n          this.tabelList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        }\r\n      });\r\n    },\r\n    getHisStatus(status) {\r\n      let str = '';\r\n      switch (status) {\r\n        case 1:\r\n          str = this.$t('assets.lerverageFlowingWater.status1');\r\n          break;\r\n        case 2:\r\n          str = this.$t('assets.lerverageFlowingWater.status2');\r\n          break;\r\n        case 3:\r\n          str = this.$t('assets.lerverageFlowingWater.status3');\r\n          break;\r\n        case 4:\r\n          str = this.$t('assets.lerverageFlowingWater.status4');\r\n          break;\r\n        case 5:\r\n          str = this.$t('assets.lerverageFlowingWater.status5');\r\n          break;\r\n        case 6:\r\n          str = this.$t('assets.lerverageFlowingWater.status6');\r\n          break;\r\n        case 7:\r\n          str = this.$t('assets.lerverageFlowingWater.status7');\r\n          break;\r\n        default:\r\n          str = '';\r\n      }\r\n      return str;\r\n    },\r\n    withdrawData() {\r\n      this.axios({\r\n        url: '/lever/borrow/history',\r\n        params: {\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n          symbol: this.axiosSymbol,\r\n        },\r\n      }).then((data) => {\r\n        if (this.nowType !== 2) return;\r\n        if (data.code.toString() === '0') {\r\n          const list = [];\r\n          data.data.financeList.forEach((item) => {\r\n            const { coinList } = this.market;\r\n            let fix = (coinList[item.coin] && coinList[item.coin].showPrecision) || 0;\r\n            const obj = this.messData[item.symbol] || {};\r\n            let returnFix = obj.baseReturnPrecision;\r\n            if (item.coin === obj.quoteCoin) {\r\n              returnFix = obj.quoteReturnPrecision || 8;\r\n            }\r\n            // 新增修改精度为 8\r\n            returnFix = 8;\r\n            fix = 8;\r\n            list.push({\r\n              id: `${item.symbol}_${item.id}`,\r\n              data: [\r\n                formatTime(Number(item.ctime)),\r\n                item.showName || item.symbol.toUpperCase(),\r\n                this.getShowCoin(item.coin.toUpperCase()),\r\n                fixD(item.borrowMoney, fix),\r\n                this.rateFixFn(item.interestRate),\r\n                fixD(item.interest, returnFix),\r\n                this.getHisStatus(item.status),\r\n                [\r\n                  {\r\n                    type: 'subTable', // 'link' ' button' ,'html', 'label', 'icon' ‘str’\r\n                    text: this.$t('order.exchangeOrder.details'), // 详情\r\n                    eventType: 'details',\r\n                  },\r\n                ],\r\n              ],\r\n            });\r\n          });\r\n          this.tabelLoading = false;\r\n          this.tabelList = list;\r\n          this.paginationObj.total = data.data.count;\r\n        }\r\n      });\r\n    },\r\n    // 划转记录\r\n    otherData() {\r\n      this.axios({\r\n        url: 'lever/finance/transfer/list',\r\n        params: {\r\n          pageSize: this.paginationObj.display, // 每页条数\r\n          page: this.paginationObj.currentPage, // 页码\r\n          symbol: this.axiosSymbol,\r\n          transactionType: this.otherType === '0' ? undefined : this.otherType,\r\n        },\r\n      }).then((data) => {\r\n        if (this.nowType !== 3) return;\r\n        if (data.code.toString() === '0') {\r\n          const { financeList, count } = data.data;\r\n          const list = [];\r\n          financeList.forEach((item, index) => {\r\n            const { coinList } = this.market;\r\n            let fix = (coinList[item.coinSymbol] && coinList[item.coinSymbol].showPrecision) || 0;\r\n            fix = 8;\r\n            const side = item.transferType === 1\r\n              ? this.$t('assets.lerverageFlowingWater.directionIn')\r\n              : this.$t('assets.lerverageFlowingWater.directionOut'); // 状态\r\n            list.push({\r\n              id: index,\r\n              data: [\r\n                formatTime(item.createTime), // 时间\r\n                item.showName || item.symbol, // 杠杆账户\r\n                this.getShowCoin(item.coinSymbol), // 币种\r\n                fixD(item.amount, fix), // 数量\r\n                [{\r\n                  text: side,\r\n                  classes: item.transferType === 1 ? 'e-5-cl' : 'e-6-cl',\r\n                }],\r\n\r\n              ],\r\n            });\r\n          });\r\n          this.tabelLoading = false;\r\n          this.tabelList = list;\r\n          this.paginationObj.total = count;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n"]}]}